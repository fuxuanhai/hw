(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-12f9"],{"+plK":function(e,t,n){n("ApPD"),e.exports=n("WEpk").Object.getPrototypeOf},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},A2tw:function(e,t,n){"use strict";(function(e){var t=n("SEkw"),r=n.n(t),a=n("F+2o"),i=n.n(a),s=n("+JPL"),o=n.n(s),l=n("Yz+Y"),f=n.n(l),u=n("EJiy"),c=n.n(u);!function(t,n){"object"==c()(e)&&"object"==c()(e.exports)?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:void 0,function(e,t){var a=[],s=e.document,l=f.a,u=a.slice,_=a.concat,h=a.push,p=a.indexOf,d={},m=d.toString,b=d.hasOwnProperty,v=b.toString,g=v.call(Object),y={},x=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},S=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function A(e,t,n){var r,a=(t=t||s).createElement("script");if(a.text=e,n)for(r in w)n[r]&&(a[r]=n[r]);t.head.appendChild(a).parentNode.removeChild(a)}function T(e){return null==e?e+"":"object"==(void 0===e?"undefined":c()(e))||"function"==typeof e?d[m.call(e)]||"object":void 0===e?"undefined":c()(e)}var R=function e(t,n){return new e.fn.init(t,n)},M=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!x(e)&&!S(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}R.fn=R.prototype={jquery:"3.3.1",constructor:R,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=R.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return R.each(this,e)},map:function(e){return this.pushStack(R.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},R.extend=R.fn.extend=function(){var e,t,n,r,a,i,s=arguments[0]||{},o=1,l=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[o]||{},o++),"object"==(void 0===s?"undefined":c()(s))||x(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)n=s[t],s!==(r=e[t])&&(f&&r&&(R.isPlainObject(r)||(a=Array.isArray(r)))?(a?(a=!1,i=n&&Array.isArray(n)?n:[]):i=n&&R.isPlainObject(n)?n:{},s[t]=R.extend(f,i,r)):void 0!==r&&(s[t]=r));return s},R.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==m.call(e)||(t=l(e))&&("function"!=typeof(n=b.call(t,"constructor")&&t.constructor)||v.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){A(e)},each:function(e,t){var n,r=0;if(E(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(M,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?R.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:p.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,s=!n;a<i;a++)!t(e[a],a)!==s&&r.push(e[a]);return r},map:function(e,t,n){var r,a,i=0,s=[];if(E(e))for(r=e.length;i<r;i++)null!=(a=t(e[i],i,n))&&s.push(a);else for(i in e)null!=(a=t(e[i],i,n))&&s.push(a);return _.apply([],s)},guid:1,support:y}),"function"==typeof o.a&&(R.fn[i.a]=a[i.a]),R.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var k=function(e){var t,n,r,a,i,s,o,l,f,u,c,_,h,p,d,m,b,v,g,y="sizzle"+1*new Date,x=e.document,S=0,w=0,A=se(),T=se(),R=se(),M=function(e,t){return e===t&&(c=!0),0},E={}.hasOwnProperty,k=[],B=k.pop,P=k.push,N=k.push,H=k.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",C="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+C+"*("+O+")(?:"+C+"*([*^$|!~]?=)"+C+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+C+"*\\]",q=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",V=new RegExp(C+"+","g"),j=new RegExp("^"+C+"+|((?:^|[^\\\\])(?:\\\\.)*)"+C+"+$","g"),X=new RegExp("^"+C+"*,"+C+"*"),F=new RegExp("^"+C+"*([>+~]|"+C+")"+C+"*"),Y=new RegExp("="+C+"*([^\\]'\"]*?)"+C+"*\\]","g"),z=new RegExp(q),W=new RegExp("^"+O+"$"),G={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+C+"*(even|odd|(([+-]|)(\\d*)n|)"+C+"*(?:([+-]|)"+C+"*(\\d+)|))"+C+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+C+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+C+"*((?:-\\d)?\\d*)"+C+"*\\)|)(?=[^-]|$)","i")},U=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+C+"?|("+C+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){_()},ae=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{N.apply(k=H.call(x.childNodes),x.childNodes),k[x.childNodes.length].nodeType}catch(e){N={apply:k.length?function(e,t){P.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,a){var i,o,f,u,c,p,b,v=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!a&&((t?t.ownerDocument||t:x)!==h&&_(t),t=t||h,d)){if(11!==S&&(c=Q.exec(e)))if(i=c[1]){if(9===S){if(!(f=t.getElementById(i)))return r;if(f.id===i)return r.push(f),r}else if(v&&(f=v.getElementById(i))&&g(t,f)&&f.id===i)return r.push(f),r}else{if(c[2])return N.apply(r,t.getElementsByTagName(e)),r;if((i=c[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!R[e+" "]&&(!m||!m.test(e))){if(1!==S)v=t,b=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=y),o=(p=s(e)).length;o--;)p[o]="#"+u+" "+be(p[o]);b=p.join(","),v=$.test(e)&&de(t.parentNode)||t}if(b)try{return N.apply(r,v.querySelectorAll(b)),r}catch(e){}finally{u===y&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,r,a)}function se(){var e=[];return function t(n,a){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function oe(e){return e[y]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),a=n.length;a--;)r.attrHandle[n[a]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function _e(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return oe(function(t){return t=+t,oe(function(n,r){for(var a,i=e([],n.length,t),s=i.length;s--;)n[a=i[s]]&&(n[a]=!(r[a]=n[a]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},_=ie.setDocument=function(e){var t,a,s=e?e.ownerDocument||e:x;return s!==h&&9===s.nodeType&&s.documentElement?(p=(h=s).documentElement,d=!i(h),x!==h&&(a=h.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",re,!1):a.attachEvent&&a.attachEvent("onunload",re)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(h.getElementsByClassName),n.getById=le(function(e){return p.appendChild(e).id=y,!h.getElementsByName||!h.getElementsByName(y).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&d){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&d){var n,r,a,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(a=t.getElementsByName(e),r=0;i=a[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&d)return t.getElementsByClassName(e)},b=[],m=[],(n.qsa=Z.test(h.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+C+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+C+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+y+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+C+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),b.push("!=",q)}),m=m.length&&new RegExp(m.join("|")),b=b.length&&new RegExp(b.join("|")),t=Z.test(p.compareDocumentPosition),g=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===h||e.ownerDocument===x&&g(x,e)?-1:t===h||t.ownerDocument===x&&g(x,t)?1:u?L(u,e)-L(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,a=e.parentNode,i=t.parentNode,s=[e],o=[t];if(!a||!i)return e===h?-1:t===h?1:a?-1:i?1:u?L(u,e)-L(u,t):0;if(a===i)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;s[r]===o[r];)r++;return r?ue(s[r],o[r]):s[r]===x?-1:o[r]===x?1:0},h):h},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&_(e),t=t.replace(Y,"='$1']"),n.matchesSelector&&d&&!R[t+" "]&&(!b||!b.test(t))&&(!m||!m.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,h,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==h&&_(e),g(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==h&&_(e);var a=r.attrHandle[t.toLowerCase()],i=a&&E.call(r.attrHandle,t.toLowerCase())?a(e,t,!d):void 0;return void 0!==i?i:n.attributes||!d?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,ne)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],a=0,i=0;if(c=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(M),c){for(;t=e[i++];)t===e[i]&&(a=r.push(i));for(;a--;)e.splice(r[a],1)}return u=null,e},a=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:oe,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=new RegExp("(^|"+C+")"+e+"("+C+"|$)"))&&A(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=ie.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var f,u,c,_,h,p,d=i!==s?"nextSibling":"previousSibling",m=t.parentNode,b=o&&t.nodeName.toLowerCase(),v=!l&&!o,g=!1;if(m){if(i){for(;d;){for(_=t;_=_[d];)if(o?_.nodeName.toLowerCase()===b:1===_.nodeType)return!1;p=d="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&v){for(g=(h=(f=(u=(c=(_=m)[y]||(_[y]={}))[_.uniqueID]||(c[_.uniqueID]={}))[e]||[])[0]===S&&f[1])&&f[2],_=h&&m.childNodes[h];_=++h&&_&&_[d]||(g=h=0)||p.pop();)if(1===_.nodeType&&++g&&_===t){u[e]=[S,h,g];break}}else if(v&&(g=h=(f=(u=(c=(_=t)[y]||(_[y]={}))[_.uniqueID]||(c[_.uniqueID]={}))[e]||[])[0]===S&&f[1]),!1===g)for(;(_=++h&&_&&_[d]||(g=h=0)||p.pop())&&((o?_.nodeName.toLowerCase()!==b:1!==_.nodeType)||!++g||(v&&((u=(c=_[y]||(_[y]={}))[_.uniqueID]||(c[_.uniqueID]={}))[e]=[S,g]),_!==t)););return(g-=a)===r||g%r==0&&g/r>=0}}},PSEUDO:function(e,t){var n,a=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[y]?a(t):a.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var r,i=a(e,t),s=i.length;s--;)e[r=L(e,i[s])]=!(n[r]=i[s])}):function(e){return a(e,0,n)}):a}},pseudos:{not:oe(function(e){var t=[],n=[],r=o(e.replace(j,"$1"));return r[y]?oe(function(e,t,n,a){for(var i,s=r(e,null,a,[]),o=e.length;o--;)(i=s[o])&&(e[o]=!(t[o]=i))}):function(e,a,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:oe(function(e){return function(t){return ie(e,t).length>0}}),contains:oe(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:oe(function(e){return W.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return U.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=_e(t);function me(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,a=t.next,i=a||r,s=n&&"parentNode"===i,o=w++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,a);return!1}:function(t,n,l){var f,u,c,_=[S,o];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=(c=t[y]||(t[y]={}))[t.uniqueID]||(c[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[r]||t;else{if((f=u[i])&&f[0]===S&&f[1]===o)return _[2]=f[2];if(u[i]=_,_[2]=e(t,n,l))return!0}return!1}}function ge(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,a){for(var i,s=[],o=0,l=e.length,f=null!=t;o<l;o++)(i=e[o])&&(n&&!n(i,r,a)||(s.push(i),f&&t.push(o)));return s}function xe(e,t,n,r,a,i){return r&&!r[y]&&(r=xe(r)),a&&!a[y]&&(a=xe(a,i)),oe(function(i,s,o,l){var f,u,c,_=[],h=[],p=s.length,d=i||function(e,t,n){for(var r=0,a=t.length;r<a;r++)ie(e,t[r],n);return n}(t||"*",o.nodeType?[o]:o,[]),m=!e||!i&&t?d:ye(d,_,e,o,l),b=n?a||(i?e:p||r)?[]:s:m;if(n&&n(m,b,o,l),r)for(f=ye(b,h),r(f,[],o,l),u=f.length;u--;)(c=f[u])&&(b[h[u]]=!(m[h[u]]=c));if(i){if(a||e){if(a){for(f=[],u=b.length;u--;)(c=b[u])&&f.push(m[u]=c);a(null,b=[],f,l)}for(u=b.length;u--;)(c=b[u])&&(f=a?L(i,c):_[u])>-1&&(i[f]=!(s[f]=c))}}else b=ye(b===s?b.splice(p,b.length):b),a?a(null,s,b,l):N.apply(s,b)})}function Se(e){for(var t,n,a,i=e.length,s=r.relative[e[0].type],o=s||r.relative[" "],l=s?1:0,u=ve(function(e){return e===t},o,!0),c=ve(function(e){return L(t,e)>-1},o,!0),_=[function(e,n,r){var a=!s&&(r||n!==f)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,a}];l<i;l++)if(n=r.relative[e[l].type])_=[ve(ge(_),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[y]){for(a=++l;a<i&&!r.relative[e[a].type];a++);return xe(l>1&&ge(_),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),n,l<a&&Se(e.slice(l,a)),a<i&&Se(e=e.slice(a)),a<i&&be(e))}_.push(n)}return ge(_)}function we(e,t){var n=t.length>0,a=e.length>0,i=function(i,s,o,l,u){var c,p,m,b=0,v="0",g=i&&[],y=[],x=f,w=i||a&&r.find.TAG("*",u),A=S+=null==x?1:Math.random()||.1,T=w.length;for(u&&(f=s===h||s||u);v!==T&&null!=(c=w[v]);v++){if(a&&c){for(p=0,s||c.ownerDocument===h||(_(c),o=!d);m=e[p++];)if(m(c,s||h,o)){l.push(c);break}u&&(S=A)}n&&((c=!m&&c)&&b--,i&&g.push(c))}if(b+=v,n&&v!==b){for(p=0;m=t[p++];)m(g,y,s,o);if(i){if(b>0)for(;v--;)g[v]||y[v]||(y[v]=B.call(l));y=ye(y)}N.apply(l,y),u&&!i&&y.length>0&&b+t.length>1&&ie.uniqueSort(l)}return u&&(S=A,f=x),g};return n?oe(i):i}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,s=ie.tokenize=function(e,t){var n,a,i,s,o,l,f,u=T[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],f=r.preFilter;o;){for(s in n&&!(a=X.exec(o))||(a&&(o=o.slice(a[0].length)||o),l.push(i=[])),n=!1,(a=F.exec(o))&&(n=a.shift(),i.push({value:n,type:a[0].replace(j," ")}),o=o.slice(n.length)),r.filter)!(a=G[s].exec(o))||f[s]&&!(a=f[s](a))||(n=a.shift(),i.push({value:n,type:s,matches:a}),o=o.slice(n.length));if(!n)break}return t?o.length:o?ie.error(e):T(e,l).slice(0)},o=ie.compile=function(e,t){var n,r=[],a=[],i=R[e+" "];if(!i){for(t||(t=s(e)),n=t.length;n--;)(i=Se(t[n]))[y]?r.push(i):a.push(i);(i=R(e,we(a,r))).selector=e}return i},l=ie.select=function(e,t,n,a){var i,l,f,u,c,_="function"==typeof e&&e,h=!a&&s(e=_.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(f=l[0]).type&&9===t.nodeType&&d&&r.relative[l[1].type]){if(!(t=(r.find.ID(f.matches[0].replace(J,ee),t)||[])[0]))return n;_&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=G.needsContext.test(e)?0:l.length;i--&&(f=l[i],!r.relative[u=f.type]);)if((c=r.find[u])&&(a=c(f.matches[0].replace(J,ee),$.test(l[0].type)&&de(t.parentNode)||t))){if(l.splice(i,1),!(e=a.length&&be(l)))return N.apply(n,a),n;break}}return(_||o(e,h))(a,t,!d,n,!t||$.test(e)&&de(t.parentNode)||t),n},n.sortStable=y.split("").sort(M).join("")===y,n.detectDuplicates=!!c,_(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||fe(D,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(e);R.find=k,R.expr=k.selectors,R.expr[":"]=R.expr.pseudos,R.uniqueSort=R.unique=k.uniqueSort,R.text=k.getText,R.isXMLDoc=k.isXML,R.contains=k.contains,R.escapeSelector=k.escape;var B=function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&R(e).is(n))break;r.push(e)}return r},P=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=R.expr.match.needsContext;function H(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return x(t)?R.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?R.grep(e,function(e){return e===t!==n}):"string"!=typeof t?R.grep(e,function(e){return p.call(t,e)>-1!==n}):R.filter(t,e,n)}R.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?R.find.matchesSelector(r,e)?[r]:[]:R.find.matches(e,R.grep(t,function(e){return 1===e.nodeType}))},R.fn.extend({find:function(e){var t,n,r=this.length,a=this;if("string"!=typeof e)return this.pushStack(R(e).filter(function(){for(t=0;t<r;t++)if(R.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)R.find(e,a[t],n);return r>1?R.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&N.test(e)?R(e):e||[],!1).length}});var C,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(R.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||C,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof R?t[0]:t,R.merge(this,R.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),L.test(r[1])&&R.isPlainObject(t))for(r in t)x(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=s.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):x(e)?void 0!==n.ready?n.ready(e):e(R):R.makeArray(e,this)}).prototype=R.fn,C=R(s);var I=/^(?:parents|prev(?:Until|All))/,q={children:!0,contents:!0,next:!0,prev:!0};function V(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}R.fn.extend({has:function(e){var t=R(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(R.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,a=this.length,i=[],s="string"!=typeof e&&R(e);if(!N.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&R.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?R.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?p.call(R(e),this[0]):p.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(R.uniqueSort(R.merge(this.get(),R(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),R.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return B(e,"parentNode")},parentsUntil:function(e,t,n){return B(e,"parentNode",n)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return B(e,"nextSibling")},prevAll:function(e){return B(e,"previousSibling")},nextUntil:function(e,t,n){return B(e,"nextSibling",n)},prevUntil:function(e,t,n){return B(e,"previousSibling",n)},siblings:function(e){return P((e.parentNode||{}).firstChild,e)},children:function(e){return P(e.firstChild)},contents:function(e){return H(e,"iframe")?e.contentDocument:(H(e,"template")&&(e=e.content||e),R.merge([],e.childNodes))}},function(e,t){R.fn[e]=function(n,r){var a=R.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=R.filter(r,a)),this.length>1&&(q[e]||R.uniqueSort(a),I.test(e)&&a.reverse()),this.pushStack(a)}});var j=/[^\x20\t\r\n\f]+/g;function X(e){return e}function F(e){throw e}function Y(e,t,n,r){var a;try{e&&x(a=e.promise)?a.call(e).done(t).fail(n):e&&x(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}R.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return R.each(e.match(j)||[],function(e,n){t[n]=!0}),t}(e):R.extend({},e);var t,n,r,a,i=[],s=[],o=-1,l=function(){for(a=a||e.once,r=t=!0;s.length;o=-1)for(n=s.shift();++o<i.length;)!1===i[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=i.length,n=!1);e.memory||(n=!1),t=!1,a&&(i=n?[]:"")},f={add:function(){return i&&(n&&!t&&(o=i.length-1,s.push(n)),function t(n){R.each(n,function(n,r){x(r)?e.unique&&f.has(r)||i.push(r):r&&r.length&&"string"!==T(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return R.each(arguments,function(e,t){for(var n;(n=R.inArray(t,i,n))>-1;)i.splice(n,1),n<=o&&o--}),this},has:function(e){return e?R.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return a=s=[],n||t||(i=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},R.extend({Deferred:function(t){var n=[["notify","progress",R.Callbacks("memory"),R.Callbacks("memory"),2],["resolve","done",R.Callbacks("once memory"),R.Callbacks("once memory"),0,"resolved"],["reject","fail",R.Callbacks("once memory"),R.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return R.Deferred(function(t){R.each(n,function(n,r){var a=x(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&x(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,r,a){var i=0;function s(t,n,r,a){return function(){var o=this,l=arguments,f=function(){var e,f;if(!(t<i)){if((e=r.apply(o,l))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==(void 0===e?"undefined":c()(e))||"function"==typeof e)&&e.then,x(f)?a?f.call(e,s(i,n,X,a),s(i,n,F,a)):(i++,f.call(e,s(i,n,X,a),s(i,n,F,a),s(i,n,X,n.notifyWith))):(r!==X&&(o=void 0,l=[e]),(a||n.resolveWith)(o,l))}},u=a?f:function(){try{f()}catch(e){R.Deferred.exceptionHook&&R.Deferred.exceptionHook(e,u.stackTrace),t+1>=i&&(r!==F&&(o=void 0,l=[e]),n.rejectWith(o,l))}};t?u():(R.Deferred.getStackHook&&(u.stackTrace=R.Deferred.getStackHook()),e.setTimeout(u))}}return R.Deferred(function(e){n[0][3].add(s(0,e,x(a)?a:X,e.notifyWith)),n[1][3].add(s(0,e,x(t)?t:X)),n[2][3].add(s(0,e,x(r)?r:F))}).promise()},promise:function(e){return null!=e?R.extend(e,a):a}},i={};return R.each(n,function(e,t){var s=t[2],o=t[5];a[t[1]]=s.add,o&&s.add(function(){r=o},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=s.fireWith}),a.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),a=u.call(arguments),i=R.Deferred(),s=function(e){return function(n){r[e]=this,a[e]=arguments.length>1?u.call(arguments):n,--t||i.resolveWith(r,a)}};if(t<=1&&(Y(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||x(a[n]&&a[n].then)))return i.then();for(;n--;)Y(a[n],s(n),i.reject);return i.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;R.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&z.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},R.readyException=function(t){e.setTimeout(function(){throw t})};var W=R.Deferred();function G(){s.removeEventListener("DOMContentLoaded",G),e.removeEventListener("load",G),R.ready()}R.fn.ready=function(e){return W.then(e).catch(function(e){R.readyException(e)}),this},R.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--R.readyWait:R.isReady)||(R.isReady=!0,!0!==e&&--R.readyWait>0||W.resolveWith(s,[R]))}}),R.ready.then=W.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?e.setTimeout(R.ready):(s.addEventListener("DOMContentLoaded",G),e.addEventListener("load",G));var U=function e(t,n,r,a,i,s,o){var l=0,f=t.length,u=null==r;if("object"===T(r))for(l in i=!0,r)e(t,n,l,r[l],!0,s,o);else if(void 0!==a&&(i=!0,x(a)||(o=!0),u&&(o?(n.call(t,a),n=null):(u=n,n=function(e,t,n){return u.call(R(e),n)})),n))for(;l<f;l++)n(t[l],r,o?a:a.call(t[l],l,n(t[l],r)));return i?t:u?n.call(t):f?n(t[0],r):s},K=/^-ms-/,Z=/-([a-z])/g;function Q(e,t){return t.toUpperCase()}function $(e){return e.replace(K,"ms-").replace(Z,Q)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ee(){this.expando=R.expando+ee.uid++}ee.uid=1,ee.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:r()(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if("string"==typeof t)a[$(t)]=n;else for(r in t)a[$(r)]=t[r];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in r?[t]:t.match(j)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||R.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!R.isEmptyObject(t)}};var te=new ee,ne=new ee,re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ae=/[A-Z]/g;function ie(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ae,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:re.test(e)?JSON.parse(e):e)}(n)}catch(e){}ne.set(e,t,n)}else n=void 0;return n}R.extend({hasData:function(e){return ne.hasData(e)||te.hasData(e)},data:function(e,t,n){return ne.access(e,t,n)},removeData:function(e,t){ne.remove(e,t)},_data:function(e,t,n){return te.access(e,t,n)},_removeData:function(e,t){te.remove(e,t)}}),R.fn.extend({data:function(e,t){var n,r,a,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(a=ne.get(i),1===i.nodeType&&!te.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=$(r.slice(5)),ie(i,r,a[r]));te.set(i,"hasDataAttrs",!0)}return a}return"object"==(void 0===e?"undefined":c()(e))?this.each(function(){ne.set(this,e)}):U(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=ne.get(i,e)))return n;if(void 0!==(n=ie(i,e)))return n}else this.each(function(){ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ne.remove(this,e)})}}),R.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=te.get(e,t),n&&(!r||Array.isArray(n)?r=te.access(e,t,R.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=R.queue(e,t),r=n.length,a=n.shift(),i=R._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,function(){R.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return te.get(e,n)||te.access(e,n,{empty:R.Callbacks("once memory").add(function(){te.remove(e,[t+"queue",n])})})}}),R.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?R.queue(this[0],e):void 0===t?this:this.each(function(){var n=R.queue(this,e,t);R._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&R.dequeue(this,e)})},dequeue:function(e){return this.each(function(){R.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=R.Deferred(),i=this,s=this.length,o=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=te.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(o));return o(),a.promise(t)}});var se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),le=["Top","Right","Bottom","Left"],fe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&R.contains(e.ownerDocument,e)&&"none"===R.css(e,"display")},ue=function(e,t,n,r){var a,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];for(i in a=n.apply(e,r||[]),t)e.style[i]=s[i];return a};function ce(e,t,n,r){var a,i,s=20,o=r?function(){return r.cur()}:function(){return R.css(e,t,"")},l=o(),f=n&&n[3]||(R.cssNumber[t]?"":"px"),u=(R.cssNumber[t]||"px"!==f&&+l)&&oe.exec(R.css(e,t));if(u&&u[3]!==f){for(l/=2,f=f||u[3],u=+l||1;s--;)R.style(e,t,u+f),(1-i)*(1-(i=o()/l||.5))<=0&&(s=0),u/=i;u*=2,R.style(e,t,u+f),n=n||[]}return n&&(u=+u||+l||0,a=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=f,r.start=u,r.end=a)),a}var _e={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,a=_e[r];return a||(t=n.body.appendChild(n.createElement(r)),a=R.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),_e[r]=a,a)}function pe(e,t){for(var n,r,a=[],i=0,s=e.length;i<s;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(a[i]=te.get(r,"display")||null,a[i]||(r.style.display="")),""===r.style.display&&fe(r)&&(a[i]=he(r))):"none"!==n&&(a[i]="none",te.set(r,"display",n)));for(i=0;i<s;i++)null!=a[i]&&(e[i].style.display=a[i]);return e}R.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){fe(this)?R(this).show():R(this).hide()})}});var de=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,be=/^$|^module$|\/(?:java|ecma)script/i,ve={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&H(e,t)?R.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)te.set(e[n],"globalEval",!t||te.get(t[n],"globalEval"))}ve.optgroup=ve.option,ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td;var xe=/<|&#?\w+;/;function Se(e,t,n,r,a){for(var i,s,o,l,f,u,c=t.createDocumentFragment(),_=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===T(i))R.merge(_,i.nodeType?[i]:i);else if(xe.test(i)){for(s=s||c.appendChild(t.createElement("div")),o=(me.exec(i)||["",""])[1].toLowerCase(),l=ve[o]||ve._default,s.innerHTML=l[1]+R.htmlPrefilter(i)+l[2],u=l[0];u--;)s=s.lastChild;R.merge(_,s.childNodes),(s=c.firstChild).textContent=""}else _.push(t.createTextNode(i));for(c.textContent="",h=0;i=_[h++];)if(r&&R.inArray(i,r)>-1)a&&a.push(i);else if(f=R.contains(i.ownerDocument,i),s=ge(c.appendChild(i),"script"),f&&ye(s),n)for(u=0;i=s[u++];)be.test(i.type||"")&&n.push(i);return c}!function(){var e=s.createDocumentFragment().appendChild(s.createElement("div")),t=s.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var we=s.documentElement,Ae=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Re=/^([^.]*)(?:\.(.+)|)/;function Me(){return!0}function Ee(){return!1}function ke(){try{return s.activeElement}catch(e){}}function Be(e,t,n,r,a,i){var s,o;if("object"==(void 0===t?"undefined":c()(t))){for(o in"string"!=typeof n&&(r=r||n,n=void 0),t)Be(e,o,n,r,t[o],i);return e}if(null==r&&null==a?(a=n,r=n=void 0):null==a&&("string"==typeof n?(a=r,r=void 0):(a=r,r=n,n=void 0)),!1===a)a=Ee;else if(!a)return e;return 1===i&&(s=a,(a=function(e){return R().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=R.guid++)),e.each(function(){R.event.add(this,t,a,r,n)})}R.event={global:{},add:function(e,t,n,r,a){var i,s,o,l,f,u,c,_,h,p,d,m=te.get(e);if(m)for(n.handler&&(n=(i=n).handler,a=i.selector),a&&R.find.matchesSelector(we,a),n.guid||(n.guid=R.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==R&&R.event.triggered!==t.type?R.event.dispatch.apply(e,arguments):void 0}),f=(t=(t||"").match(j)||[""]).length;f--;)h=d=(o=Re.exec(t[f])||[])[1],p=(o[2]||"").split(".").sort(),h&&(c=R.event.special[h]||{},h=(a?c.delegateType:c.bindType)||h,c=R.event.special[h]||{},u=R.extend({type:h,origType:d,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&R.expr.match.needsContext.test(a),namespace:p.join(".")},i),(_=l[h])||((_=l[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(h,s)),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?_.splice(_.delegateCount++,0,u):_.push(u),R.event.global[h]=!0)},remove:function(e,t,n,r,a){var i,s,o,l,f,u,c,_,h,p,d,m=te.hasData(e)&&te.get(e);if(m&&(l=m.events)){for(f=(t=(t||"").match(j)||[""]).length;f--;)if(h=d=(o=Re.exec(t[f])||[])[1],p=(o[2]||"").split(".").sort(),h){for(c=R.event.special[h]||{},_=l[h=(r?c.delegateType:c.bindType)||h]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=_.length;i--;)u=_[i],!a&&d!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(_.splice(i,1),u.selector&&_.delegateCount--,c.remove&&c.remove.call(e,u));s&&!_.length&&(c.teardown&&!1!==c.teardown.call(e,p,m.handle)||R.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)R.event.remove(e,h+t[f],n,r,!0);R.isEmptyObject(l)&&te.remove(e,"handle events")}},dispatch:function(e){var t,n,r,a,i,s,o=R.event.fix(e),l=new Array(arguments.length),f=(te.get(this,"events")||{})[o.type]||[],u=R.event.special[o.type]||{};for(l[0]=o,t=1;t<arguments.length;t++)l[t]=arguments[t];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(s=R.event.handlers.call(this,o,f),t=0;(a=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(i.namespace)||(o.handleObj=i,o.data=i.data,void 0!==(r=((R.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l))&&!1===(o.result=r)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,r,a,i,s,o=[],l=t.delegateCount,f=e.target;if(l&&f.nodeType&&!("click"===e.type&&e.button>=1))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==e.type||!0!==f.disabled)){for(i=[],s={},n=0;n<l;n++)void 0===s[a=(r=t[n]).selector+" "]&&(s[a]=r.needsContext?R(a,this).index(f)>-1:R.find(a,this,null,[f]).length),s[a]&&i.push(r);i.length&&o.push({elem:f,handlers:i})}return f=this,l<t.length&&o.push({elem:f,handlers:t.slice(l)}),o},addProp:function(e,t){r()(R.Event.prototype,e,{enumerable:!0,configurable:!0,get:x(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){r()(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[R.expando]?e:new R.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ke()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&H(this,"input"))return this.click(),!1},_default:function(e){return H(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},R.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},R.Event=function(e,t){if(!(this instanceof R.Event))return new R.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Me:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&R.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[R.expando]=!0},R.Event.prototype={constructor:R.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},R.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ae.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},R.event.addProp),R.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){R.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,a=e.handleObj;return r&&(r===this||R.contains(this,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),R.fn.extend({on:function(e,t,n,r){return Be(this,e,t,n,r)},one:function(e,t,n,r){return Be(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,R(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==(void 0===e?"undefined":c()(e))){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){R.event.remove(this,e,n,t)})}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return H(e,"table")&&H(11!==t.nodeType?t:t.firstChild,"tr")&&R(e).children("tbody")[0]||e}function Ce(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,r,a,i,s,o,l,f;if(1===t.nodeType){if(te.hasData(e)&&(i=te.access(e),s=te.set(t,i),f=i.events))for(a in delete s.handle,s.events={},f)for(n=0,r=f[a].length;n<r;n++)R.event.add(t,a,f[a][n]);ne.hasData(e)&&(o=ne.access(e),l=R.extend({},o),ne.set(t,l))}}function qe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,r){t=_.apply([],t);var a,i,s,o,l,f,u=0,c=e.length,h=c-1,p=t[0],d=x(p);if(d||c>1&&"string"==typeof p&&!y.checkClone&&He.test(p))return e.each(function(a){var i=e.eq(a);d&&(t[0]=p.call(this,a,i.html())),Ve(i,t,n,r)});if(c&&(i=(a=Se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=i),i||r)){for(o=(s=R.map(ge(a,"script"),Ce)).length;u<c;u++)l=a,u!==h&&(l=R.clone(l,!0,!0),o&&R.merge(s,ge(l,"script"))),n.call(e[u],l,u);if(o)for(f=s[s.length-1].ownerDocument,R.map(s,Oe),u=0;u<o;u++)l=s[u],be.test(l.type||"")&&!te.access(l,"globalEval")&&R.contains(f,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?R._evalUrl&&R._evalUrl(l.src):A(l.textContent.replace(Le,""),f,l))}return e}function je(e,t,n){for(var r,a=t?R.filter(t,e):e,i=0;null!=(r=a[i]);i++)n||1!==r.nodeType||R.cleanData(ge(r)),r.parentNode&&(n&&R.contains(r.ownerDocument,r)&&ye(ge(r,"script")),r.parentNode.removeChild(r));return e}R.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var r,a,i,s,o=e.cloneNode(!0),l=R.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||R.isXMLDoc(e)))for(s=ge(o),r=0,a=(i=ge(e)).length;r<a;r++)qe(i[r],s[r]);if(t)if(n)for(i=i||ge(e),s=s||ge(o),r=0,a=i.length;r<a;r++)Ie(i[r],s[r]);else Ie(e,o);return(s=ge(o,"script")).length>0&&ye(s,!l&&ge(e,"script")),o},cleanData:function(e){for(var t,n,r,a=R.event.special,i=0;void 0!==(n=e[i]);i++)if(J(n)){if(t=n[te.expando]){if(t.events)for(r in t.events)a[r]?R.event.remove(n,r):R.removeEvent(n,r,t.handle);n[te.expando]=void 0}n[ne.expando]&&(n[ne.expando]=void 0)}}}),R.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return U(this,function(e){return void 0===e?R.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ve(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return Ve(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(R.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return R.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ve[(me.exec(e)||["",""])[1].toLowerCase()]){e=R.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(R.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,function(t){var n=this.parentNode;R.inArray(this,e)<0&&(R.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){R.fn[e]=function(e){for(var n,r=[],a=R(e),i=a.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),R(a[s])[t](n),h.apply(r,n.get());return this.pushStack(r)}});var Xe=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ye=new RegExp(le.join("|"),"i");function ze(e,t,n){var r,a,i,s,o=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||R.contains(e.ownerDocument,e)||(s=R.style(e,t)),!y.pixelBoxStyles()&&Xe.test(s)&&Ye.test(t)&&(r=o.width,a=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=r,o.minWidth=a,o.maxWidth=i)),void 0!==s?s+"":s}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){f.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",we.appendChild(f).appendChild(u);var t=e.getComputedStyle(u);r="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",o=36===n(t.right),a=36===n(t.width),u.style.position="absolute",i=36===u.offsetWidth||"absolute",we.removeChild(f),u=null}}function n(e){return Math.round(parseFloat(e))}var r,a,i,o,l,f=s.createElement("div"),u=s.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,R.extend(y,{boxSizingReliable:function(){return t(),a},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","Moz","ms"],$e=s.createElement("div").style;function Je(e){var t=R.cssProps[e];return t||(t=R.cssProps[e]=function(e){if(e in $e)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in $e)return e}(e)||e),t}function et(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,a,i){var s="width"===t?1:0,o=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=R.css(e,n+le[s],!0,a)),r?("content"===n&&(l-=R.css(e,"padding"+le[s],!0,a)),"margin"!==n&&(l-=R.css(e,"border"+le[s]+"Width",!0,a))):(l+=R.css(e,"padding"+le[s],!0,a),"padding"!==n?l+=R.css(e,"border"+le[s]+"Width",!0,a):o+=R.css(e,"border"+le[s]+"Width",!0,a));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-o-.5))),l}function nt(e,t,n){var r=Fe(e),a=ze(e,t,r),i="border-box"===R.css(e,"boxSizing",!1,r),s=i;if(Xe.test(a)){if(!n)return a;a="auto"}return s=s&&(y.boxSizingReliable()||a===e.style[t]),("auto"===a||!parseFloat(a)&&"inline"===R.css(e,"display",!1,r))&&(a=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(a=parseFloat(a)||0)+tt(e,t,n||(i?"border":"content"),s,r,a)+"px"}function rt(e,t,n,r,a){return new rt.prototype.init(e,t,n,r,a)}R.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,s,o=$(t),l=Ue.test(t),f=e.style;if(l||(t=Je(o)),s=R.cssHooks[t]||R.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(a=s.get(e,!1,r))?a:f[t];"string"==(i=void 0===n?"undefined":c()(n))&&(a=oe.exec(n))&&a[1]&&(n=ce(e,t,a),i="number"),null!=n&&n==n&&("number"===i&&(n+=a&&a[3]||(R.cssNumber[o]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(f[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?f.setProperty(t,n):f[t]=n))}},css:function(e,t,n,r){var a,i,s,o=$(t);return Ue.test(t)||(t=Je(o)),(s=R.cssHooks[t]||R.cssHooks[o])&&"get"in s&&(a=s.get(e,!0,n)),void 0===a&&(a=ze(e,t,r)),"normal"===a&&t in Ze&&(a=Ze[t]),""===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),R.each(["height","width"],function(e,t){R.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(R.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):ue(e,Ke,function(){return nt(e,t,r)})},set:function(e,n,r){var a,i=Fe(e),s="border-box"===R.css(e,"boxSizing",!1,i),o=r&&tt(e,t,r,s,i);return s&&y.scrollboxSize()===i.position&&(o-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-tt(e,t,"border",!1,i)-.5)),o&&(a=oe.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=R.css(e,t)),et(0,n,o)}}}),R.cssHooks.marginLeft=We(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),R.each({margin:"",padding:"",border:"Width"},function(e,t){R.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+le[r]+t]=i[r]||i[r-2]||i[0];return a}},"margin"!==e&&(R.cssHooks[e+t].set=et)}),R.fn.extend({css:function(e,t){return U(this,function(e,t,n){var r,a,i={},s=0;if(Array.isArray(t)){for(r=Fe(e),a=t.length;s<a;s++)i[t[s]]=R.css(e,t[s],!1,r);return i}return void 0!==n?R.style(e,t,n):R.css(e,t)},e,t,arguments.length>1)}}),R.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||R.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(R.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=R.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=R.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){R.fx.step[e.prop]?R.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[R.cssProps[e.prop]]&&!R.cssHooks[e.prop]?e.elem[e.prop]=e.now:R.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},R.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},R.fx=rt.prototype.init,R.fx.step={};var at,it,st=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function lt(){it&&(!1===s.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(lt):e.setTimeout(lt,R.fx.interval),R.fx.tick())}function ft(){return e.setTimeout(function(){at=void 0}),at=Date.now()}function ut(e,t){var n,r=0,a={height:e};for(t=t?1:0;r<4;r+=2-t)a["margin"+(n=le[r])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ct(e,t,n){for(var r,a=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),i=0,s=a.length;i<s;i++)if(r=a[i].call(n,t,e))return r}function _t(e,t,n){var r,a,i=0,s=_t.prefilters.length,o=R.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=at||ft(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;i<s;i++)f.tweens[i].run(r);return o.notifyWith(e,[f,r,n]),r<1&&s?n:(s||o.notifyWith(e,[f,1,0]),o.resolveWith(e,[f]),!1)},f=o.promise({elem:e,props:R.extend({},t),opts:R.extend(!0,{specialEasing:{},easing:R.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||ft(),duration:n.duration,tweens:[],createTween:function(t,n){var r=R.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)f.tweens[n].run(1);return t?(o.notifyWith(e,[f,1,0]),o.resolveWith(e,[f,t])):o.rejectWith(e,[f,t]),this}}),u=f.props;for(function(e,t){var n,r,a,i,s;for(n in e)if(a=t[r=$(n)],i=e[n],Array.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=R.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=a);else t[r]=a}(u,f.opts.specialEasing);i<s;i++)if(r=_t.prefilters[i].call(f,e,u,f.opts))return x(r.stop)&&(R._queueHooks(f.elem,f.opts.queue).stop=r.stop.bind(r)),r;return R.map(u,ct,f),x(f.opts.start)&&f.opts.start.call(e,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),R.fx.timer(R.extend(l,{elem:e,anim:f,queue:f.opts.queue})),f}R.Animation=R.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){x(e)?(t=e,e=["*"]):e=e.match(j);for(var n,r=0,a=e.length;r<a;r++)n=e[r],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,a,i,s,o,l,f,u,c="width"in t||"height"in t,_=this,h={},p=e.style,d=e.nodeType&&fe(e),m=te.get(e,"fxshow");for(r in n.queue||(null==(s=R._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,_.always(function(){_.always(function(){s.unqueued--,R.queue(e,"fx").length||s.empty.fire()})})),t)if(a=t[r],st.test(a)){if(delete t[r],i=i||"toggle"===a,a===(d?"hide":"show")){if("show"!==a||!m||void 0===m[r])continue;d=!0}h[r]=m&&m[r]||R.style(e,r)}if((l=!R.isEmptyObject(t))||!R.isEmptyObject(h))for(r in c&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(f=m&&m.display)&&(f=te.get(e,"display")),"none"===(u=R.css(e,"display"))&&(f?u=f:(pe([e],!0),f=e.style.display||f,u=R.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=f)&&"none"===R.css(e,"float")&&(l||(_.done(function(){p.display=f}),null==f&&(u=p.display,f="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",_.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(d=m.hidden):m=te.access(e,"fxshow",{display:f}),i&&(m.hidden=!d),d&&pe([e],!0),_.done(function(){for(r in d||pe([e]),te.remove(e,"fxshow"),h)R.style(e,r,h[r])})),l=ct(d?m[r]:0,r,_),r in m||(m[r]=l.start,d&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),R.speed=function(e,t,n){var r=e&&"object"==(void 0===e?"undefined":c()(e))?R.extend({},e):{complete:n||!n&&t||x(e)&&e,duration:e,easing:n&&t||t&&!x(t)&&t};return R.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in R.fx.speeds?r.duration=R.fx.speeds[r.duration]:r.duration=R.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){x(r.old)&&r.old.call(this),r.queue&&R.dequeue(this,r.queue)},r},R.fn.extend({fadeTo:function(e,t,n,r){return this.filter(fe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=R.isEmptyObject(e),i=R.speed(t,n,r),s=function(){var t=_t(this,R.extend({},e),i);(a||te.get(this,"finish"))&&t.stop(!0)};return s.finish=s,a||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",i=R.timers,s=te.get(this);if(a)s[a]&&s[a].stop&&r(s[a]);else for(a in s)s[a]&&s[a].stop&&ot.test(a)&&r(s[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));!t&&n||R.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=te.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=R.timers,s=r?r.length:0;for(n.finish=!0,R.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),R.each(["toggle","show","hide"],function(e,t){var n=R.fn[t];R.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,a)}}),R.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){R.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),R.timers=[],R.fx.tick=function(){var e,t=0,n=R.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||R.fx.stop(),at=void 0},R.fx.timer=function(e){R.timers.push(e),R.fx.start()},R.fx.interval=13,R.fx.start=function(){it||(it=!0,lt())},R.fx.stop=function(){it=null},R.fx.speeds={slow:600,fast:200,_default:400},R.fn.delay=function(t,n){return t=R.fx&&R.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var a=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(a)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var ht,pt=R.expr.attrHandle;R.fn.extend({attr:function(e,t){return U(this,R.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){R.removeAttr(this,e)})}}),R.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?R.prop(e,t,n):(1===i&&R.isXMLDoc(e)||(a=R.attrHooks[t.toLowerCase()]||(R.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void R.removeAttr(e,t):a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:null==(r=R.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&H(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(j);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?R.removeAttr(e,n):e.setAttribute(n,n),n}},R.each(R.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||R.find.attr;pt[t]=function(e,t,r){var a,i,s=t.toLowerCase();return r||(i=pt[s],pt[s]=a,a=null!=n(e,t,r)?s:null,pt[s]=i),a}});var dt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function bt(e){return(e.match(j)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}R.fn.extend({prop:function(e,t){return U(this,R.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[R.propFix[e]||e]})}}),R.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&R.isXMLDoc(e)||(t=R.propFix[t]||t,a=R.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=R.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(R.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),R.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){R.propFix[this.toLowerCase()]=this}),R.fn.extend({addClass:function(e){var t,n,r,a,i,s,o,l=0;if(x(e))return this.each(function(t){R(this).addClass(e.call(this,t,vt(this)))});if((t=gt(e)).length)for(;n=this[l++];)if(a=vt(n),r=1===n.nodeType&&" "+bt(a)+" "){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(o=bt(r))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,r,a,i,s,o,l=0;if(x(e))return this.each(function(t){R(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[l++];)if(a=vt(n),r=1===n.nodeType&&" "+bt(a)+" "){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");a!==(o=bt(r))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":c()(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):x(e)?this.each(function(n){R(this).toggleClass(e.call(this,n,vt(this),t),t)}):this.each(function(){var t,a,i,s;if(r)for(a=0,i=R(this),s=gt(e);t=s[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":te.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+bt(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;R.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=x(e),this.each(function(n){var a;1===this.nodeType&&(null==(a=r?e.call(this,n,R(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=R.map(a,function(e){return null==e?"":e+""})),(t=R.valHooks[this.type]||R.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=R.valHooks[a.type]||R.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(yt,""):null==n?"":n:void 0}}),R.extend({valHooks:{option:{get:function(e){var t=R.find.attr(e,"value");return null!=t?t:bt(R.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,s="select-one"===e.type,o=s?null:[],l=s?i+1:a.length;for(r=i<0?l:s?i:0;r<l;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!H(n.parentNode,"optgroup"))){if(t=R(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,r,a=e.options,i=R.makeArray(t),s=a.length;s--;)((r=a[s]).selected=R.inArray(R.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),R.each(["radio","checkbox"],function(){R.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=R.inArray(R(e).val(),t)>-1}},y.checkOn||(R.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in e;var xt=/^(?:focusinfocus|focusoutblur)$/,St=function(e){e.stopPropagation()};R.extend(R.event,{trigger:function(t,n,r,a){var i,o,l,f,u,_,h,p,d=[r||s],m=b.call(t,"type")?t.type:t,v=b.call(t,"namespace")?t.namespace.split("."):[];if(o=p=l=r=r||s,3!==r.nodeType&&8!==r.nodeType&&!xt.test(m+R.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[R.expando]?t:new R.Event(m,"object"==(void 0===t?"undefined":c()(t))&&t)).isTrigger=a?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:R.makeArray(n,[t]),h=R.event.special[m]||{},a||!h.trigger||!1!==h.trigger.apply(r,n))){if(!a&&!h.noBubble&&!S(r)){for(f=h.delegateType||m,xt.test(f+m)||(o=o.parentNode);o;o=o.parentNode)d.push(o),l=o;l===(r.ownerDocument||s)&&d.push(l.defaultView||l.parentWindow||e)}for(i=0;(o=d[i++])&&!t.isPropagationStopped();)p=o,t.type=i>1?f:h.bindType||m,(_=(te.get(o,"events")||{})[t.type]&&te.get(o,"handle"))&&_.apply(o,n),(_=u&&o[u])&&_.apply&&J(o)&&(t.result=_.apply(o,n),!1===t.result&&t.preventDefault());return t.type=m,a||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),n)||!J(r)||u&&x(r[m])&&!S(r)&&((l=r[u])&&(r[u]=null),R.event.triggered=m,t.isPropagationStopped()&&p.addEventListener(m,St),r[m](),t.isPropagationStopped()&&p.removeEventListener(m,St),R.event.triggered=void 0,l&&(r[u]=l)),t.result}},simulate:function(e,t,n){var r=R.extend(new R.Event,n,{type:e,isSimulated:!0});R.event.trigger(r,null,t)}}),R.fn.extend({trigger:function(e,t){return this.each(function(){R.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return R.event.trigger(e,t,n,!0)}}),y.focusin||R.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){R.event.simulate(t,e.target,R.event.fix(e))};R.event.special[t]={setup:function(){var r=this.ownerDocument||this,a=te.access(r,t);a||r.addEventListener(e,n,!0),te.access(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=te.access(r,t)-1;a?te.access(r,t,a):(r.removeEventListener(e,n,!0),te.remove(r,t))}}});var wt=e.location,At=Date.now(),Tt=/\?/;R.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||R.error("Invalid XML: "+t),n};var Rt=/\[\]$/,Mt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,r){var a;if(Array.isArray(t))R.each(t,function(t,a){n||Rt.test(e)?r(e,a):Bt(e+"["+("object"==(void 0===a?"undefined":c()(a))&&null!=a?t:"")+"]",a,n,r)});else if(n||"object"!==T(t))r(e,t);else for(a in t)Bt(e+"["+a+"]",t[a],n,r)}R.param=function(e,t){var n,r=[],a=function(e,t){var n=x(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!R.isPlainObject(e))R.each(e,function(){a(this.name,this.value)});else for(n in e)Bt(n,e[n],t,a);return r.join("&")},R.fn.extend({serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=R.prop(this,"elements");return e?R.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!R(this).is(":disabled")&&kt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=R(this).val();return null==n?null:Array.isArray(n)?R.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Pt=/%20/g,Nt=/#.*$/,Ht=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Ct=/^\/\//,Ot={},It={},qt="*/".concat("*"),Vt=s.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(j)||[];if(x(n))for(;r=i[a++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Xt(e,t,n,r){var a={},i=e===It;function s(o){var l;return a[o]=!0,R.each(e[o]||[],function(e,o){var f=o(t,n,r);return"string"!=typeof f||i||a[f]?i?!(l=f):void 0:(t.dataTypes.unshift(f),s(f),!1)}),l}return s(t.dataTypes[0])||!a["*"]&&s("*")}function Ft(e,t){var n,r,a=R.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&R.extend(!0,e,r),e}Vt.href=wt.href,R.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":R.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,R.ajaxSettings),t):Ft(R.ajaxSettings,e)},ajaxPrefilter:jt(Ot),ajaxTransport:jt(It),ajax:function(t,n){"object"==(void 0===t?"undefined":c()(t))&&(n=t,t=void 0),n=n||{};var r,a,i,o,l,f,u,_,h,p,d=R.ajaxSetup({},n),m=d.context||d,b=d.context&&(m.nodeType||m.jquery)?R(m):R.event,v=R.Deferred(),g=R.Callbacks("once memory"),y=d.statusCode||{},x={},S={},w="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Lt.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)A.always(e[A.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||w;return r&&r.abort(t),T(0,t),this}};if(v.promise(A),d.url=((t||d.url||wt.href)+"").replace(Ct,wt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(j)||[""],null==d.crossDomain){f=s.createElement("a");try{f.href=d.url,f.href=f.href,d.crossDomain=Vt.protocol+"//"+Vt.host!=f.protocol+"//"+f.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=R.param(d.data,d.traditional)),Xt(Ot,d,n,A),u)return A;for(h in(_=R.event&&d.global)&&0==R.active++&&R.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Dt.test(d.type),a=d.url.replace(Nt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Pt,"+")):(p=d.url.slice(a.length),d.data&&(d.processData||"string"==typeof d.data)&&(a+=(Tt.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(a=a.replace(Ht,"$1"),p=(Tt.test(a)?"&":"?")+"_="+At+++p),d.url=a+p),d.ifModified&&(R.lastModified[a]&&A.setRequestHeader("If-Modified-Since",R.lastModified[a]),R.etag[a]&&A.setRequestHeader("If-None-Match",R.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&A.setRequestHeader("Content-Type",d.contentType),A.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qt+"; q=0.01":""):d.accepts["*"]),d.headers)A.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(m,A,d)||u))return A.abort();if(w="abort",g.add(d.complete),A.done(d.success),A.fail(d.error),r=Xt(It,d,n,A)){if(A.readyState=1,_&&b.trigger("ajaxSend",[A,d]),u)return A;d.async&&d.timeout>0&&(l=e.setTimeout(function(){A.abort("timeout")},d.timeout));try{u=!1,r.send(x,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,n,s,o){var f,c,h,p,x,S=n;u||(u=!0,l&&e.clearTimeout(l),r=void 0,i=o||"",A.readyState=t>0?4:0,f=t>=200&&t<300||304===t,s&&(p=function(e,t,n){for(var r,a,i,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in o)if(o[a]&&o[a].test(r)){l.unshift(a);break}if(l[0]in n)i=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){i=a;break}s||(s=a)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),n[i]}(d,A,s)),p=function(e,t,n,r){var a,i,s,o,l,f={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)f[s.toLowerCase()]=e.converters[s];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=f[l+" "+i]||f["* "+i]))for(a in f)if((o=a.split(" "))[1]===i&&(s=f[l+" "+o[0]]||f["* "+o[0]])){!0===s?s=f[a]:!0!==f[a]&&(i=o[0],u.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(d,p,A,f),f?(d.ifModified&&((x=A.getResponseHeader("Last-Modified"))&&(R.lastModified[a]=x),(x=A.getResponseHeader("etag"))&&(R.etag[a]=x)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=p.state,c=p.data,f=!(h=p.error))):(h=S,!t&&S||(S="error",t<0&&(t=0))),A.status=t,A.statusText=(n||S)+"",f?v.resolveWith(m,[c,S,A]):v.rejectWith(m,[A,S,h]),A.statusCode(y),y=void 0,_&&b.trigger(f?"ajaxSuccess":"ajaxError",[A,d,f?c:h]),g.fireWith(m,[A,S]),_&&(b.trigger("ajaxComplete",[A,d]),--R.active||R.event.trigger("ajaxStop")))}return A},getJSON:function(e,t,n){return R.get(e,t,n,"json")},getScript:function(e,t){return R.get(e,void 0,t,"script")}}),R.each(["get","post"],function(e,t){R[t]=function(e,n,r,a){return x(n)&&(a=a||r,r=n,n=void 0),R.ajax(R.extend({url:e,type:t,dataType:a,data:n,success:r},R.isPlainObject(e)&&e))}}),R._evalUrl=function(e){return R.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},R.fn.extend({wrapAll:function(e){var t;return this[0]&&(x(e)&&(e=e.call(this[0])),t=R(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return x(e)?this.each(function(t){R(this).wrapInner(e.call(this,t))}):this.each(function(){var t=R(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x(e);return this.each(function(n){R(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){R(this).replaceWith(this.childNodes)}),this}}),R.expr.pseudos.hidden=function(e){return!R.expr.pseudos.visible(e)},R.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},R.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},zt=R.ajaxSettings.xhr();y.cors=!!zt&&"withCredentials"in zt,y.ajax=zt=!!zt,R.ajaxTransport(function(t){var n,r;if(y.cors||zt&&!t.crossDomain)return{send:function(a,i){var s,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];for(s in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)o.setRequestHeader(s,a[s]);n=function(e){return function(){n&&(n=r=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?i(0,"error"):i(o.status,o.statusText):i(Yt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=n(),r=o.onerror=o.ontimeout=n("error"),void 0!==o.onabort?o.onabort=r:o.onreadystatechange=function(){4===o.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{o.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),R.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),R.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return R.globalEval(e),e}}}),R.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),R.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,a){t=R("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var Wt=[],Gt=/(=)\?(?=&|$)|\?\?/;R.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||R.expando+"_"+At++;return this[e]=!0,e}}),R.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,s,o=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=x(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Gt,"$1"+a):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return s||R.error(a+" was not called"),s[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){s=arguments},r.always(function(){void 0===i?R(e).removeProp(a):e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(a)),s&&x(i)&&i(s[0]),s=i=void 0}),"script"}),y.createHTMLDocument=function(){var e=s.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),R.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(r)):t=s),a=L.exec(e),i=!n&&[],a?[t.createElement(a[1])]:(a=Se([e],t,i),i&&i.length&&R(i).remove(),R.merge([],a.childNodes)));var r,a,i},R.fn.load=function(e,t,n){var r,a,i,s=this,o=e.indexOf(" ");return o>-1&&(r=bt(e.slice(o)),e=e.slice(0,o)),x(t)?(n=t,t=void 0):t&&"object"==(void 0===t?"undefined":c()(t))&&(a="POST"),s.length>0&&R.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?R("<div>").append(R.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},R.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){R.fn[t]=function(e){return this.on(t,e)}}),R.expr.pseudos.animated=function(e){return R.grep(R.timers,function(t){return e===t.elem}).length},R.offset={setOffset:function(e,t,n){var r,a,i,s,o,l,f=R.css(e,"position"),u=R(e),c={};"static"===f&&(e.style.position="relative"),o=u.offset(),i=R.css(e,"top"),l=R.css(e,"left"),("absolute"===f||"fixed"===f)&&(i+l).indexOf("auto")>-1?(s=(r=u.position()).top,a=r.left):(s=parseFloat(i)||0,a=parseFloat(l)||0),x(t)&&(t=t.call(e,n,R.extend({},o))),null!=t.top&&(c.top=t.top-o.top+s),null!=t.left&&(c.left=t.left-o.left+a),"using"in t?t.using.call(e,c):u.css(c)}},R.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){R.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if("fixed"===R.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===R.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=R(e).offset()).top+=R.css(e,"borderTopWidth",!0),a.left+=R.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-R.css(r,"marginTop",!0),left:t.left-a.left-R.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===R.css(e,"position");)e=e.offsetParent;return e||we})}}),R.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;R.fn[e]=function(r){return U(this,function(e,r,a){var i;if(S(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===a)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:a,n?a:i.pageYOffset):e[r]=a},e,r,arguments.length)}}),R.each(["top","left"],function(e,t){R.cssHooks[t]=We(y.pixelPosition,function(e,n){if(n)return n=ze(e,t),Xe.test(n)?R(e).position()[t]+"px":n})}),R.each({Height:"height",Width:"width"},function(e,t){R.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){R.fn[r]=function(a,i){var s=arguments.length&&(n||"boolean"!=typeof a),o=n||(!0===a||!0===i?"margin":"border");return U(this,function(t,n,a){var i;return S(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?R.css(t,n,o):R.style(t,n,a,o)},t,s?a:void 0,s)}})}),R.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){R.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),R.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),R.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),R.proxy=function(e,t){var n,r,a;if("string"==typeof t&&(n=e[t],t=e,e=n),x(e))return r=u.call(arguments,2),(a=function(){return e.apply(t||this,r.concat(u.call(arguments)))}).guid=e.guid=e.guid||R.guid++,a},R.holdReady=function(e){e?R.readyWait++:R.ready(!0)},R.isArray=Array.isArray,R.parseJSON=JSON.parse,R.nodeName=H,R.isFunction=x,R.isWindow=S,R.camelCase=$,R.type=T,R.now=Date.now,R.isNumeric=function(e){var t=R.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&n("PDX0")&&define("jquery",[],function(){return R});var Ut=e.jQuery,Kt=e.$;return R.noConflict=function(t){return e.$===R&&(e.$=Kt),t&&e.jQuery===R&&(e.jQuery=Ut),R},t||(e.jQuery=e.$=R),R})}).call(this,n("3UD+")(e))},ApPD:function(e,t,n){var r=n("JB68"),a=n("U+KD");n("zn7N")("getPrototypeOf",function(){return function(e){return a(r(e))}})},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},"RU/L":function(e,t,n){n("Rqdy");var r=n("WEpk").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},Rqdy:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},SEkw:function(e,t,n){e.exports={default:n("RU/L"),__esModule:!0}},WXOj:function(e,t,n){n("lzAF"),e.exports=n("WEpk").Math.log10},WlXz:function(e,t){!function(){var e=function(e){return new t(e)},t=function(e){var t={scale:2,speed:8,lineWidth:3,linear1:[0,"rgba(150,96,238,1)",.2,"rgba(170,79,249,1)",1,"rgba(53,199,253,1)"],linear2:[0,"rgba(209,130,255,0.6)",1,"rgba(53,199,255,0.6)"],linearBg:[0,"rgba(255,255,255,0.2)",1,"rgba(54,197,252,0.2)"]};for(var n in e)t[n]=e[n];this.set=e=t;var r=e.elem;r&&("string"==typeof r?r=document.querySelector(r):r.length&&(r=r[0])),r&&(e.width=r.offsetWidth,e.height=r.offsetHeight);var a=e.scale,i=e.width*a,s=e.height*a,o=this.elem=document.createElement("div");o.innerHTML='<div style="width:'+e.width+"px;height:"+e.height+'px;overflow:hidden"><div style="width:'+i+"px;height:"+s+"px;transform-origin:0 0;transform:scale("+1/a+')"><canvas/></div></div>';var l=this.canvas=o.querySelector("canvas"),f=this.ctx=l.getContext("2d");l.width=i,l.height=s,this.linear1=this.genLinear(f,i,e.linear1),this.linear2=this.genLinear(f,i,e.linear2),this.linearBg=this.genLinear(f,s,e.linearBg,!0),r&&(r.innerHTML="",r.appendChild(o)),this._phase=0};t.prototype=e.prototype={genLinear:function(e,t,n,r){for(var a=e.createLinearGradient(0,0,r?0:t,r?t:0),i=0;i<n.length;)a.addColorStop(n[i++],n[i++]);return a},genPath:function(e,t,n){for(var r=[],a=this.set,i=a.scale,s=a.width*i,o=a.height*i/2,l=0;l<s;l+=i){var f=(1+Math.cos(Math.PI+l/s*2*Math.PI))/2*o*t*Math.sin(2*Math.PI*(l/s)*e+n)+o;r.push(f)}return r},input:function(e,t,n){var r=this.set,a=this.ctx,i=r.scale,s=r.width*i,o=r.height*i,l=r.speed*e.length/n,f=this._phase-=l,u=t/100,c=this.genPath(2,u,f),_=this.genPath(1.8,u,f+5*l);a.clearRect(0,0,s,o),a.beginPath();for(var h=0,p=0;p<s;h++,p+=i)0==p?a.moveTo(p,c[h]):a.lineTo(p,c[h]);h--;for(p=s-1;p>=0;h--,p-=i)a.lineTo(p,_[h]);a.closePath(),a.fillStyle=this.linearBg,a.fill(),this.drawPath(_,this.linear2),this.drawPath(c,this.linear1)},drawPath:function(e,t){var n=this.set,r=this.ctx,a=n.scale,i=n.width*a;r.beginPath();for(var s=0,o=0;o<i;s++,o+=a)0==o?r.moveTo(o,e[s]):r.lineTo(o,e[s]);r.lineWidth=n.lineWidth*a,r.strokeStyle=t,r.stroke()}},Recorder.WaveView=e}()},"Yz+Y":function(e,t,n){e.exports={default:n("+plK"),__esModule:!0}},inKK:function(e,t,n){"use strict";var r=n("pzx0"),a=n.n(r);Recorder.prototype.enc_mp3={stable:!0,testmsg:"éæ ·çèå´48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000"},Recorder.prototype.mp3=function(e,t,n){var r=this.set,a=e.length,i=new Recorder.lamejs.Mp3Encoder(1,r.sampleRate,r.bitRate),s=[],o=0;!function n(){var r;o<a?(0<(r=i.encodeBuffer(e.subarray(o,o+57600))).length&&s.push(r),o+=57600,setTimeout(n)):(0<(r=i.flush()).length&&s.push(r),t(new Blob(s,{type:"audio/mp3"})))}()},function(){function e(){function t(e){return new Int8Array(e)}function n(e){return new Int32Array(e)}function r(e){return new Float32Array(e)}function i(e){if(1==e.length)return r(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(i(e));return n}function s(e){if(1==e.length)return n(e[0]);var t=e[0];e=e.slice(1);for(var r=[],a=0;a<t;a++)r.push(s(e));return r}function o(e){if(1==e.length)return function(e){return new Int16Array(e)}(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(o(e));return n}function l(e){if(1==e.length)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(l(e));return n}var f={fill:function(e,t,n,r){if(2==arguments.length)for(var a=0;a<e.length;a++)e[a]=t;else for(a=t;a<n;a++)e[a]=r}},u={arraycopy:function(e,t,n,r,a){for(var i=t+a;t<i;)n[r++]=e[t++]}},c={};function _(e){this.ordinal=e}c.SQRT2=1.4142135623730951,c.FAST_LOG10=function(e){return a()(e)},c.FAST_LOG10_X=function(e,t){return a()(e)*t},_.short_block_allowed=new _(0),_.short_block_coupled=new _(1),_.short_block_dispensed=new _(2),_.short_block_forced=new _(3);var h={};function p(e){this.ordinal=e}function d(e){var t=e;this.ordinal=function(){return t}}function m(){var e=null;function t(e){this.bits=0|e}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var r=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function a(e,t,n,r,a,i){var s=.5946/t;for(e>>=1;0!=e--;)a[i++]=s>n[r++]?0:1,a[i++]=s>n[r++]?0:1}function i(t,n,r,a,i,s){var o=(t>>=1)%2;for(t>>=1;0!=t--;){var l,f,u,c,_,h,p,d;l=r[a++]*n,f=r[a++]*n,_=0|l,u=r[a++]*n,h=0|f,c=r[a++]*n,p=0|u,l+=e.adj43[_],d=0|c,f+=e.adj43[h],i[s++]=0|l,u+=e.adj43[p],i[s++]=0|f,c+=e.adj43[d],i[s++]=0|u,i[s++]=0|c}0!=o&&(_=0|(l=r[a++]*n),h=0|(f=r[a++]*n),l+=e.adj43[_],f+=e.adj43[h],i[s++]=0|l,i[s++]=0|f)}var s=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function o(e,t,n,r){var a=function(e,t,n){var r=0,a=0;do{var i=e[t++],s=e[t++];r<i&&(r=i),a<s&&(a=s)}while(t<n);return r<a&&(r=a),r}(e,t,n);switch(a){case 0:return a;case 1:return function(e,t,n,r){var a=0,i=x.ht[1].hlen;do{var s=2*e[t+0]+e[t+1];t+=2,a+=i[s]}while(t<n);return r.bits+=a,1}(e,t,n,r);case 2:case 3:return function(e,t,n,r,a){var i,s,o=0,l=x.ht[r].xlen;s=2==r?x.table23:x.table56;do{var f=e[t+0]*l+e[t+1];t+=2,o+=s[f]}while(t<n);return(i=65535&o)<(o>>=16)&&(o=i,r++),a.bits+=o,r}(e,t,n,s[a-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(e,t,n,r,a){var i=0,s=0,o=0,l=x.ht[r].xlen,f=x.ht[r].hlen,u=x.ht[r+1].hlen,c=x.ht[r+2].hlen;do{var _=e[t+0]*l+e[t+1];t+=2,i+=f[_],s+=u[_],o+=c[_]}while(t<n);var h=r;return s<i&&(i=s,h++),o<i&&(i=o,h=r+2),a.bits+=i,h}(e,t,n,s[a-1],r);default:if(T.IXMAX_VAL<a)return r.bits=T.LARGE_BITS,-1;var i,o;for(a-=15,i=24;i<32&&!(x.ht[i].linmax>=a);i++);for(o=i-8;o<24&&!(x.ht[o].linmax>=a);o++);return function(e,t,n,r,a,i){var s,o=65536*x.ht[r].xlen+x.ht[a].xlen,l=0;do{var f=e[t++],u=e[t++];0!=f&&(14<f&&(f=15,l+=o),f*=16),0!=u&&(14<u&&(u=15,l+=o),f+=u),l+=x.largetbl[f]}while(t<n);return(s=65535&l)<(l>>=16)&&(l=s,r=a),i.bits+=l,r}(e,t,n,o,i,r)}}function l(e,n,r,a,i,s,l,f){for(var u=n.big_values,c=2;c<k.SBMAX_l+1;c++){var _=e.scalefac_band.l[c];if(u<=_)break;var h=i[c-2]+n.count1bits;if(r.part2_3_length<=h)break;var p=new t(h),d=o(a,_,u,p);h=p.bits,r.part2_3_length<=h||(r.assign(n),r.part2_3_length=h,r.region0_count=s[c-2],r.region1_count=c-2-s[c-2],r.table_select[0]=l[c-2],r.table_select[1]=f[c-2],r.table_select[2]=d)}}this.noquant_count_bits=function(e,n,r){var a=n.l3_enc,i=Math.min(576,n.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);1<i&&0==(a[i-1]|a[i-2]);i-=2);n.count1=i;for(var s=0,l=0;3<i;i-=4){var f;if(1<(2147483647&(a[i-1]|a[i-2]|a[i-3]|a[i-4])))break;f=2*(2*(2*a[i-4]+a[i-3])+a[i-2])+a[i-1],s+=x.t32l[f],l+=x.t33l[f]}var u=s;if(n.count1table_select=0,l<s&&(u=l,n.count1table_select=1),n.count1bits=u,0==(n.big_values=i))return u;if(n.block_type==k.SHORT_TYPE)(s=3*e.scalefac_band.s[3])>n.big_values&&(s=n.big_values),l=n.big_values;else if(n.block_type==k.NORM_TYPE){if(s=n.region0_count=e.bv_scf[i-2],l=n.region1_count=e.bv_scf[i-1],l=e.scalefac_band.l[s+l+2],s=e.scalefac_band.l[s+1],l<i){var c=new t(u);n.table_select[2]=o(a,l,i,c),u=c.bits}}else n.region0_count=7,n.region1_count=k.SBMAX_l-1-7-1,(l=i)<(s=e.scalefac_band.l[8])&&(s=l);if(s=Math.min(s,i),l=Math.min(l,i),0<s&&(c=new t(u),n.table_select[0]=o(a,0,s,c),u=c.bits),s<l&&(c=new t(u),n.table_select[1]=o(a,s,l,c),u=c.bits),2==e.use_best_huffman&&(n.part2_3_length=u,best_huffman_divide(e,n),u=n.part2_3_length),null!=r&&n.block_type==k.NORM_TYPE){for(var _=0;e.scalefac_band.l[_]<n.big_values;)_++;r.sfb_count1=_}return u},this.count_bits=function(t,n,r,s){var o=r.l3_enc,l=T.IXMAX_VAL/e.IPOW20(r.global_gain);if(r.xrpow_max>l)return T.LARGE_BITS;if(function(t,n,r,s,o){var l,u,c,_=0,h=0,p=0,d=0,m=n,b=0,v=m,g=0,y=t,x=0;for(c=null!=o&&s.global_gain==o.global_gain,u=s.block_type==k.SHORT_TYPE?38:21,l=0;l<=u;l++){var S=-1;if((c||s.block_type==k.NORM_TYPE)&&(S=s.global_gain-(s.scalefac[l]+(0!=s.preflag?e.pretab[l]:0)<<s.scalefac_scale+1)-8*s.subblock_gain[s.window[l]]),c&&o.step[l]==S)0!=h&&(i(h,r,y,x,v,g),h=0),0!=p&&(a(p,r,y,x,v,g),p=0);else{var w,A=s.width[l];if(_+s.width[l]>s.max_nonzero_coeff&&(w=s.max_nonzero_coeff-_+1,f.fill(n,s.max_nonzero_coeff,576,0),(A=w)<0&&(A=0),l=u+1),0==h&&0==p&&(v=m,g=b,y=t,x=d),null!=o&&0<o.sfb_count1&&l>=o.sfb_count1&&0<o.step[l]&&S>=o.step[l]?(0!=h&&(i(h,r,y,x,v,g),h=0,v=m,g=b,y=t,x=d),p+=A):(0!=p&&(a(p,r,y,x,v,g),p=0,v=m,g=b,y=t,x=d),h+=A),A<=0){0!=p&&(a(p,r,y,x,v,g),p=0),0!=h&&(i(h,r,y,x,v,g),h=0);break}}l<=u&&(b+=s.width[l],d+=s.width[l],_+=s.width[l])}0!=h&&(i(h,r,y,x,v,g),h=0),0!=p&&(a(p,r,y,x,v,g),p=0)}(n,o,e.IPOW20(r.global_gain),r,s),0!=(2&t.substep_shaping))for(var u=0,c=r.global_gain+r.scalefac_scale,_=.634521682242439/e.IPOW20(c),h=0;h<r.sfbmax;h++){var p,d=r.width[h];if(0==t.pseudohalf[h])u+=d;else for(p=u,u+=d;p<u;++p)o[p]=n[p]>=_?o[p]:0}return this.noquant_count_bits(t,r,s)},this.best_huffman_divide=function(e,r){var a=new R,i=r.l3_enc,s=n(23),f=n(23),u=n(23),c=n(23);if(r.block_type!=k.SHORT_TYPE||1!=e.mode_gr){a.assign(r),r.block_type==k.NORM_TYPE&&(function(e,n,r,a,i,s,l){for(var f=n.big_values,u=0;u<=22;u++)a[u]=T.LARGE_BITS;for(u=0;u<16;u++){var c=e.scalefac_band.l[u+1];if(f<=c)break;var _=0,h=new t(_),p=o(r,0,c,h);_=h.bits;for(var d=0;d<8;d++){var m=e.scalefac_band.l[u+d+2];if(f<=m)break;var b=_,v=o(r,c,m,h=new t(b));b=h.bits,a[u+d]>b&&(a[u+d]=b,s[(i[u+d]=u)+d]=p,l[u+d]=v)}}}(e,r,i,s,f,u,c),l(e,a,r,i,s,f,u,c));var _=a.big_values;if(!(0==_||1<(i[_-2]|i[_-1])||576<(_=r.count1+2))){a.assign(r),a.count1=_;for(var h=0,p=0;_>a.big_values;_-=4){var d=2*(2*(2*i[_-4]+i[_-3])+i[_-2])+i[_-1];h+=x.t32l[d],p+=x.t33l[d]}if(a.big_values=_,a.count1table_select=0,p<h&&(h=p,a.count1table_select=1),a.count1bits=h,a.block_type==k.NORM_TYPE)l(e,a,r,i,s,f,u,c);else{if(a.part2_3_length=h,_<(h=e.scalefac_band.l[8])&&(h=_),0<h){var m=new t(a.part2_3_length);a.table_select[0]=o(i,0,h,m),a.part2_3_length=m.bits}h<_&&(m=new t(a.part2_3_length),a.table_select[1]=o(i,h,_,m),a.part2_3_length=m.bits),r.part2_3_length>a.part2_3_length&&r.assign(a)}}}};var c=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],_=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],h=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],p=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];m.slen1_tab=h,m.slen2_tab=p,this.best_scalefac_store=function(t,n,r,a){var i,s,o,l,f=a.tt[n][r],u=0;for(i=o=0;i<f.sfbmax;i++){var d=f.width[i];for(o+=d,l=-d;l<0&&0==f.l3_enc[l+o];l++);0==l&&(f.scalefac[i]=u=-2)}if(0==f.scalefac_scale&&0==f.preflag){var m=0;for(i=0;i<f.sfbmax;i++)0<f.scalefac[i]&&(m|=f.scalefac[i]);if(0==(1&m)&&0!=m){for(i=0;i<f.sfbmax;i++)0<f.scalefac[i]&&(f.scalefac[i]>>=1);f.scalefac_scale=u=1}}if(0==f.preflag&&f.block_type!=k.SHORT_TYPE&&2==t.mode_gr){for(i=11;i<k.SBPSY_l&&!(f.scalefac[i]<e.pretab[i]&&-2!=f.scalefac[i]);i++);if(i==k.SBPSY_l){for(i=11;i<k.SBPSY_l;i++)0<f.scalefac[i]&&(f.scalefac[i]-=e.pretab[i]);f.preflag=u=1}}for(s=0;s<4;s++)a.scfsi[r][s]=0;for(2==t.mode_gr&&1==n&&a.tt[0][r].block_type!=k.SHORT_TYPE&&a.tt[1][r].block_type!=k.SHORT_TYPE&&(function(e,t){for(var n,r=t.tt[1][e],a=t.tt[0][e],i=0;i<x.scfsi_band.length-1;i++){for(n=x.scfsi_band[i];n<x.scfsi_band[i+1]&&!(a.scalefac[n]!=r.scalefac[n]&&0<=r.scalefac[n]);n++);if(n==x.scfsi_band[i+1]){for(n=x.scfsi_band[i];n<x.scfsi_band[i+1];n++)r.scalefac[n]=-1;t.scfsi[e][i]=1}}var s=0,o=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(o++,s<r.scalefac[n]&&(s=r.scalefac[n]));for(var l=0,f=0;n<k.SBPSY_l;n++)-1!=r.scalefac[n]&&(f++,l<r.scalefac[n]&&(l=r.scalefac[n]));for(i=0;i<16;i++)if(s<c[i]&&l<_[i]){var u=h[i]*o+p[i]*f;r.part2_length>u&&(r.part2_length=u,r.scalefac_compress=i)}}(r,a),u=0),i=0;i<f.sfbmax;i++)-2==f.scalefac[i]&&(f.scalefac[i]=0);0!=u&&(2==t.mode_gr?this.scale_bitcount(f):this.scale_bitcount_lsf(t,f))};var d=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],b=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],v=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var n,r,a,i=0,s=0,o=t.scalefac;if(t.block_type==k.SHORT_TYPE)a=d,0!=t.mixed_block_flag&&(a=b);else if(a=v,0==t.preflag){for(r=11;r<k.SBPSY_l&&!(o[r]<e.pretab[r]);r++);if(r==k.SBPSY_l)for(t.preflag=1,r=11;r<k.SBPSY_l;r++)o[r]-=e.pretab[r]}for(r=0;r<t.sfbdivide;r++)i<o[r]&&(i=o[r]);for(;r<t.sfbmax;r++)s<o[r]&&(s=o[r]);for(t.part2_length=T.LARGE_BITS,n=0;n<16;n++)i<c[n]&&s<_[n]&&t.part2_length>a[n]&&(t.part2_length=a[n],t.scalefac_compress=n);return t.part2_length==T.LARGE_BITS};var g=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,r){var a,i,s,o,l,f,c,_,h=n(4),p=r.scalefac;for(a=0!=r.preflag?2:0,c=0;c<4;c++)h[c]=0;if(r.block_type==k.SHORT_TYPE){i=1;var d=e.nr_of_sfb_block[a][i];for(s=_=0;s<4;s++)for(o=d[s]/3,c=0;c<o;c++,_++)for(l=0;l<3;l++)p[3*_+l]>h[s]&&(h[s]=p[3*_+l])}else for(i=0,d=e.nr_of_sfb_block[a][i],s=_=0;s<4;s++)for(o=d[s],c=0;c<o;c++,_++)p[_]>h[s]&&(h[s]=p[_]);for(f=!1,s=0;s<4;s++)h[s]>g[a][s]&&(f=!0);if(!f){var m,b,v,x;for(r.sfb_partition_table=e.nr_of_sfb_block[a][i],s=0;s<4;s++)r.slen[s]=y[h[s]];switch(m=r.slen[0],b=r.slen[1],v=r.slen[2],x=r.slen[3],a){case 0:r.scalefac_compress=(5*m+b<<4)+(v<<2)+x;break;case 1:r.scalefac_compress=400+(5*m+b<<2)+v;break;case 2:r.scalefac_compress=500+3*m+b;break;default:u.err.printf("intensity stereo not implemented yet\n")}}if(!f)for(s=r.part2_length=0;s<4;s++)r.part2_length+=r.slen[s]*r.sfb_partition_table[s];return f};var y=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var n,a=0;e.scalefac_band.l[++a]<t;);for(n=r[a][0];e.scalefac_band.l[n+1]>t;)n--;for(n<0&&(n=r[a][0]),e.bv_scf[t-2]=n,n=r[a][1];e.scalefac_band.l[n+e.bv_scf[t-2]+2]>t;)n--;n<0&&(n=r[a][1]),e.bv_scf[t-1]=n}}}function b(){var e=b.RMS_WINDOW_TIME_NUMERATOR,t=b.RMS_WINDOW_TIME_DENOMINATOR,n=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],r=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function i(e,t,n,r,a,i){for(;0!=a--;)n[r]=1e-10+e[t+0]*i[0]-n[r-1]*i[1]+e[t-1]*i[2]-n[r-2]*i[3]+e[t-2]*i[4]-n[r-3]*i[5]+e[t-3]*i[6]-n[r-4]*i[7]+e[t-4]*i[8]-n[r-5]*i[9]+e[t-5]*i[10]-n[r-6]*i[11]+e[t-6]*i[12]-n[r-7]*i[13]+e[t-7]*i[14]-n[r-8]*i[15]+e[t-8]*i[16]-n[r-9]*i[17]+e[t-9]*i[18]-n[r-10]*i[19]+e[t-10]*i[20],++r,++t}function s(e,t,n,r,a,i){for(;0!=a--;)n[r]=e[t+0]*i[0]-n[r-1]*i[1]+e[t-1]*i[2]-n[r-2]*i[3]+e[t-2]*i[4],++r,++t}function o(e){return e*e}this.InitGainAnalysis=function(n,r){return function(n,r){for(var a=0;a<MAX_ORDER;a++)n.linprebuf[a]=n.lstepbuf[a]=n.loutbuf[a]=n.rinprebuf[a]=n.rstepbuf[a]=n.routbuf[a]=0;switch(0|r){case 48e3:n.reqindex=0;break;case 44100:n.reqindex=1;break;case 32e3:n.reqindex=2;break;case 24e3:n.reqindex=3;break;case 22050:n.reqindex=4;break;case 16e3:n.reqindex=5;break;case 12e3:n.reqindex=6;break;case 11025:n.reqindex=7;break;case 8e3:n.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return n.sampleWindow=0|(r*e+t-1)/t,n.lsum=0,n.rsum=0,n.totsamp=0,f.ill(n.A,0),INIT_GAIN_ANALYSIS_OK}(n,r)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(n.linpre=MAX_ORDER,n.rinpre=MAX_ORDER,n.lstep=MAX_ORDER,n.rstep=MAX_ORDER,n.lout=MAX_ORDER,n.rout=MAX_ORDER,f.fill(n.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,l,f,c,_,h){var p,d,m,v,g,y,x;if(0==_)return GAIN_ANALYSIS_OK;switch(x=0,g=_,h){case 1:f=t,c=l;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(_<MAX_ORDER?(u.arraycopy(t,l,e.linprebuf,MAX_ORDER,_),u.arraycopy(f,c,e.rinprebuf,MAX_ORDER,_)):(u.arraycopy(t,l,e.linprebuf,MAX_ORDER,MAX_ORDER),u.arraycopy(f,c,e.rinprebuf,MAX_ORDER,MAX_ORDER));0<g;){y=g>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:g,x<MAX_ORDER?(p=e.linpre+x,d=e.linprebuf,m=e.rinpre+x,v=e.rinprebuf,y>MAX_ORDER-x&&(y=MAX_ORDER-x)):(p=l+x,d=t,m=c+x,v=f),i(d,p,e.lstepbuf,e.lstep+e.totsamp,y,n[e.reqindex]),i(v,m,e.rstepbuf,e.rstep+e.totsamp,y,n[e.reqindex]),s(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,y,r[e.reqindex]),s(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,y,r[e.reqindex]),p=e.lout+e.totsamp,d=e.loutbuf,m=e.rout+e.totsamp,v=e.routbuf;for(var S=y%8;0!=S--;)e.lsum+=o(d[p++]),e.rsum+=o(v[m++]);for(S=y/8;0!=S--;)e.lsum+=o(d[p+0])+o(d[p+1])+o(d[p+2])+o(d[p+3])+o(d[p+4])+o(d[p+5])+o(d[p+6])+o(d[p+7]),p+=8,e.rsum+=o(v[m+0])+o(v[m+1])+o(v[m+2])+o(v[m+3])+o(v[m+4])+o(v[m+5])+o(v[m+6])+o(v[m+7]),m+=8;if(g-=y,x+=y,e.totsamp+=y,e.totsamp==e.sampleWindow){var w=10*b.STEPS_per_dB*a()((e.lsum+e.rsum)/e.totsamp*.5+1e-37),A=w<=0?0:0|w;A>=e.A.length&&(A=e.A.length-1),e.A[A]++,e.lsum=e.rsum=0,u.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),u.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),u.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),u.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return _<MAX_ORDER?(u.arraycopy(e.linprebuf,_,e.linprebuf,0,MAX_ORDER-_),u.arraycopy(e.rinprebuf,_,e.rinprebuf,0,MAX_ORDER-_),u.arraycopy(t,l,e.linprebuf,MAX_ORDER-_,_),u.arraycopy(f,c,e.rinprebuf,MAX_ORDER-_,_)):(u.arraycopy(t,l+_-MAX_ORDER,e.linprebuf,0,MAX_ORDER),u.arraycopy(f,c+_-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=function(e,t){var n,r=0;for(n=0;n<t;n++)r+=e[n];if(0==r)return GAIN_NOT_ENOUGH_SAMPLES;var a=0|Math.ceil(r*(1-.95));for(n=t;0<n--&&!((a-=e[n])<=0););return 64.82-n/b.STEPS_per_dB}(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}function v(){var e,n,r;this.setModules=function(t,a,i){e=t,n=a,r=i};var a=v.NUMTOCENTRIES,i=v.MAXFRAMESIZE,s=a+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,o=128,l=64,c=32,h="Xing",d="Info",m=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function b(e,t){var n=255&e[t+0];return n<<=8,n|=255&e[t+1],n<<=8,n|=255&e[t+2],(n<<=8)|255&e[t+3]}function g(e,t,n){e[t+0]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n}function y(e,t,n){e[t+0]=255&n>>8,e[t+1]=255&n}function S(e,t,n){return 255&(e<<t|n&~(-1<<t))}function w(t,n){var r=t.internal_flags;n[0]=S(n[0],8,255),n[1]=S(n[1],3,7),n[1]=S(n[1],1,t.out_samplerate<16e3?0:1),n[1]=S(n[1],1,t.version),n[1]=S(n[1],2,1),n[1]=S(n[1],1,t.error_protection?0:1),n[2]=S(n[2],4,r.bitrate_index),n[2]=S(n[2],2,r.samplerate_index),n[2]=S(n[2],1,0),n[2]=S(n[2],1,t.extension),n[3]=S(n[3],2,t.mode.ordinal()),n[3]=S(n[3],2,r.mode_ext),n[3]=S(n[3],1,t.copyright),n[3]=S(n[3],1,t.original),n[3]=S(n[3],2,t.emphasis),n[0]=255;var a,i,s=241&n[1];a=1==t.version?o:t.out_samplerate<16e3?c:l,t.VBR==p.vbr_off&&(a=t.brate),i=t.free_format?0:255&16*e.BitrateIndex(a,t.version,t.out_samplerate),1==t.version?n[1]=255&(10|s):n[1]=255&(2|s),s=13&n[2],n[2]=255&(i|s)}function A(e,t){return t>>8^m[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,n=x.bitrate_table[e.version][t.bitrate_index];!function(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var n=1;n<e.size;n+=2)e.bag[n/2]=e.bag[n];e.want*=2,e.pos/=2}}(t.VBR_seek_table,n)},this.getVbrTag=function(e){var t=new VBRTagData,n=0;t.flags=0;var r,i,s=e[n+1]>>3&1,o=e[n+2]>>2&3,l=e[n+3]>>6&3,f=e[n+2]>>4&15;if(f=x.bitrate_table[s][f],e[n+1]>>4==14?t.samprate=x.samplerate_table[2][o]:t.samprate=x.samplerate_table[s][o],r=e,i=n+=0!=s?3!=l?36:21:3!=l?21:13,!new String(r,i,h.length(),null).equals(h)&&!new String(r,i,d.length(),null).equals(d))return null;n+=4,t.hId=s;var u=t.flags=b(e,n);if(n+=4,0!=(1&u)&&(t.frames=b(e,n),n+=4),0!=(2&u)&&(t.bytes=b(e,n),n+=4),0!=(4&u)){if(null!=t.toc)for(var c=0;c<a;c++)t.toc[c]=e[n+c];n+=a}t.vbrScale=-1,0!=(8&u)&&(t.vbrScale=b(e,n),n+=4),t.headersize=72e3*(s+1)*f/t.samprate;var _=e[(n+=21)+0]<<4;_+=e[n+1]>>4;var p=(15&e[n+1])<<8;return(_<0||3e3<_)&&(_=-1),((p+=255&e[n+2])<0||3e3<p)&&(p=-1),t.encDelay=_,t.encPadding=p,t},this.InitVbrTag=function(e){var r,a=e.internal_flags;r=1==e.version?o:e.out_samplerate<16e3?c:l,e.VBR==p.vbr_off&&(r=e.brate);var f=72e3*(e.version+1)*r/e.out_samplerate,u=a.sideinfo_len+s;if((a.VBR_seek_table.TotalFrameSize=f)<u||i<f)e.bWriteVbrTag=!1;else{a.VBR_seek_table.nVbrNumFrames=0,a.VBR_seek_table.nBytesWritten=0,a.VBR_seek_table.sum=0,a.VBR_seek_table.seen=0,a.VBR_seek_table.want=1,a.VBR_seek_table.pos=0,null==a.VBR_seek_table.bag&&(a.VBR_seek_table.bag=new int[400],a.VBR_seek_table.size=400);var _=t(i);w(e,_);for(var h=a.VBR_seek_table.TotalFrameSize,d=0;d<h;++d)n.add_dummy_byte(e,255&_[d],1)}},this.updateMusicCRC=function(e,t,n,r){for(var a=0;a<r;++a)e[0]=A(t[n+a],e[0])},this.getLameTagFrame=function(e,i){var s=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(s.Class_ID!=H.LAME_ID)return 0;if(s.VBR_seek_table.pos<=0)return 0;if(i.length<s.VBR_seek_table.TotalFrameSize)return s.VBR_seek_table.TotalFrameSize;f.fill(i,0,s.VBR_seek_table.TotalFrameSize,0),w(e,i);var o=t(a);if(e.free_format)for(var l=1;l<a;++l)o[l]=255&255*l/100;else!function(e,t){if(!(e.pos<=0))for(var n=1;n<a;++n){var r=n/a,i=0|Math.floor(r*e.pos);i>e.pos-1&&(i=e.pos-1);var s=0|256*e.bag[i]/e.sum;255<s&&(s=255),t[n]=255&s}}(s.VBR_seek_table,o);var c=s.sideinfo_len;e.error_protection&&(c-=2),e.VBR==p.vbr_off?(i[c++]=255&d.charAt(0),i[c++]=255&d.charAt(1),i[c++]=255&d.charAt(2),i[c++]=255&d.charAt(3)):(i[c++]=255&h.charAt(0),i[c++]=255&h.charAt(1),i[c++]=255&h.charAt(2),i[c++]=255&h.charAt(3)),g(i,c,15),g(i,c+=4,s.VBR_seek_table.nVbrNumFrames),c+=4;var m=s.VBR_seek_table.nBytesWritten+s.VBR_seek_table.TotalFrameSize;g(i,c,0|m),c+=4,u.arraycopy(o,0,i,c,o.length),c+=o.length,e.error_protection&&n.CRC_writeheader(s,i);var b=0;for(l=0;l<c;l++)b=A(i[l],b);return c+=function(e,t,n,a,i){var s,o,l,f,u,c,h=e.internal_flags,p=0,d=e.encoder_delay,m=e.encoder_padding,b=100-10*e.VBR_q-e.quality,v=r.getLameVeryShortVersion(),x=[1,5,3,2,4,0,3],S=0|(255<e.lowpassfreq/100+.5?255:e.lowpassfreq/100+.5),w=0,T=0,R=e.internal_flags.noise_shaping,M=0,E=0,k=0!=(1&e.exp_nspsytune),B=0!=(2&e.exp_nspsytune),P=!1,N=!1,H=e.internal_flags.nogap_total,L=e.internal_flags.nogap_current,D=e.ATHtype;switch(e.VBR){case vbr_abr:u=e.VBR_mean_bitrate_kbps;break;case vbr_off:u=e.brate;break;default:u=e.VBR_min_bitrate_kbps}switch(s=0+(e.VBR.ordinal()<x.length?x[e.VBR.ordinal()]:0),h.findReplayGain&&(510<h.RadioGain&&(h.RadioGain=510),h.RadioGain<-510&&(h.RadioGain=-510),T=8192,T|=3072,0<=h.RadioGain?T|=h.RadioGain:(T|=512,T|=-h.RadioGain)),h.findPeakSample&&(w=Math.abs(0|h.PeakSample/32767*Math.pow(2,23)+.5)),-1!=H&&(0<L&&(N=!0),L<H-1&&(P=!0)),f=D+((k?1:0)<<4)+((B?1:0)<<5)+((P?1:0)<<6)+((N?1:0)<<7),b<0&&(b=0),e.mode){case MONO:M=0;break;case STEREO:M=1;break;case DUAL_CHANNEL:M=2;break;case JOINT_STEREO:M=e.force_ms?4:3;break;case NOT_SET:default:M=7}c=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:48e3<e.in_samplerate?3:1,(e.short_blocks==_.short_block_forced||e.short_blocks==_.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==D||e.in_samplerate<=32e3)&&(E=1),o=R+(M<<2)+(E<<5)+(c<<6),l=h.nMusicCRC,g(n,a+p,b),p+=4;for(var C=0;C<9;C++)n[a+p+C]=255&v.charAt(C);n[a+(p+=9)]=255&s,n[a+ ++p]=255&S,g(n,a+ ++p,w),y(n,a+(p+=4),T),y(n,a+(p+=2),0),n[a+(p+=2)]=255&f,n[a+ ++p]=255<=u?255:255&u,n[a+ ++p]=255&d>>4,n[a+p+1]=255&(d<<4)+(m>>8),n[a+p+2]=255&m,n[a+(p+=3)]=255&o,p++,n[a+p++]=0,y(n,a+p,e.preset),g(n,a+(p+=2),t),y(n,a+(p+=4),l),p+=2;for(var O=0;O<p;O++)i=A(n[a+O],i);return y(n,a+p,i),p+2}(e,m,i,c,b),s.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,n){if(e.internal_flags.VBR_seek_table.pos<=0)return-1;if(n.seek(n.length()),0==n.length())return-1;var r=function(e){e.seek(0);var n=t(10);return e.readFully(n),new String(n,"ISO-8859-1").startsWith("ID3")?0:((127&n[6])<<21|(127&n[7])<<14|(127&n[8])<<7|127&n[9])+n.length}(n);n.seek(r);var a=t(i),s=getLameTagFrame(e,a);return s>a.length?-1:(s<1||n.write(a,0,s),0)}}function g(){var e=this,r=32773,s=null,o=null,l=null,c=null;this.setModules=function(e,t,n,r){s=e,o=t,l=n,c=r};var _=null,h=0,p=0,d=0;function v(e,t,n){for(;0<n;){var r;0==d&&(d=8,p++,e.header[e.w_ptr].write_timing==h&&(a=e,u.arraycopy(a.header[a.w_ptr].buf,0,_,p,a.sideinfo_len),p+=a.sideinfo_len,h+=8*a.sideinfo_len,a.w_ptr=a.w_ptr+1&P.MAX_HEADER_BUF-1),_[p]=0),n-=r=Math.min(n,d),d-=r,_[p]|=t>>n<<d,h+=r}var a}function g(e,t,n){for(;0<n;){var r;0==d&&(d=8,_[++p]=0),n-=r=Math.min(n,d),d-=r,_[p]|=t>>n<<d,h+=r}}function y(e,t){var n,r=e.internal_flags;if(8<=t&&(v(r,76,8),t-=8),8<=t&&(v(r,65,8),t-=8),8<=t&&(v(r,77,8),t-=8),8<=t&&(v(r,69,8),t-=8),32<=t){var a=l.getLameShortVersion();if(32<=t)for(n=0;n<a.length&&8<=t;++n)t-=8,v(r,a.charAt(n),8)}for(;1<=t;t-=1)v(r,r.ancillary_flag,1),r.ancillary_flag^=e.disable_reservoir?0:1}function S(e,t,n){for(var r=e.header[e.h_ptr].ptr;0<n;){var a=Math.min(n,8-(7&r));n-=a,e.header[e.h_ptr].buf[r>>3]|=t>>n<<8-(7&r)-a,r+=a}e.header[e.h_ptr].ptr=r}function w(e,t){e<<=8;for(var n=0;n<8;n++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=r);return t}function A(e,t){var n,r=x.ht[t.count1table_select+32],a=0,i=t.big_values,s=t.big_values;for(n=(t.count1-t.big_values)/4;0<n;--n){var o=0,l=0;0!=t.l3_enc[i+0]&&(l+=8,t.xr[s+0]<0&&o++),0!=t.l3_enc[i+1]&&(l+=4,o*=2,t.xr[s+1]<0&&o++),0!=t.l3_enc[i+2]&&(l+=2,o*=2,t.xr[s+2]<0&&o++),0!=t.l3_enc[i+3]&&(l++,o*=2,t.xr[s+3]<0&&o++),i+=4,s+=4,v(e,o+r.table[l],r.hlen[l]),a+=r.hlen[l]}return a}function T(e,t,n,r,a){var i=x.ht[t],s=0;if(0==t)return s;for(var o=n;o<r;o+=2){var l=0,f=0,u=i.xlen,c=i.xlen,_=0,h=a.l3_enc[o],p=a.l3_enc[o+1];0!=h&&(a.xr[o]<0&&_++,l--),15<t&&(14<h&&(_|=h-15<<1,f=u,h=15),14<p&&(_<<=u,_|=p-15,f+=u,p=15),c=16),0!=p&&(_<<=1,a.xr[o+1]<0&&_++,l--),h=h*c+p,f-=l,l+=i.hlen[h],v(e,i.table[h],l),v(e,_,f),s+=l+f}return s}function R(e,t){var n=3*e.scalefac_band.s[3];return n>t.big_values&&(n=t.big_values),T(e,t.table_select[0],0,n,t)+T(e,t.table_select[1],n,t.big_values,t)}function M(e,t){var n,r,a,i;n=t.big_values;var s=t.region0_count+1;return a=e.scalefac_band.l[s],s+=t.region1_count+1,n<a&&(a=n),n<(i=e.scalefac_band.l[s])&&(i=n),r=T(e,t.table_select[0],0,a,t),(r+=T(e,t.table_select[1],a,i,t))+T(e,t.table_select[2],i,n,t)}function E(){this.total=0}function B(t,n){var r,a,i,s,o,l=t.internal_flags;return o=l.w_ptr,-1==(s=l.h_ptr-1)&&(s=P.MAX_HEADER_BUF-1),r=l.header[s].write_timing-h,0<=(n.total=r)&&(a=1+s-o,s<o&&(a=1+s-o+P.MAX_HEADER_BUF),r-=8*a*l.sideinfo_len),r+=i=e.getframebits(t),n.total+=i,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=p+1,r<0&&u.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(e){var t,n=e.internal_flags;return t=0!=n.bitrate_index?x.bitrate_table[e.version][n.bitrate_index]:e.brate,8*(0|72e3*(e.version+1)*t/e.out_samplerate+n.padding)},this.CRC_writeheader=function(e,t){var n=65535;n=w(255&t[2],n),n=w(255&t[3],n);for(var r=6;r<e.sideinfo_len;r++)n=w(255&t[r],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,r=e.internal_flags,i=r.h_ptr-1;if(-1==i&&(i=P.MAX_HEADER_BUF-1),t=r.l3_side,!((n=B(e,new E))<0)){if(y(e,n),r.ResvSize=0,t.main_data_begin=0,r.findReplayGain){var o=s.GetTitleGain(r.rgdata);r.RadioGain=0|Math.floor(10*o+.5)}r.findPeakSample&&(r.noclipGainChange=0|Math.ceil(20*a()(r.PeakSample/32767)*10),0<r.noclipGainChange&&(EQ(e.scale,1)||EQ(e.scale,0))?r.noclipScale=Math.floor(32767/r.PeakSample*100)/100:r.noclipScale=-1)}},this.add_dummy_byte=function(e,t,n){for(var r,a=e.internal_flags;0<n--;)for(g(0,t,8),r=0;r<P.MAX_HEADER_BUF;++r)a.header[r].write_timing+=8},this.format_bitstream=function(e){var t,n=e.internal_flags;t=n.l3_side;var r=this.getframebits(e);y(e,t.resvDrain_pre),function(e,t){var n,r,a,i=e.internal_flags;if(n=i.l3_side,i.header[i.h_ptr].ptr=0,f.fill(i.header[i.h_ptr].buf,0,i.sideinfo_len,0),e.out_samplerate<16e3?S(i,4094,12):S(i,4095,12),S(i,e.version,1),S(i,1,2),S(i,e.error_protection?0:1,1),S(i,i.bitrate_index,4),S(i,i.samplerate_index,2),S(i,i.padding,1),S(i,e.extension,1),S(i,e.mode.ordinal(),2),S(i,i.mode_ext,2),S(i,e.copyright,1),S(i,e.original,1),S(i,e.emphasis,2),e.error_protection&&S(i,0,16),1==e.version){for(S(i,n.main_data_begin,9),2==i.channels_out?S(i,n.private_bits,3):S(i,n.private_bits,5),a=0;a<i.channels_out;a++){var s;for(s=0;s<4;s++)S(i,n.scfsi[a][s],1)}for(r=0;r<2;r++)for(a=0;a<i.channels_out;a++)S(i,(o=n.tt[r][a]).part2_3_length+o.part2_length,12),S(i,o.big_values/2,9),S(i,o.global_gain,8),S(i,o.scalefac_compress,4),o.block_type!=k.NORM_TYPE?(S(i,1,1),S(i,o.block_type,2),S(i,o.mixed_block_flag,1),14==o.table_select[0]&&(o.table_select[0]=16),S(i,o.table_select[0],5),14==o.table_select[1]&&(o.table_select[1]=16),S(i,o.table_select[1],5),S(i,o.subblock_gain[0],3),S(i,o.subblock_gain[1],3),S(i,o.subblock_gain[2],3)):(S(i,0,1),14==o.table_select[0]&&(o.table_select[0]=16),S(i,o.table_select[0],5),14==o.table_select[1]&&(o.table_select[1]=16),S(i,o.table_select[1],5),14==o.table_select[2]&&(o.table_select[2]=16),S(i,o.table_select[2],5),S(i,o.region0_count,4),S(i,o.region1_count,3)),S(i,o.preflag,1),S(i,o.scalefac_scale,1),S(i,o.count1table_select,1)}else for(S(i,n.main_data_begin,8),S(i,n.private_bits,i.channels_out),a=r=0;a<i.channels_out;a++){var o;S(i,(o=n.tt[r][a]).part2_3_length+o.part2_length,12),S(i,o.big_values/2,9),S(i,o.global_gain,8),S(i,o.scalefac_compress,9),o.block_type!=k.NORM_TYPE?(S(i,1,1),S(i,o.block_type,2),S(i,o.mixed_block_flag,1),14==o.table_select[0]&&(o.table_select[0]=16),S(i,o.table_select[0],5),14==o.table_select[1]&&(o.table_select[1]=16),S(i,o.table_select[1],5),S(i,o.subblock_gain[0],3),S(i,o.subblock_gain[1],3),S(i,o.subblock_gain[2],3)):(S(i,0,1),14==o.table_select[0]&&(o.table_select[0]=16),S(i,o.table_select[0],5),14==o.table_select[1]&&(o.table_select[1]=16),S(i,o.table_select[1],5),14==o.table_select[2]&&(o.table_select[2]=16),S(i,o.table_select[2],5),S(i,o.region0_count,4),S(i,o.region1_count,3)),S(i,o.scalefac_scale,1),S(i,o.count1table_select,1)}e.error_protection&&CRC_writeheader(i,i.header[i.h_ptr].buf);var l=i.h_ptr;i.h_ptr=l+1&P.MAX_HEADER_BUF-1,i.header[i.h_ptr].write_timing=i.header[l].write_timing+t,i.h_ptr==i.w_ptr&&u.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(e,r);var a=8*n.sideinfo_len;if(a+=function(e){var t,n,r,a,i=0,s=e.internal_flags,o=s.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<s.channels_out;n++){var l=o.tt[t][n],f=m.slen1_tab[l.scalefac_compress],u=m.slen2_tab[l.scalefac_compress];for(r=a=0;r<l.sfbdivide;r++)-1!=l.scalefac[r]&&(v(s,l.scalefac[r],f),a+=f);for(;r<l.sfbmax;r++)-1!=l.scalefac[r]&&(v(s,l.scalefac[r],u),a+=u);l.block_type==k.SHORT_TYPE?a+=R(s,l):a+=M(s,l),i+=a+=A(s,l)}else for(n=t=0;n<s.channels_out;n++){var c,_,h=0;if(_=r=a=0,(l=o.tt[t][n]).block_type==k.SHORT_TYPE){for(;_<4;_++){var p=l.sfb_partition_table[_]/3,d=l.slen[_];for(c=0;c<p;c++,r++)v(s,Math.max(l.scalefac[3*r+0],0),d),v(s,Math.max(l.scalefac[3*r+1],0),d),v(s,Math.max(l.scalefac[3*r+2],0),d),h+=3*d}a+=R(s,l)}else{for(;_<4;_++)for(p=l.sfb_partition_table[_],d=l.slen[_],c=0;c<p;c++,r++)v(s,Math.max(l.scalefac[r],0),d),h+=d;a+=M(s,l)}i+=h+(a+=A(s,l))}return i}(e),y(e,t.resvDrain_post),a+=t.resvDrain_post,t.main_data_begin+=(r-a)/8,B(e,new E)!=n.ResvSize&&u.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=n.ResvSize&&(u.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,n.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*n.sideinfo_len,a-t.resvDrain_post-8*n.sideinfo_len,a,a%8,r),u.err.println("This is a fatal error.  It has several possible causes:"),u.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),u.err.println(" 9%%  Your system is overclocked"),u.err.println(" 1%%  bug in LAME encoding library"),n.ResvSize=8*t.main_data_begin),1e9<h){var i;for(i=0;i<P.MAX_HEADER_BUF;++i)n.header[i].write_timing-=h;h=0}return 0},this.copy_buffer=function(e,t,r,a,l){var f=p+1;if(f<=0)return 0;if(0!=a&&a<f)return-1;if(u.arraycopy(_,0,t,r,f),p=-1,(d=0)!=l){var h=n(1);if(h[0]=e.nMusicCRC,c.updateMusicCRC(h,t,r,f),e.nMusicCRC=h[0],0<f&&(e.VBR_seek_table.nBytesWritten+=f),e.decode_on_the_fly)for(var m,v=i([2,1152]),g=f,y=-1;0!=y;)if(y=o.hip_decode1_unclipped(e.hip,t,r,g,v[0],v[1]),g=0,-1==y&&(y=0),0<y){if(e.findPeakSample){for(m=0;m<y;m++)v[0][m]>e.PeakSample?e.PeakSample=v[0][m]:-v[0][m]>e.PeakSample&&(e.PeakSample=-v[0][m]);if(1<e.channels_out)for(m=0;m<y;m++)v[1][m]>e.PeakSample?e.PeakSample=v[1][m]:-v[1][m]>e.PeakSample&&(e.PeakSample=-v[1][m])}if(e.findReplayGain&&s.AnalyzeSamples(e.rgdata,v[0],0,v[1],0,y,e.channels_out)==b.GAIN_ANALYSIS_ERROR)return-6}}return f},this.init_bit_stream_w=function(e){_=t(H.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,p=-1,h=d=0}}function y(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}h.MAX_VALUE=3.4028235e38,p.vbr_off=new p(0),p.vbr_mt=new p(1),p.vbr_rh=new p(2),p.vbr_abr=new p(3),p.vbr_mtrh=new p(4),p.vbr_default=p.vbr_mtrh,d.STEREO=new d(0),d.JOINT_STEREO=new d(1),d.DUAL_CHANNEL=new d(2),d.MONO=new d(3),d.NOT_SET=new d(4),b.STEPS_per_dB=100,b.MAX_dB=120,b.GAIN_NOT_ENOUGH_SAMPLES=-24601,b.GAIN_ANALYSIS_ERROR=0,b.GAIN_ANALYSIS_OK=1,b.INIT_GAIN_ANALYSIS_ERROR=0,b.INIT_GAIN_ANALYSIS_OK=1,b.MAX_ORDER=b.YULE_ORDER=10,b.MAX_SAMPLES_PER_WINDOW=(b.MAX_SAMP_FREQ=48e3)*(b.RMS_WINDOW_TIME_NUMERATOR=1)/(b.RMS_WINDOW_TIME_DENOMINATOR=20)+1,v.NUMTOCENTRIES=100,v.MAXFRAMESIZE=2880,g.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},g.NEQ=function(e,t){return!g.EQ(e,t)};var x={};function S(e){this.bits=e}function w(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function A(e,t,r,a){this.l=n(1+k.SBMAX_l),this.s=n(1+k.SBMAX_s),this.psfb21=n(1+k.PSFB21),this.psfb12=n(1+k.PSFB12);var i=this.l,s=this.s;4==arguments.length&&(this.arrL=e,this.arrS=t,this.arr21=r,this.arr12=a,u.arraycopy(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),u.arraycopy(this.arrS,0,s,0,Math.min(this.arrS.length,this.s.length)),u.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),u.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function T(){var e=null,t=null,i=null;this.setModules=function(n,r,a){e=n,t=r,i=a},this.IPOW20=function(e){return m[e]};var s=2.220446049250313e-16,o=T.IXMAX_VAL+2,l=T.Q_MAX,f=T.Q_MAX2,u=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var _=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=_,this.sfBandIndex=[new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new A([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var d=r(l+f+1),m=r(l),b=r(o),v=r(o);function y(e,t){var n=i.ATHformula(t,e);return n-=u,Math.pow(10,n/10+e.ATHlower)}function x(e){this.s=e}this.adj43=v,this.iteration_init=function(t){var n,r=t.internal_flags,i=r.l3_side;if(0==r.iteration_init_init){for(r.iteration_init_init=1,i.main_data_begin=0,function(e){for(var t=e.internal_flags.ATH.l,n=e.internal_flags.ATH.psfb21,r=e.internal_flags.ATH.s,i=e.internal_flags.ATH.psfb12,s=e.internal_flags,o=e.out_samplerate,l=0;l<k.SBMAX_l;l++){var f=s.scalefac_band.l[l],u=s.scalefac_band.l[l+1];t[l]=h.MAX_VALUE;for(var c=f;c<u;c++){var _=y(e,c*o/1152);t[l]=Math.min(t[l],_)}}for(l=0;l<k.PSFB21;l++)for(f=s.scalefac_band.psfb21[l],u=s.scalefac_band.psfb21[l+1],n[l]=h.MAX_VALUE,c=f;c<u;c++)_=y(e,c*o/1152),n[l]=Math.min(n[l],_);for(l=0;l<k.SBMAX_s;l++){for(f=s.scalefac_band.s[l],u=s.scalefac_band.s[l+1],r[l]=h.MAX_VALUE,c=f;c<u;c++)_=y(e,c*o/384),r[l]=Math.min(r[l],_);r[l]*=s.scalefac_band.s[l+1]-s.scalefac_band.s[l]}for(l=0;l<k.PSFB12;l++){for(f=s.scalefac_band.psfb12[l],u=s.scalefac_band.psfb12[l+1],i[l]=h.MAX_VALUE,c=f;c<u;c++)_=y(e,c*o/384),i[l]=Math.min(i[l],_);i[l]*=s.scalefac_band.s[13]-s.scalefac_band.s[12]}if(e.noATH){for(l=0;l<k.SBMAX_l;l++)t[l]=1e-20;for(l=0;l<k.PSFB21;l++)n[l]=1e-20;for(l=0;l<k.SBMAX_s;l++)r[l]=1e-20;for(l=0;l<k.PSFB12;l++)i[l]=1e-20}s.ATH.floor=10*a()(y(e,-1))}(t),b[0]=0,n=1;n<o;n++)b[n]=Math.pow(n,4/3);for(n=0;n<o-1;n++)v[n]=n+1-Math.pow(.5*(b[n]+b[n+1]),.75);for(v[n]=.5,n=0;n<l;n++)m[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=l+f;n++)d[n]=Math.pow(2,.25*(n-210-f));var s,u,c,_;for(e.huffman_init(r),32<=(n=t.exp_nspsytune>>2&63)&&(n-=64),s=Math.pow(10,n/4/10),32<=(n=t.exp_nspsytune>>8&63)&&(n-=64),u=Math.pow(10,n/4/10),32<=(n=t.exp_nspsytune>>14&63)&&(n-=64),c=Math.pow(10,n/4/10),32<=(n=t.exp_nspsytune>>20&63)&&(n-=64),_=c*Math.pow(10,n/4/10),n=0;n<k.SBMAX_l;n++)p=n<=6?s:n<=13?u:n<=20?c:_,r.nsPsy.longfact[n]=p;for(n=0;n<k.SBMAX_s;n++){var p;p=n<=5?s:n<=10?u:n<=11?c:_,r.nsPsy.shortfact[n]=p}}},this.on_pe=function(e,r,a,i,s,o){var l,f,u=e.internal_flags,c=0,_=n(2),h=new S(c),p=t.ResvMaxBits(e,i,h,o),d=(c=h.bits)+p;for(P.MAX_BITS_PER_GRANULE<d&&(d=P.MAX_BITS_PER_GRANULE),f=l=0;f<u.channels_out;++f)a[f]=Math.min(P.MAX_BITS_PER_CHANNEL,c/u.channels_out),_[f]=0|a[f]*r[s][f]/700-a[f],_[f]>3*i/4&&(_[f]=3*i/4),_[f]<0&&(_[f]=0),_[f]+a[f]>P.MAX_BITS_PER_CHANNEL&&(_[f]=Math.max(0,P.MAX_BITS_PER_CHANNEL-a[f])),l+=_[f];if(p<l)for(f=0;f<u.channels_out;++f)_[f]=p*_[f]/l;for(f=0;f<u.channels_out;++f)a[f]+=_[f],p-=_[f];for(f=l=0;f<u.channels_out;++f)l+=a[f];if(P.MAX_BITS_PER_GRANULE<l)for(f=0;f<u.channels_out;++f)a[f]*=P.MAX_BITS_PER_GRANULE,a[f]/=l,a[f];return d},this.reduce_side=function(e,t,n,r){var a=.33*(.5-t)/.5;a<0&&(a=0),.5<a&&(a=.5);var i=0|.5*a*(e[0]+e[1]);i>P.MAX_BITS_PER_CHANNEL-e[0]&&(i=P.MAX_BITS_PER_CHANNEL-e[0]),i<0&&(i=0),125<=e[1]&&(125<e[1]-i?(e[0]<n&&(e[0]+=i),e[1]-=i):(e[0]+=e[1]-125,e[1]=125)),r<(i=e[0]+e[1])&&(e[0]=r*e[0]/i,e[1]=r*e[1]/i)},this.athAdjust=function(e,t,n){var r=90.30873362,a=c.FAST_LOG10_X(t,10),i=e*e,s=0;return a-=n,1e-20<i&&(s=1+c.FAST_LOG10_X(i,10/r)),s<0&&(s=0),a*=s,a+=n+r-94.82444863,Math.pow(10,.1*a)},this.calc_xmin=function(e,t,n,r){var a,i=0,o=e.internal_flags,l=0,f=0,u=o.ATH,c=n.xr,_=e.VBR==p.vbr_mtrh?1:0,h=o.masking_lower;for(e.VBR!=p.vbr_mtrh&&e.VBR!=p.vbr_mt||(h=1),a=0;a<n.psy_lmax;a++){w=(S=e.VBR==p.vbr_rh||e.VBR==p.vbr_mtrh?athAdjust(u.adjust,u.l[a],u.floor):u.adjust*u.l[a])/(v=n.width[a]),A=s,E=v>>1,M=0;do{M+=B=c[l]*c[l],A+=B<w?B:w,M+=P=c[++l]*c[l],A+=P<w?P:w,l++}while(0<--E);S<M&&f++,a==k.SBPSY_l&&A<(R=S*o.nsPsy.longfact[a])&&(A=R),0!=_&&(S=A),e.ATHonly||0<(T=t.en.l[a])&&(R=M*t.thm.l[a]*h/T,0!=_&&(R*=o.nsPsy.longfact[a]),S<R&&(S=R)),r[i++]=0!=_?S:S*o.nsPsy.longfact[a]}var d=575;if(n.block_type!=k.SHORT_TYPE)for(var m=576;0!=m--&&g.EQ(c[m],0);)d=m;n.max_nonzero_coeff=d;for(var b=n.sfb_smin;a<n.psymax;b++,a+=3){var v,y,x;for(x=e.VBR==p.vbr_rh||e.VBR==p.vbr_mtrh?athAdjust(u.adjust,u.s[b],u.floor):u.adjust*u.s[b],v=n.width[a],y=0;y<3;y++){var S,w,A,T,R,M=0,E=v>>1;w=x/v,A=s;do{var B,P;M+=B=c[l]*c[l],A+=B<w?B:w,M+=P=c[++l]*c[l],A+=P<w?P:w,l++}while(0<--E);x<M&&f++,b==k.SBPSY_s&&A<(R=x*o.nsPsy.shortfact[b])&&(A=R),S=0!=_?A:x,e.ATHonly||e.ATHshort||0<(T=t.en.s[b][y])&&(R=M*t.thm.s[b][y]*h/T,0!=_&&(R*=o.nsPsy.shortfact[b]),S<R&&(S=R)),r[i++]=0!=_?S:S*o.nsPsy.shortfact[b]}e.useTemporal&&(r[i-3]>r[i-3+1]&&(r[i-3+1]+=(r[i-3]-r[i-3+1])*o.decay),r[i-3+1]>r[i-3+2]&&(r[i-3+2]+=(r[i-3+1]-r[i-3+2])*o.decay))}return f},this.calc_noise_core=function(e,t,n,a){var i=0,s=t.s,o=e.l3_enc;if(s>e.count1)for(;0!=n--;)f=e.xr[s],s++,i+=f*f,f=e.xr[s],s++,i+=f*f;else if(s>e.big_values){var l=r(2);for(l[0]=0,l[1]=a;0!=n--;)f=Math.abs(e.xr[s])-l[o[s]],s++,i+=f*f,f=Math.abs(e.xr[s])-l[o[s]],s++,i+=f*f}else for(;0!=n--;){var f;f=Math.abs(e.xr[s])-b[o[s]]*a,s++,i+=f*f,f=Math.abs(e.xr[s])-b[o[s]]*a,s++,i+=f*f}return t.s=s,i},this.calc_noise=function(e,t,n,r,a){var i,s,o=0,l=0,f=0,u=0,h=0,p=-20,m=0,b=e.scalefac,v=0;for(i=r.over_SSD=0;i<e.psymax;i++){var g,y=e.global_gain-(b[v++]+(0!=e.preflag?_[i]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[i]],S=0;if(null!=a&&a.step[i]==y)S=a.noise[i],m+=e.width[i],n[o++]=S/t[l++],S=a.noise_log[i];else{var w,A=d[y+T.Q_MAX2];s=e.width[i]>>1,m+e.width[i]>e.max_nonzero_coeff&&(s=0<(w=e.max_nonzero_coeff-m+1)?w>>1:0);var R=new x(m);S=this.calc_noise_core(e,R,s,A),m=R.s,null!=a&&(a.step[i]=y,a.noise[i]=S),S=n[o++]=S/t[l++],S=c.FAST_LOG10(Math.max(S,1e-20)),null!=a&&(a.noise_log[i]=S)}null!=a&&(a.global_gain=e.global_gain),h+=S,0<S&&(g=Math.max(0|10*S+.5,1),r.over_SSD+=g*g,f++,u+=S),p=Math.max(p,S)}return r.over_count=f,r.tot_noise=h,r.over_noise=u,r.max_noise=p,f},this.set_pinfo=function(e,t,n,a,i){var s,o,l,f,u,c=e.internal_flags,h=0==t.scalefac_scale?.5:1,p=t.scalefac,d=r(M.SFBMAX),m=r(M.SFBMAX),b=new w;calc_xmin(e,n,t,d),calc_noise(t,d,m,b,null);var v=0;for(o=t.sfb_lmax,t.block_type!=k.SHORT_TYPE&&0==t.mixed_block_flag&&(o=22),s=0;s<o;s++){var g=c.scalefac_band.l[s],y=(x=c.scalefac_band.l[s+1])-g;for(f=0;v<x;v++)f+=t.xr[v]*t.xr[v];f/=y,u=1e15,c.pinfo.en[a][i][s]=u*f,c.pinfo.xfsf[a][i][s]=u*d[s]*m[s]/y,0<n.en.l[s]&&!e.ATHonly?f/=n.en.l[s]:f=0,c.pinfo.thr[a][i][s]=u*Math.max(f*n.thm.l[s],c.ATH.l[s]),(c.pinfo.LAMEsfb[a][i][s]=0)!=t.preflag&&11<=s&&(c.pinfo.LAMEsfb[a][i][s]=-h*_[s]),s<k.SBPSY_l&&(c.pinfo.LAMEsfb[a][i][s]-=h*p[s])}if(t.block_type==k.SHORT_TYPE)for(o=s,s=t.sfb_smin;s<k.SBMAX_s;s++){g=c.scalefac_band.s[s],y=(x=c.scalefac_band.s[s+1])-g;for(var x,S=0;S<3;S++){for(f=0,l=g;l<x;l++)f+=t.xr[v]*t.xr[v],v++;f=Math.max(f/y,1e-20),u=1e15,c.pinfo.en_s[a][i][3*s+S]=u*f,c.pinfo.xfsf_s[a][i][3*s+S]=u*d[o]*m[o]/y,0<n.en.s[s][S]?f/=n.en.s[s][S]:f=0,(e.ATHonly||e.ATHshort)&&(f=0),c.pinfo.thr_s[a][i][3*s+S]=u*Math.max(f*n.thm.s[s][S],c.ATH.s[s]),c.pinfo.LAMEsfb_s[a][i][3*s+S]=-2*t.subblock_gain[S],s<k.SBPSY_s&&(c.pinfo.LAMEsfb_s[a][i][3*s+S]-=h*p[o]),o++}}c.pinfo.LAMEqss[a][i]=t.global_gain,c.pinfo.LAMEmainbits[a][i]=t.part2_3_length+t.part2_length,c.pinfo.LAMEsfbits[a][i]=t.part2_length,c.pinfo.over[a][i]=b.over_count,c.pinfo.max_noise[a][i]=10*b.max_noise,c.pinfo.over_noise[a][i]=10*b.over_noise,c.pinfo.tot_noise[a][i]=10*b.tot_noise,c.pinfo.over_SSD[a][i]=b.over_SSD}}function R(){this.xr=r(576),this.l3_enc=n(576),this.scalefac=n(M.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=n(3),this.subblock_gain=n(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=n(M.SFBMAX),this.window=n(M.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=n(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(n){var r;e.xr=(r=n.xr,new Float32Array(r)),e.l3_enc=t(n.l3_enc),e.scalefac=t(n.scalefac),e.xrpow_max=n.xrpow_max,e.part2_3_length=n.part2_3_length,e.big_values=n.big_values,e.count1=n.count1,e.global_gain=n.global_gain,e.scalefac_compress=n.scalefac_compress,e.block_type=n.block_type,e.mixed_block_flag=n.mixed_block_flag,e.table_select=t(n.table_select),e.subblock_gain=t(n.subblock_gain),e.region0_count=n.region0_count,e.region1_count=n.region1_count,e.preflag=n.preflag,e.scalefac_scale=n.scalefac_scale,e.count1table_select=n.count1table_select,e.part2_length=n.part2_length,e.sfb_lmax=n.sfb_lmax,e.sfb_smin=n.sfb_smin,e.psy_lmax=n.psy_lmax,e.sfbmax=n.sfbmax,e.psymax=n.psymax,e.sfbdivide=n.sfbdivide,e.width=t(n.width),e.window=t(n.window),e.count1bits=n.count1bits,e.sfb_partition_table=n.sfb_partition_table.slice(0),e.slen=t(n.slen),e.max_nonzero_coeff=n.max_nonzero_coeff}}x.t1HB=[1,1,1,0],x.t2HB=[1,2,1,3,1,1,3,2,0],x.t3HB=[3,2,1,1,1,1,3,2,0],x.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],x.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],x.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],x.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],x.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],x.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],x.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],x.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],x.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],x.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],x.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],x.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],x.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],x.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],x.t1l=[1,4,3,5],x.t2l=[1,4,7,4,5,7,6,7,8],x.t3l=[2,3,7,4,4,7,6,7,8],x.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],x.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],x.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],x.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],x.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],x.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],x.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],x.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],x.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],x.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],x.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],x.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],x.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],x.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],x.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],x.ht=[new y(0,0,null,null),new y(2,0,x.t1HB,x.t1l),new y(3,0,x.t2HB,x.t2l),new y(3,0,x.t3HB,x.t3l),new y(0,0,null,null),new y(4,0,x.t5HB,x.t5l),new y(4,0,x.t6HB,x.t6l),new y(6,0,x.t7HB,x.t7l),new y(6,0,x.t8HB,x.t8l),new y(6,0,x.t9HB,x.t9l),new y(8,0,x.t10HB,x.t10l),new y(8,0,x.t11HB,x.t11l),new y(8,0,x.t12HB,x.t12l),new y(16,0,x.t13HB,x.t13l),new y(0,0,null,x.t16_5l),new y(16,0,x.t15HB,x.t15l),new y(1,1,x.t16HB,x.t16l),new y(2,3,x.t16HB,x.t16l),new y(3,7,x.t16HB,x.t16l),new y(4,15,x.t16HB,x.t16l),new y(6,63,x.t16HB,x.t16l),new y(8,255,x.t16HB,x.t16l),new y(10,1023,x.t16HB,x.t16l),new y(13,8191,x.t16HB,x.t16l),new y(4,15,x.t24HB,x.t24l),new y(5,31,x.t24HB,x.t24l),new y(6,63,x.t24HB,x.t24l),new y(7,127,x.t24HB,x.t24l),new y(8,255,x.t24HB,x.t24l),new y(9,511,x.t24HB,x.t24l),new y(11,2047,x.t24HB,x.t24l),new y(13,8191,x.t24HB,x.t24l),new y(0,0,x.t32HB,x.t32l),new y(0,0,x.t33HB,x.t33l)],x.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],x.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],x.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],x.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],x.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],x.scfsi_band=[0,6,11,16,21],T.Q_MAX=257,T.Q_MAX2=116,T.LARGE_BITS=1e5,T.IXMAX_VAL=8206;var M={};function E(){this.thm=new B,this.en=new B}function k(){var e=k.FFTOFFSET,t=k.MPG_MD_MS_LR,a=null,s=this.psy=null,o=null,_=null;this.setModules=function(e,t,n,r){a=e,this.psy=t,s=t,o=r,_=n};var h=new function(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*c.SQRT2*.5/2384e-9,.017876148*c.SQRT2*.5/2384e-9,.003134727*c.SQRT2*.5/2384e-9,.002457142*c.SQRT2*.5/2384e-9,971317e-9*c.SQRT2*.5/2384e-9,218868e-9*c.SQRT2*.5/2384e-9,101566e-9*c.SQRT2*.5/2384e-9,13828e-9*c.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,49591e-9/2384e-9,1995.1556208053692,21458e-9/2384e-9,-69618e-9/2384e-9],t=[[2.382191739347913e-13,6.423305872147834e-13,9.400849094049688e-13,1.122435026096556e-12,1.183840321267481e-12,1.122435026096556e-12,9.40084909404969e-13,6.423305872147839e-13,2.382191739347918e-13,5.456116108943412e-12,4.878985199565852e-12,4.240448995017367e-12,3.559909094758252e-12,2.858043359288075e-12,2.156177623817898e-12,1.475637723558783e-12,8.371015190102974e-13,2.599706096327376e-13,-5.456116108943412e-12,-4.878985199565852e-12,-4.240448995017367e-12,-3.559909094758252e-12,-2.858043359288076e-12,-2.156177623817898e-12,-1.475637723558783e-12,-8.371015190102975e-13,-2.599706096327376e-13,-2.382191739347923e-13,-6.423305872147843e-13,-9.400849094049696e-13,-1.122435026096556e-12,-1.183840321267481e-12,-1.122435026096556e-12,-9.400849094049694e-13,-6.42330587214784e-13,-2.382191739347918e-13],[2.382191739347913e-13,6.423305872147834e-13,9.400849094049688e-13,1.122435026096556e-12,1.183840321267481e-12,1.122435026096556e-12,9.400849094049688e-13,6.423305872147841e-13,2.382191739347918e-13,5.456116108943413e-12,4.878985199565852e-12,4.240448995017367e-12,3.559909094758253e-12,2.858043359288075e-12,2.156177623817898e-12,1.475637723558782e-12,8.371015190102975e-13,2.599706096327376e-13,-5.461314069809755e-12,-4.921085770524055e-12,-4.343405037091838e-12,-3.732668368707687e-12,-3.093523840190885e-12,-2.430835727329465e-12,-1.734679010007751e-12,-9.74825365660928e-13,-2.797435120168326e-13,0,0,0,0,0,0,-2.283748241799531e-13,-4.037858874020686e-13,-2.146547464825323e-13],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2.283748241799531e-13,4.037858874020686e-13,2.146547464825323e-13,5.461314069809755e-12,4.921085770524055e-12,4.343405037091838e-12,3.732668368707687e-12,3.093523840190885e-12,2.430835727329466e-12,1.734679010007751e-12,9.74825365660928e-13,2.797435120168326e-13,-5.456116108943413e-12,-4.878985199565852e-12,-4.240448995017367e-12,-3.559909094758253e-12,-2.858043359288075e-12,-2.156177623817898e-12,-1.475637723558782e-12,-8.371015190102975e-13,-2.599706096327376e-13,-2.382191739347913e-13,-6.423305872147834e-13,-9.400849094049688e-13,-1.122435026096556e-12,-1.183840321267481e-12,-1.122435026096556e-12,-9.400849094049688e-13,-6.423305872147841e-13,-2.382191739347918e-13]],n=t[k.SHORT_TYPE],a=t[k.SHORT_TYPE],i=t[k.SHORT_TYPE],s=t[k.SHORT_TYPE],o=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function l(t,n,r){for(var a,i,s,o=10,l=n+238-14-286,f=-15;f<0;f++){var u,_,h;u=e[o+-10],_=t[l+-224]*u,h=t[n+224]*u,u=e[o+-9],_+=t[l+-160]*u,h+=t[n+160]*u,u=e[o+-8],_+=t[l+-96]*u,h+=t[n+96]*u,u=e[o+-7],_+=t[l+-32]*u,h+=t[n+32]*u,u=e[o+-6],_+=t[l+32]*u,h+=t[n+-32]*u,u=e[o+-5],_+=t[l+96]*u,h+=t[n+-96]*u,u=e[o+-4],_+=t[l+160]*u,h+=t[n+-160]*u,u=e[o+-3],_+=t[l+224]*u,h+=t[n+-224]*u,u=e[o+-2],_+=t[n+-256]*u,h-=t[l+256]*u,u=e[o+-1],_+=t[n+-192]*u,h-=t[l+192]*u,u=e[o+0],_+=t[n+-128]*u,h-=t[l+128]*u,u=e[o+1],_+=t[n+-64]*u,h-=t[l+64]*u,u=e[o+2],_+=t[n+0]*u,h-=t[l+0]*u,u=e[o+3],_+=t[n+64]*u,h-=t[l+-64]*u,u=e[o+4],_+=t[n+128]*u,h-=t[l+-128]*u,u=e[o+5],_+=t[n+192]*u,u=(h-=t[l+-192]*u)-(_*=e[o+6]),r[30+2*f]=h+_,r[31+2*f]=e[o+7]*u,o+=18,n--,l++}h=t[n+-16]*e[o+-10],_=t[n+-32]*e[o+-2],h+=(t[n+-48]-t[n+16])*e[o+-9],_+=t[n+-96]*e[o+-1],h+=(t[n+-80]+t[n+48])*e[o+-8],_+=t[n+-160]*e[o+0],h+=(t[n+-112]-t[n+80])*e[o+-7],_+=t[n+-224]*e[o+1],h+=(t[n+-144]+t[n+112])*e[o+-6],_-=t[n+32]*e[o+2],h+=(t[n+-176]-t[n+144])*e[o+-5],_-=t[n+96]*e[o+3],h+=(t[n+-208]+t[n+176])*e[o+-4],_-=t[n+160]*e[o+4],h+=(t[n+-240]-t[n+208])*e[o+-3],a=(_-=t[n+224])-h,i=_+h,h=r[14],_=r[15]-h,r[31]=i+h,r[30]=a+_,r[15]=a-_,r[14]=i-h,s=r[28]-r[0],r[0]+=r[28],r[28]=s*e[o+-36+7],s=r[29]-r[1],r[1]+=r[29],r[29]=s*e[o+-36+7],s=r[26]-r[2],r[2]+=r[26],r[26]=s*e[o+-72+7],s=r[27]-r[3],r[3]+=r[27],r[27]=s*e[o+-72+7],s=r[24]-r[4],r[4]+=r[24],r[24]=s*e[o+-108+7],s=r[25]-r[5],r[5]+=r[25],r[25]=s*e[o+-108+7],s=r[22]-r[6],r[6]+=r[22],r[22]=s*c.SQRT2,s=r[23]-r[7],r[7]+=r[23],r[23]=s*c.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],s=r[6],r[6]=r[31]-s,r[31]=r[31]+s,s=r[7],r[7]=r[30]-s,r[30]=r[30]+s,s=r[22],r[22]=r[15]-s,r[15]=r[15]+s,s=r[23],r[23]=r[14]-s,r[14]=r[14]+s,s=r[20]-r[8],r[8]+=r[20],r[20]=s*e[o+-180+7],s=r[21]-r[9],r[9]+=r[21],r[21]=s*e[o+-180+7],s=r[18]-r[10],r[10]+=r[18],r[18]=s*e[o+-216+7],s=r[19]-r[11],r[11]+=r[19],r[19]=s*e[o+-216+7],s=r[16]-r[12],r[12]+=r[16],r[16]=s*e[o+-252+7],s=r[17]-r[13],r[13]+=r[17],r[17]=s*e[o+-252+7],s=-r[20]+r[24],r[20]+=r[24],r[24]=s*e[o+-216+7],s=-r[21]+r[25],r[21]+=r[25],r[25]=s*e[o+-216+7],s=r[4]-r[8],r[4]+=r[8],r[8]=s*e[o+-216+7],s=r[5]-r[9],r[5]+=r[9],r[9]=s*e[o+-216+7],s=r[0]-r[12],r[0]+=r[12],r[12]=s*e[o+-72+7],s=r[1]-r[13],r[1]+=r[13],r[13]=s*e[o+-72+7],s=r[16]-r[28],r[16]+=r[28],r[28]=s*e[o+-72+7],s=-r[17]+r[29],r[17]+=r[29],r[29]=s*e[o+-72+7],s=c.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=s,s=c.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=s,s=c.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=s-r[18],s=c.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=s-r[19],s=r[2],r[19]-=r[3],r[3]-=s,r[2]=r[31]-s,r[31]+=s,s=r[3],r[11]-=r[19],r[18]-=s,r[3]=r[30]-s,r[30]+=s,s=r[18],r[27]-=r[11],r[19]-=s,r[18]=r[15]-s,r[15]+=s,s=r[19],r[10]-=s,r[19]=r[14]-s,r[14]+=s,s=r[10],r[11]-=s,r[10]=r[23]-s,r[23]+=s,s=r[11],r[26]-=s,r[11]=r[22]-s,r[22]+=s,s=r[26],r[27]-=s,r[26]=r[7]-s,r[7]+=s,s=r[27],r[27]=r[6]-s,r[6]+=s,s=c.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=s,s=c.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=s,s=c.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=s,s=c.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=s,s=-c.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=s-r[8],s=-c.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=s-r[9],s=-c.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=s-r[25],s=-c.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=s-r[24],s=r[24]-r[16],r[24]=s,s=r[20]-s,r[20]=s,s=r[28]-s,r[28]=s,s=r[25]-r[17],r[25]=s,s=r[21]-s,r[21]=s,s=r[29]-s,r[29]=s,s=r[17]-r[1],r[17]=s,s=r[9]-s,r[9]=s,s=r[25]-s,r[25]=s,s=r[5]-s,r[5]=s,s=r[21]-s,r[21]=s,s=r[13]-s,r[13]=s,s=r[29]-s,r[29]=s,s=r[1]-r[0],r[1]=s,s=r[16]-s,r[16]=s,s=r[17]-s,r[17]=s,s=r[8]-s,r[8]=s,s=r[9]-s,r[9]=s,s=r[24]-s,r[24]=s,s=r[25]-s,r[25]=s,s=r[4]-s,r[4]=s,s=r[5]-s,r[5]=s,s=r[20]-s,r[20]=s,s=r[21]-s,r[21]=s,s=r[12]-s,r[12]=s,s=r[13]-s,r[13]=s,s=r[28]-s,r[28]=s,s=r[29]-s,r[29]=s,s=r[0],r[0]+=r[31],r[31]-=s,s=r[1],r[1]+=r[30],r[30]-=s,s=r[16],r[16]+=r[15],r[15]-=s,s=r[17],r[17]+=r[14],r[14]-=s,s=r[8],r[8]+=r[23],r[23]-=s,s=r[9],r[9]+=r[22],r[22]-=s,s=r[24],r[24]+=r[7],r[7]-=s,s=r[25],r[25]+=r[6],r[6]-=s,s=r[4],r[4]+=r[27],r[27]-=s,s=r[5],r[5]+=r[26],r[26]-=s,s=r[20],r[20]+=r[11],r[11]-=s,s=r[21],r[21]+=r[10],r[10]-=s,s=r[12],r[12]+=r[19],r[19]-=s,s=r[13],r[13]+=r[18],r[18]-=s,s=r[28],r[28]+=r[3],r[3]-=s,s=r[29],r[29]+=r[2],r[2]-=s}function _(e,n){for(var r=0;r<3;r++){var a,i,s,o,l,f;i=(o=e[n+6]*t[k.SHORT_TYPE][0]-e[n+15])+(a=e[n+0]*t[k.SHORT_TYPE][2]-e[n+9]),s=o-a,l=(o=e[n+15]*t[k.SHORT_TYPE][0]+e[n+6])+(a=e[n+9]*t[k.SHORT_TYPE][2]+e[n+0]),f=-o+a,a=2.069978111953089e-11*(e[n+3]*t[k.SHORT_TYPE][1]-e[n+12]),o=2.069978111953089e-11*(e[n+12]*t[k.SHORT_TYPE][1]+e[n+3]),e[n+0]=1.90752519173728e-11*i+a,e[n+15]=1.90752519173728e-11*-l+o,s=.8660254037844387*s*1.907525191737281e-11,l=.5*l*1.907525191737281e-11+o,e[n+3]=s-l,e[n+6]=s+l,i=.5*i*1.907525191737281e-11-a,f=.8660254037844387*f*1.907525191737281e-11,e[n+9]=i+f,e[n+12]=i-f,n++}}this.mdct_sub48=function(e,c,h){for(var p,d,m,b,v,g,y,x,S,w,A,T,R,M,E,B,P,N,H,L,D,C=c,O=286,I=0;I<e.channels_out;I++){for(var q=0;q<e.mode_gr;q++){for(var V,j=e.l3_side.tt[q][I],X=j.xr,F=0,Y=e.sb_sample[I][1-q],z=0,W=0;W<9;W++)for(l(C,O,Y[z]),l(C,O+32,Y[z+1]),z+=2,O+=64,V=1;V<32;V+=2)Y[z-1][V]*=-1;for(V=0;V<32;V++,F+=18){var G=j.block_type,U=e.sb_sample[I][q],K=e.sb_sample[I][1-q];if(0!=j.mixed_block_flag&&V<2&&(G=0),e.amp_filter[V]<1e-12)f.fill(X,F+0,F+18,0);else{if(e.amp_filter[V]<1)for(W=0;W<18;W++)K[W][o[V]]*=e.amp_filter[V];if(G==k.SHORT_TYPE){for(W=-3;W<0;W++){var Z=t[k.SHORT_TYPE][W+3];X[F+3*W+9]=U[9+W][o[V]]*Z-U[8-W][o[V]],X[F+3*W+18]=U[14-W][o[V]]*Z+U[15+W][o[V]],X[F+3*W+10]=U[15+W][o[V]]*Z-U[14-W][o[V]],X[F+3*W+19]=K[2-W][o[V]]*Z+K[3+W][o[V]],X[F+3*W+11]=K[3+W][o[V]]*Z-K[2-W][o[V]],X[F+3*W+20]=K[8-W][o[V]]*Z+K[9+W][o[V]]}_(X,F)}else{var Q=r(18);for(W=-9;W<0;W++){var $,J;$=t[G][W+27]*K[W+9][o[V]]+t[G][W+36]*K[8-W][o[V]],J=t[G][W+9]*U[W+9][o[V]]-t[G][W+18]*U[8-W][o[V]],Q[W+9]=$-J*n[3+W+9],Q[W+18]=$*n[3+W+9]+J}p=X,d=F,D=L=H=N=P=B=E=M=R=T=A=w=S=x=y=g=v=b=void 0,g=(m=Q)[17]-m[9],x=m[15]-m[11],S=m[14]-m[12],w=m[0]+m[8],A=m[1]+m[7],T=m[2]+m[6],R=m[3]+m[5],p[d+17]=w+T-R-(A-m[4]),v=(w+T-R)*a[19]+(A-m[4]),b=(g-x-S)*a[18],p[d+5]=b+v,p[d+6]=b-v,y=(m[16]-m[10])*a[18],A=A*a[19]+m[4],b=g*a[12]+y+x*a[13]+S*a[14],v=-w*a[16]+A-T*a[17]+R*a[15],p[d+1]=b+v,p[d+2]=b-v,b=g*a[13]-y-x*a[14]+S*a[12],v=-w*a[17]+A-T*a[15]+R*a[16],p[d+9]=b+v,p[d+10]=b-v,b=g*a[14]-y+x*a[12]-S*a[13],v=w*a[15]-A+T*a[16]-R*a[17],p[d+13]=b+v,p[d+14]=b-v,M=m[8]-m[0],B=m[6]-m[2],P=m[5]-m[3],N=m[17]+m[9],H=m[16]+m[10],L=m[15]+m[11],D=m[14]+m[12],p[d+0]=N+L+D+(H+m[13]),b=(N+L+D)*a[19]-(H+m[13]),v=(M-B+P)*a[18],p[d+11]=b+v,p[d+12]=b-v,E=(m[7]-m[1])*a[18],H=m[13]-H*a[19],b=N*a[15]-H+L*a[16]+D*a[17],v=M*a[14]+E+B*a[12]+P*a[13],p[d+3]=b+v,p[d+4]=b-v,b=-N*a[17]+H-L*a[15]-D*a[16],v=M*a[13]+E-B*a[14]-P*a[12],p[d+7]=b+v,p[d+8]=b-v,b=-N*a[16]+H-L*a[17]-D*a[15],v=M*a[12]-E+B*a[13]-P*a[14],p[d+15]=b+v,p[d+16]=b-v}}if(G!=k.SHORT_TYPE&&0!=V)for(W=7;0<=W;--W){var ee,te;ee=X[F+W]*i[20+W]+X[F+-1-W]*s[28+W],te=X[F+W]*s[28+W]-X[F+-1-W]*i[20+W],X[F+-1-W]=ee,X[F+W]=te}}}if(C=h,O=286,1==e.mode_gr)for(var ne=0;ne<18;ne++)u.arraycopy(e.sb_sample[I][1][ne],0,e.sb_sample[I][0][ne],0,32)}}};this.lame_encode_mp3_frame=function(f,c,m,b,v,g){var y,x=l([2,2]);x[0][0]=new E,x[0][1]=new E,x[1][0]=new E,x[1][1]=new E;var S,w=l([2,2]);w[0][0]=new E,w[0][1]=new E,w[1][0]=new E,w[1][1]=new E;var A,T,R,M=[null,null],B=f.internal_flags,P=i([2,4]),N=[.5,.5],H=[[0,0],[0,0]],L=[[0,0],[0,0]];if(M[0]=c,M[1]=m,0==B.lame_encode_frame_init&&function(e,t){var n,a,i=e.internal_flags;if(0==i.lame_encode_frame_init){var s,o,l=r(2014),f=r(2014);for(i.lame_encode_frame_init=1,o=s=0;s<286+576*(1+i.mode_gr);++s)s<576*i.mode_gr?(l[s]=0,2==i.channels_out&&(f[s]=0)):(l[s]=t[0][o],2==i.channels_out&&(f[s]=t[1][o]),++o);for(a=0;a<i.mode_gr;a++)for(n=0;n<i.channels_out;n++)i.l3_side.tt[a][n].block_type=k.SHORT_TYPE;h.mdct_sub48(i,l,f)}}(f,M),B.padding=0,(B.slot_lag-=B.frac_SpF)<0&&(B.slot_lag+=f.out_samplerate,B.padding=1),0!=B.psymodel){var D=[null,null],C=0,O=n(2);for(R=0;R<B.mode_gr;R++){for(T=0;T<B.channels_out;T++)D[T]=M[T],C=576+576*R-k.FFTOFFSET;if(0!=(f.VBR==p.vbr_mtrh||f.VBR==p.vbr_mt?s.L3psycho_anal_vbr(f,D,C,R,x,w,H[R],L[R],P[R],O):s.L3psycho_anal_ns(f,D,C,R,x,w,H[R],L[R],P[R],O)))return-4;for(f.mode==d.JOINT_STEREO&&(N[R]=P[R][2]+P[R][3],0<N[R]&&(N[R]=P[R][3]/N[R])),T=0;T<B.channels_out;T++){var I=B.l3_side.tt[R][T];I.block_type=O[T],I.mixed_block_flag=0}}}else for(R=0;R<B.mode_gr;R++)for(T=0;T<B.channels_out;T++)B.l3_side.tt[R][T].block_type=k.NORM_TYPE,B.l3_side.tt[R][T].mixed_block_flag=0,L[R][T]=H[R][T]=700;if(function(e){var t,n;if(0!=e.ATH.useAdjust)if(n=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(n+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(n+=n,t+=t),2==e.mode_gr&&(n=Math.max(n,t)),n*=.5,.03125<(n*=e.ATH.aaSensitivityP))1<=e.ATH.adjust?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var r=31.98*n+625e-6;e.ATH.adjust>=r?(e.ATH.adjust*=.075*r+.925,e.ATH.adjust<r&&(e.ATH.adjust=r)):e.ATH.adjustLimit>=r?e.ATH.adjust=r:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=r}else e.ATH.adjust=1}(B),h.mdct_sub48(B,M[0],M[1]),B.mode_ext=k.MPG_MD_LR_LR,f.force_ms)B.mode_ext=k.MPG_MD_MS_LR;else if(f.mode==d.JOINT_STEREO){var q=0,V=0;for(R=0;R<B.mode_gr;R++)for(T=0;T<B.channels_out;T++)q+=L[R][T],V+=H[R][T];if(q<=1*V){var j=B.l3_side.tt[0],X=B.l3_side.tt[B.mode_gr-1];j[0].block_type==j[1].block_type&&X[0].block_type==X[1].block_type&&(B.mode_ext=k.MPG_MD_MS_LR)}}if(B.mode_ext==t?(S=w,A=L):(S=x,A=H),f.analysis&&null!=B.pinfo)for(R=0;R<B.mode_gr;R++)for(T=0;T<B.channels_out;T++)B.pinfo.ms_ratio[R]=B.ms_ratio[R],B.pinfo.ms_ener_ratio[R]=N[R],B.pinfo.blocktype[R][T]=B.l3_side.tt[R][T].block_type,B.pinfo.pe[R][T]=A[R][T],u.arraycopy(B.l3_side.tt[R][T].xr,0,B.pinfo.xr[R][T],0,576),B.mode_ext==t&&(B.pinfo.ers[R][T]=B.pinfo.ers[R][T+2],u.arraycopy(B.pinfo.energy[R][T+2],0,B.pinfo.energy[R][T],0,B.pinfo.energy[R][T].length));if(f.VBR==p.vbr_off||f.VBR==p.vbr_abr){var F,Y;for(F=0;F<18;F++)B.nsPsy.pefirbuf[F]=B.nsPsy.pefirbuf[F+1];for(R=Y=0;R<B.mode_gr;R++)for(T=0;T<B.channels_out;T++)Y+=A[R][T];for(B.nsPsy.pefirbuf[18]=Y,Y=B.nsPsy.pefirbuf[9],F=0;F<9;F++)Y+=(B.nsPsy.pefirbuf[F]+B.nsPsy.pefirbuf[18-F])*k.fircoef[F];for(Y=3350*B.mode_gr*B.channels_out/Y,R=0;R<B.mode_gr;R++)for(T=0;T<B.channels_out;T++)A[R][T]*=Y}if(B.iteration_loop.iteration_loop(f,A,N,S),a.format_bitstream(f),y=a.copy_buffer(B,b,v,g,1),f.bWriteVbrTag&&o.addVbrFrame(f),f.analysis&&null!=B.pinfo){for(T=0;T<B.channels_out;T++){var z;for(z=0;z<e;z++)B.pinfo.pcmdata[T][z]=B.pinfo.pcmdata[T][z+f.framesize];for(z=e;z<1600;z++)B.pinfo.pcmdata[T][z]=M[T][z-e]}_.set_frame_pinfo(f,S)}return function(e){var t,n;for(e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(n=0;n<e.channels_out;++n){var r=0|e.l3_side.tt[t][n].block_type;0!=e.l3_side.tt[t][n].mixed_block_flag&&(r=4),e.bitrate_blockType_Hist[e.bitrate_index][r]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][r]++,e.bitrate_blockType_Hist[15][5]++}}(B),y}}function B(){this.l=r(k.SBMAX_l),this.s=i([k.SBMAX_s,3]);var e=this;this.assign=function(t){u.arraycopy(t.l,0,e.l,0,k.SBMAX_l);for(var n=0;n<k.SBMAX_s;n++)for(var r=0;r<3;r++)e.s[n][r]=t.s[n][r]}}function P(){var e=40;function a(){this.write_timing=0,this.ptr=0,this.buf=t(e)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=i([2,P.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[n(4),n(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new R},this.ms_ratio=r(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=n(2),this.CurrentStep=n(2),this.masking_lower=0,this.bv_scf=n(576),this.pseudohalf=n(M.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*P.BPC+1),this.itime=function(e){return new Float64Array(e)}(2),this.sideinfo_len=0,this.sb_sample=i([2,2,18,k.SBLIMIT]),this.amp_filter=r(32),this.header=new Array(P.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new A,this.minval_l=r(k.CBANDS),this.minval_s=r(k.CBANDS),this.nb_1=i([4,k.CBANDS]),this.nb_2=i([4,k.CBANDS]),this.nb_s1=i([4,k.CBANDS]),this.nb_s2=i([4,k.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=r(4),this.loudness_sq=i([2,2]),this.loudness_sq_save=r(2),this.mld_l=r(k.SBMAX_l),this.mld_s=r(k.SBMAX_s),this.bm_l=n(k.SBMAX_l),this.bo_l=n(k.SBMAX_l),this.bm_s=n(k.SBMAX_s),this.bo_s=n(k.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=s([k.CBANDS,2]),this.s3ind_s=s([k.CBANDS,2]),this.numlines_s=n(k.CBANDS),this.numlines_l=n(k.CBANDS),this.rnumlines_l=r(k.CBANDS),this.mld_cb_l=r(k.CBANDS),this.mld_cb_s=r(k.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=r(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=n(2),this.nsPsy=new function(){this.last_en_subshort=i([4,9]),this.lastAttacks=n(4),this.pefirbuf=r(19),this.longfact=r(k.SBMAX_l),this.shortfact=r(k.SBMAX_s),this.attackthre=0,this.attackthre_s=0},this.VBR_seek_table=new function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0},this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=s([16,5]),this.bitrate_blockType_Hist=s([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var o=0;o<this.en.length;o++)this.en[o]=new B;for(o=0;o<this.thm.length;o++)this.thm[o]=new B;for(o=0;o<this.header.length;o++)this.header[o]=new a}function N(){var e=new function(){var e=r(k.BLKSIZE),t=r(k.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(e,t,r){var a,i,s,o=0,l=t+(r<<=1);a=4;do{var f,u,_,h,p,d,m;for(m=a>>1,d=(p=(h=a)<<1)+h,a=p<<1,s=(i=t)+m;w=e[i+0]-e[i+h],S=e[i+0]+e[i+h],M=e[i+p]-e[i+d],T=e[i+p]+e[i+d],e[i+p]=S-T,e[i+0]=S+T,e[i+d]=w-M,e[i+h]=w+M,w=e[s+0]-e[s+h],S=e[s+0]+e[s+h],M=c.SQRT2*e[s+d],T=c.SQRT2*e[s+p],e[s+p]=S-T,e[s+0]=S+T,e[s+d]=w-M,e[s+h]=w+M,s+=a,(i+=a)<l;);for(u=n[o+0],f=n[o+1],_=1;_<m;_++){var b,v;b=1-2*f*f,v=2*f*u,i=t+_,s=t+h-_;do{var g,y,x,S,w,A,T,R,M,E;y=v*e[i+h]-b*e[s+h],g=b*e[i+h]+v*e[s+h],w=e[i+0]-g,S=e[i+0]+g,A=e[s+0]-y,x=e[s+0]+y,y=v*e[i+d]-b*e[s+d],g=b*e[i+d]+v*e[s+d],M=e[i+p]-g,T=e[i+p]+g,E=e[s+p]-y,R=e[s+p]+y,y=f*T-u*E,g=u*T+f*E,e[i+p]=S-g,e[i+0]=S+g,e[s+d]=A-y,e[s+h]=A+y,y=u*R-f*M,g=f*R+u*M,e[s+p]=x-g,e[s+0]=x+g,e[i+d]=w-y,e[i+h]=w+y,s+=a,i+=a}while(i<l);u=(b=u)*n[o+0]-f*n[o+1],f=b*n[o+1]+f*n[o+0]}o+=2}while(a<r)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,r,s,o){for(var l=0;l<3;l++){var f=k.BLKSIZE_s/2,u=65535&192*(l+1),c=k.BLKSIZE_s/8-1;do{var _,h,p,d,m,b=255&i[c<<2];h=(_=t[b]*s[r][o+b+u])-(m=t[127-b]*s[r][o+b+u+128]),_+=m,d=(p=t[b+64]*s[r][o+b+u+64])-(m=t[63-b]*s[r][o+b+u+192]),p+=m,f-=4,n[l][f+0]=_+p,n[l][f+2]=_-p,n[l][f+1]=h+d,n[l][f+3]=h-d,h=(_=t[b+1]*s[r][o+b+u+1])-(m=t[126-b]*s[r][o+b+u+129]),_+=m,d=(p=t[b+65]*s[r][o+b+u+65])-(m=t[62-b]*s[r][o+b+u+193]),p+=m,n[l][f+k.BLKSIZE_s/2+0]=_+p,n[l][f+k.BLKSIZE_s/2+2]=_-p,n[l][f+k.BLKSIZE_s/2+1]=h+d,n[l][f+k.BLKSIZE_s/2+3]=h-d}while(0<=--c);a(n[l],f,k.BLKSIZE_s/2)}},this.fft_long=function(t,n,r,s,o){var l=k.BLKSIZE/8-1,f=k.BLKSIZE/2;do{var u,c,_,h,p,d=255&i[l];c=(u=e[d]*s[r][o+d])-(p=e[d+512]*s[r][o+d+512]),u+=p,h=(_=e[d+256]*s[r][o+d+256])-(p=e[d+768]*s[r][o+d+768]),_+=p,n[0+(f-=4)]=u+_,n[f+2]=u-_,n[f+1]=c+h,n[f+3]=c-h,c=(u=e[d+1]*s[r][o+d+1])-(p=e[d+513]*s[r][o+d+513]),u+=p,h=(_=e[d+257]*s[r][o+d+257])-(p=e[d+769]*s[r][o+d+769]),_+=p,n[f+k.BLKSIZE/2+0]=u+_,n[f+k.BLKSIZE/2+2]=u-_,n[f+k.BLKSIZE/2+1]=c+h,n[f+k.BLKSIZE/2+3]=c-h}while(0<=--l);a(n,f,k.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<k.BLKSIZE;r++)e[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/k.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/k.BLKSIZE);for(r=0;r<k.BLKSIZE_s/2;r++)t[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/k.BLKSIZE_s))}},t=2.302585092994046,a=2,s=16,o=2,l=16,u=.34,m=1/217621504/(k.BLKSIZE/2),b=.3,v=.2302585093;function g(e){return e}function y(e,t){for(var n=0,r=0;r<k.BLKSIZE/2;++r)n+=e[r]*t.ATH.eql_w[r];return n*m}function x(t,n,r,a,i,s,o,l,f,u,_){var h=t.internal_flags;if(f<2)e.fft_long(h,a[i],f,u,_),e.fft_short(h,s[o],f,u,_);else if(2==f){for(var p=k.BLKSIZE-1;0<=p;--p){var d=a[i+0][p],m=a[i+1][p];a[i+0][p]=(d+m)*c.SQRT2*.5,a[i+1][p]=(d-m)*c.SQRT2*.5}for(var b=2;0<=b;--b)for(p=k.BLKSIZE_s-1;0<=p;--p)d=s[o+0][b][p],m=s[o+1][b][p],s[o+0][b][p]=(d+m)*c.SQRT2*.5,s[o+1][b][p]=(d-m)*c.SQRT2*.5}for(n[0]=g(a[i+0][0]),n[0]*=n[0],p=k.BLKSIZE/2-1;0<=p;--p){var v=a[i+0][k.BLKSIZE/2-p],x=a[i+0][k.BLKSIZE/2+p];n[k.BLKSIZE/2-p]=g(.5*(v*v+x*x))}for(b=2;0<=b;--b)for(r[b][0]=s[o+0][b][0],r[b][0]*=r[b][0],p=k.BLKSIZE_s/2-1;0<=p;--p)v=s[o+0][b][k.BLKSIZE_s/2-p],x=s[o+0][b][k.BLKSIZE_s/2+p],r[b][k.BLKSIZE_s/2-p]=g(.5*(v*v+x*x));var S=0;for(p=11;p<k.HBLKSIZE;p++)S+=n[p];if(h.tot_ener[f]=S,t.analysis){for(p=0;p<k.HBLKSIZE;p++)h.pinfo.energy[l][f][p]=h.pinfo.energy_save[f][p],h.pinfo.energy_save[f][p]=n[p];h.pinfo.pe[l][f]=h.pe[f]}2==t.athaa_loudapprox&&f<2&&(h.loudness_sq[l][f]=h.loudness_sq_save[f],h.loudness_sq_save[f]=y(n,h))}var S,w,A,T=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],R=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],M=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],E=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function B(e,t,n,r,a,i){var s,o,l;if(e<t){if(!(t<e*w))return e+t;s=t/e}else{if(t*w<=e)return e+t;s=e/t}if(e+=t,r+3<=6){if(S<=s)return e;var f=0|c.FAST_LOG10_X(s,16);return e*M[f]}return f=0|c.FAST_LOG10_X(s,16),t=0!=i?a.ATH.cb_s[n]*a.ATH.adjust:a.ATH.cb_l[n]*a.ATH.adjust,e<A*t?t<e?(o=1,f<=13&&(o=E[f]),l=c.FAST_LOG10_X(e/t,10/15),e*((R[f]-o)*l+o)):13<f?e:e*E[f]:e*R[f]}var P=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function N(e,t,n){var r;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(r=e<t?t/e:e/t,-2<=n&&n<=2){if(S<=r)return e+t;var a=0|c.FAST_LOG10_X(r,16);return(e+t)*P[a]}return r<w?e+t:(e<t&&(e=t),e)}function H(e,t,n,r,a){var i,s,o=0,l=0;for(i=s=0;i<k.SBMAX_s;++s,++i){for(var f=e.bo_s[i],u=e.npart_s,c=f<u?f:u;s<c;)o+=t[s],l+=n[s],s++;if(e.en[r].s[i][a]=o,e.thm[r].s[i][a]=l,u<=s){++i;break}var _=e.PSY.bo_s_weight[i],h=1-_;o=_*t[s],l=_*n[s],e.en[r].s[i][a]+=o,e.thm[r].s[i][a]+=l,o=h*t[s],l=h*n[s]}for(;i<k.SBMAX_s;++i)e.en[r].s[i][a]=0,e.thm[r].s[i][a]=0}function L(e,t,n,r){var a,i,s=0,o=0;for(a=i=0;a<k.SBMAX_l;++i,++a){for(var l=e.bo_l[a],f=e.npart_l,u=l<f?l:f;i<u;)s+=t[i],o+=n[i],i++;if(e.en[r].l[a]=s,e.thm[r].l[a]=o,f<=i){++a;break}var c=e.PSY.bo_l_weight[a],_=1-c;s=c*t[i],o=c*n[i],e.en[r].l[a]+=s,e.thm[r].l[a]+=o,s=_*t[i],o=_*n[i]}for(;a<k.SBMAX_l;++a)e.en[r].l[a]=0,e.thm[r].l[a]=0}function D(e,t,n,r,a,i){var s,f,u=e.internal_flags;for(f=s=0;f<u.npart_s;++f){for(var c=0,_=0,h=u.numlines_s[f],p=0;p<h;++p,++s){var d=t[i][s];c+=d,_<d&&(_=d)}n[f]=c}for(s=f=0;f<u.npart_s;f++){var m=u.s3ind_s[f][0],b=u.s3_ss[s++]*n[m];for(++m;m<=u.s3ind_s[f][1];)b+=u.s3_ss[s]*n[m],++s,++m;var v=o*u.nb_s1[a][f];if(r[f]=Math.min(b,v),u.blocktype_old[1&a]==k.SHORT_TYPE){v=l*u.nb_s2[a][f];var g=r[f];r[f]=Math.min(v,g)}u.nb_s2[a][f]=u.nb_s1[a][f],u.nb_s1[a][f]=b}for(;f<=k.CBANDS;++f)n[f]=0,r[f]=0}function C(e,t,n){return 1<=n?e:n<=0?t:0<t?Math.pow(e/t,n)*t:0}var O=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function I(e,n){for(var r=309.07,a=0;a<k.SBMAX_s-1;a++)for(var i=0;i<3;i++){var s=e.thm.s[a][i];if(0<s){var o=s*n,l=e.en.s[a][i];o<l&&(r+=1e10*o<l?O[a]*(10*t):O[a]*c.FAST_LOG10(l/o))}}return r}var q=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function V(e,n){for(var r=281.0575,a=0;a<k.SBMAX_l-1;a++){var i=e.thm.l[a];if(0<i){var s=i*n,o=e.en.l[a];s<o&&(r+=1e10*s<o?q[a]*(10*t):q[a]*c.FAST_LOG10(o/s))}}return r}function j(e,t,n,r,a){var i,s;for(i=s=0;i<e.npart_l;++i){var o,l=0,f=0;for(o=0;o<e.numlines_l[i];++o,++s){var u=t[s];l+=u,f<u&&(f=u)}n[i]=l,r[i]=f,a[i]=l*e.rnumlines_l[i]}}function X(e,t,n,r){var a=T.length-1,i=0,s=n[i]+n[i+1];for(0<s?((o=t[i])<t[i+1]&&(o=t[i+1]),a<(l=0|(s=20*(2*o-s)/(s*(e.numlines_l[i]+e.numlines_l[i+1]-1))))&&(l=a),r[i]=l):r[i]=0,i=1;i<e.npart_l-1;i++){var o,l;0<(s=n[i-1]+n[i]+n[i+1])?((o=t[i-1])<t[i]&&(o=t[i]),o<t[i+1]&&(o=t[i+1]),a<(l=0|(s=20*(3*o-s)/(s*(e.numlines_l[i-1]+e.numlines_l[i]+e.numlines_l[i+1]-1))))&&(l=a),r[i]=l):r[i]=0}0<(s=n[i-1]+n[i])?((o=t[i-1])<t[i]&&(o=t[i]),a<(l=0|(s=20*(2*o-s)/(s*(e.numlines_l[i-1]+e.numlines_l[i]-1))))&&(l=a),r[i]=l):r[i]=0}var F=[-1.730326e-17,-.01703172,-1.349528e-17,.0418072,-6.73278e-17,-.0876324,-3.0835e-17,.1863476,-1.104424e-16,-.627638];function Y(t,n,r,a,i,s,o,l){var f=t.internal_flags;if(a<2)e.fft_long(f,o[l],a,n,r);else if(2==a)for(var u=k.BLKSIZE-1;0<=u;--u){var _=o[l+0][u],h=o[l+1][u];o[l+0][u]=(_+h)*c.SQRT2*.5,o[l+1][u]=(_-h)*c.SQRT2*.5}for(s[0]=g(o[l+0][0]),s[0]*=s[0],u=k.BLKSIZE/2-1;0<=u;--u){var p=o[l+0][k.BLKSIZE/2-u],d=o[l+0][k.BLKSIZE/2+u];s[k.BLKSIZE/2-u]=g(.5*(p*p+d*d))}var m=0;for(u=11;u<k.HBLKSIZE;u++)m+=s[u];if(f.tot_ener[a]=m,t.analysis){for(u=0;u<k.HBLKSIZE;u++)f.pinfo.energy[i][a][u]=f.pinfo.energy_save[a][u],f.pinfo.energy_save[a][u]=s[u];f.pinfo.pe[i][a]=f.pe[a]}}function z(t,n,r,a,i,s,o,l){var f=t.internal_flags;if(0==i&&a<2&&e.fft_short(f,o[l],a,n,r),2==a)for(var u=k.BLKSIZE_s-1;0<=u;--u){var _=o[l+0][i][u],h=o[l+1][i][u];o[l+0][i][u]=(_+h)*c.SQRT2*.5,o[l+1][i][u]=(_-h)*c.SQRT2*.5}for(s[i][0]=o[l+0][i][0],s[i][0]*=s[i][0],u=k.BLKSIZE_s/2-1;0<=u;--u){var p=o[l+0][i][k.BLKSIZE_s/2-u],d=o[l+0][i][k.BLKSIZE_s/2+u];s[i][k.BLKSIZE_s/2-u]=g(.5*(p*p+d*d))}}this.L3psycho_anal_ns=function(e,t,o,l,u,c,h,m,v,g){var y,S,w,A,R,M,E,P,N,O,q=e.internal_flags,Y=i([2,k.BLKSIZE]),z=i([2,3,k.BLKSIZE_s]),W=r(k.CBANDS+1),G=r(k.CBANDS+1),U=r(k.CBANDS+2),K=n(2),Z=n(2),Q=i([2,576]),$=n(k.CBANDS+2),J=n(k.CBANDS+2);for(f.fill(J,0),y=q.channels_out,e.mode==d.JOINT_STEREO&&(y=4),N=e.VBR==p.vbr_off?0==q.ResvMax?0:q.ResvSize/q.ResvMax*.5:e.VBR==p.vbr_rh||e.VBR==p.vbr_mtrh||e.VBR==p.vbr_mt?.6:1,S=0;S<q.channels_out;S++){var ee=t[S],te=o+576-350-21+192;for(A=0;A<576;A++){var ne,re;for(ne=ee[te+A+10],R=re=0;R<9;R+=2)ne+=F[R]*(ee[te+A+R]+ee[te+A+21-R]),re+=F[R+1]*(ee[te+A+R+1]+ee[te+A+21-R-1]);Q[S][A]=ne+re}u[l][S].en.assign(q.en[S]),u[l][S].thm.assign(q.thm[S]),2<y&&(c[l][S].en.assign(q.en[S+2]),c[l][S].thm.assign(q.thm[S+2]))}for(S=0;S<y;S++){var ae,ie=r(12),se=[0,0,0,0],oe=r(12),le=1,fe=r(k.CBANDS),ue=r(k.CBANDS),ce=[0,0,0,0],_e=r(k.HBLKSIZE),he=i([3,k.HBLKSIZE_s]);for(A=0;A<3;A++)ie[A]=q.nsPsy.last_en_subshort[S][A+6],oe[A]=ie[A]/q.nsPsy.last_en_subshort[S][A+4],se[0]+=ie[A];if(2==S)for(A=0;A<576;A++){var pe,de;pe=Q[0][A],de=Q[1][A],Q[0][A]=pe+de,Q[1][A]=pe-de}var me=Q[1&S],be=0;for(A=0;A<9;A++){for(var ve=be+64,ge=1;be<ve;be++)ge<Math.abs(me[be])&&(ge=Math.abs(me[be]));q.nsPsy.last_en_subshort[S][A]=ie[A+3]=ge,se[1+A/3]+=ge,ge>ie[A+3-2]?ge/=ie[A+3-2]:ge=ie[A+3-2]>10*ge?ie[A+3-2]/(10*ge):0,oe[A+3]=ge}if(e.analysis){var ye=oe[0];for(A=1;A<12;A++)ye<oe[A]&&(ye=oe[A]);q.pinfo.ers[l][S]=q.pinfo.ers_save[S],q.pinfo.ers_save[S]=ye}for(ae=3==S?q.nsPsy.attackthre_s:q.nsPsy.attackthre,A=0;A<12;A++)0==ce[A/3]&&oe[A]>ae&&(ce[A/3]=A%3+1);for(A=1;A<4;A++)(se[A-1]>se[A]?se[A-1]/se[A]:se[A]/se[A-1])<1.7&&(ce[A]=0,1==A&&(ce[0]=0));for(0!=ce[0]&&0!=q.nsPsy.lastAttacks[S]&&(ce[0]=0),3!=q.nsPsy.lastAttacks[S]&&ce[0]+ce[1]+ce[2]+ce[3]==0||((le=0)!=ce[1]&&0!=ce[0]&&(ce[1]=0),0!=ce[2]&&0!=ce[1]&&(ce[2]=0),0!=ce[3]&&0!=ce[2]&&(ce[3]=0)),S<2?Z[S]=le:0==le&&(Z[0]=Z[1]=0),v[S]=q.tot_ener[S],x(e,_e,he,Y,1&S,z,1&S,l,S,t,o),j(q,_e,W,fe,ue),X(q,fe,ue,$),P=0;P<3;P++){var xe,Se;for(D(e,he,G,U,S,P),H(q,G,U,S,P),E=0;E<k.SBMAX_s;E++){if(Se=q.thm[S].s[E][P],Se*=.8,2<=ce[P]||1==ce[P+1]){var we=0!=P?P-1:2;ge=C(q.thm[S].s[E][we],Se,.6*N),Se=Math.min(Se,ge)}1==ce[P]?(we=0!=P?P-1:2,ge=C(q.thm[S].s[E][we],Se,b*N),Se=Math.min(Se,ge)):(0!=P&&3==ce[P-1]||0==P&&3==q.nsPsy.lastAttacks[S])&&(we=2!=P?P+1:0,ge=C(q.thm[S].s[E][we],Se,b*N),Se=Math.min(Se,ge)),xe=ie[3*P+3]+ie[3*P+4]+ie[3*P+5],6*ie[3*P+5]<xe&&(Se*=.5,6*ie[3*P+4]<xe&&(Se*=.5)),q.thm[S].s[E][P]=Se}}for(q.nsPsy.lastAttacks[S]=ce[2],w=M=0;w<q.npart_l;w++){for(var Ae=q.s3ind[w][0],Te=W[Ae]*T[$[Ae]],Re=q.s3_ll[M++]*Te;++Ae<=q.s3ind[w][1];)Te=W[Ae]*T[$[Ae]],Re=B(Re,q.s3_ll[M++]*Te,Ae,Ae-w,q,0);Re*=.158489319246111,q.blocktype_old[1&S]==k.SHORT_TYPE?U[w]=Re:U[w]=C(Math.min(Re,Math.min(a*q.nb_1[S][w],s*q.nb_2[S][w])),Re,N),q.nb_2[S][w]=q.nb_1[S][w],q.nb_1[S][w]=Re}for(;w<=k.CBANDS;++w)W[w]=0,U[w]=0;L(q,W,U,S)}for(e.mode!=d.STEREO&&e.mode!=d.JOINT_STEREO||0<e.interChRatio&&function(e,t){var n=e.internal_flags;if(1<n.channels_out){for(var r=0;r<k.SBMAX_l;r++){var a=n.thm[0].l[r],i=n.thm[1].l[r];n.thm[0].l[r]+=i*t,n.thm[1].l[r]+=a*t}for(r=0;r<k.SBMAX_s;r++)for(var s=0;s<3;s++)a=n.thm[0].s[r][s],i=n.thm[1].s[r][s],n.thm[0].s[r][s]+=i*t,n.thm[1].s[r][s]+=a*t}}(e,e.interChRatio),e.mode==d.JOINT_STEREO&&(function(e){for(var t=0;t<k.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var n=e.mld_l[t]*e.en[3].l[t],r=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],n));n=e.mld_l[t]*e.en[2].l[t];var a=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],n));e.thm[2].l[t]=r,e.thm[3].l[t]=a}for(t=0;t<k.SBMAX_s;t++)for(var i=0;i<3;i++)e.thm[0].s[t][i]>1.58*e.thm[1].s[t][i]||e.thm[1].s[t][i]>1.58*e.thm[0].s[t][i]||(n=e.mld_s[t]*e.en[3].s[t][i],r=Math.max(e.thm[2].s[t][i],Math.min(e.thm[3].s[t][i],n)),n=e.mld_s[t]*e.en[2].s[t][i],a=Math.max(e.thm[3].s[t][i],Math.min(e.thm[2].s[t][i],n)),e.thm[2].s[t][i]=r,e.thm[3].s[t][i]=a)}(q),O=e.msfix,0<Math.abs(O)&&function(e,t,n){var r=t,a=Math.pow(10,n);t*=2,r*=2;for(var i=0;i<k.SBMAX_l;i++)u=e.ATH.cb_l[e.bm_l[i]]*a,(o=Math.min(Math.max(e.thm[0].l[i],u),Math.max(e.thm[1].l[i],u)))*t<(l=Math.max(e.thm[2].l[i],u))+(f=Math.max(e.thm[3].l[i],u))&&(l*=c=o*r/(l+f),f*=c),e.thm[2].l[i]=Math.min(l,e.thm[2].l[i]),e.thm[3].l[i]=Math.min(f,e.thm[3].l[i]);for(a*=k.BLKSIZE_s/k.BLKSIZE,i=0;i<k.SBMAX_s;i++)for(var s=0;s<3;s++){var o,l,f,u,c;u=e.ATH.cb_s[e.bm_s[i]]*a,(o=Math.min(Math.max(e.thm[0].s[i][s],u),Math.max(e.thm[1].s[i][s],u)))*t<(l=Math.max(e.thm[2].s[i][s],u))+(f=Math.max(e.thm[3].s[i][s],u))&&(l*=c=o*t/(l+f),f*=c),e.thm[2].s[i][s]=Math.min(e.thm[2].s[i][s],l),e.thm[3].s[i][s]=Math.min(e.thm[3].s[i][s],f)}}(q,O,e.ATHlower*q.ATH.adjust)),function(e,t,n,r){var a=e.internal_flags;e.short_blocks!=_.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var i=0;i<a.channels_out;i++)r[i]=k.NORM_TYPE,e.short_blocks==_.short_block_dispensed&&(t[i]=1),e.short_blocks==_.short_block_forced&&(t[i]=0),0!=t[i]?a.blocktype_old[i]==k.SHORT_TYPE&&(r[i]=k.STOP_TYPE):(r[i]=k.SHORT_TYPE,a.blocktype_old[i]==k.NORM_TYPE&&(a.blocktype_old[i]=k.START_TYPE),a.blocktype_old[i]==k.STOP_TYPE&&(a.blocktype_old[i]=k.SHORT_TYPE)),n[i]=a.blocktype_old[i],a.blocktype_old[i]=r[i]}(e,Z,g,K),S=0;S<y;S++){var Me,Ee,ke,Be=0;1<S?(Me=m,Be=-2,Ee=k.NORM_TYPE,g[0]!=k.SHORT_TYPE&&g[1]!=k.SHORT_TYPE||(Ee=k.SHORT_TYPE),ke=c[l][S-2]):(Me=h,Be=0,Ee=g[S],ke=u[l][S]),Me[Be+S]=Ee==k.SHORT_TYPE?I(ke,q.masking_lower):V(ke,q.masking_lower),e.analysis&&(q.pinfo.pe[l][S]=Me[Be+S])}return 0};var W=[-1.730326e-17,-.01703172,-1.349528e-17,.0418072,-6.73278e-17,-.0876324,-3.0835e-17,.1863476,-1.104424e-16,-.627638];function G(e,t,n){if(0==n)for(var r=0;r<e.npart_s;r++)e.nb_s2[t][r]=e.nb_s1[t][r],e.nb_s1[t][r]=0}function U(e,t){for(var n=0;n<e.npart_l;n++)e.nb_2[t][n]=e.nb_1[t][n],e.nb_1[t][n]=0}function K(e,t,n,a,i,s){var o,l,f,u=e.internal_flags,c=new float[k.CBANDS],_=r(k.CBANDS),h=new int[k.CBANDS];for(f=l=0;f<u.npart_s;++f){var p=0,d=0,m=u.numlines_s[f];for(o=0;o<m;++o,++l){var b=t[s][l];p+=b,d<b&&(d=b)}n[f]=p,c[f]=d,_[f]=p/m}for(;f<k.CBANDS;++f)c[f]=0,_[f]=0;for(function(e,t,n,r){var a=T.length-1,i=0,s=n[i]+n[i+1];for(0<s?((o=t[i])<t[i+1]&&(o=t[i+1]),a<(l=0|(s=20*(2*o-s)/(s*(e.numlines_s[i]+e.numlines_s[i+1]-1))))&&(l=a),r[i]=l):r[i]=0,i=1;i<e.npart_s-1;i++){var o,l;0<(s=n[i-1]+n[i]+n[i+1])?((o=t[i-1])<t[i]&&(o=t[i]),o<t[i+1]&&(o=t[i+1]),a<(l=0|(s=20*(3*o-s)/(s*(e.numlines_s[i-1]+e.numlines_s[i]+e.numlines_s[i+1]-1))))&&(l=a),r[i]=l):r[i]=0}0<(s=n[i-1]+n[i])?((o=t[i-1])<t[i]&&(o=t[i]),a<(l=0|(s=20*(2*o-s)/(s*(e.numlines_s[i-1]+e.numlines_s[i]-1))))&&(l=a),r[i]=l):r[i]=0}(u,c,_,h),l=f=0;f<u.npart_s;f++){var v,g,y,x,S,w=u.s3ind_s[f][0],A=u.s3ind_s[f][1];for(v=h[w],g=1,x=u.s3_ss[l]*n[w]*T[h[w]],++l,++w;w<=A;)v+=h[w],g+=1,x=N(x,y=u.s3_ss[l]*n[w]*T[h[w]],w-f),++l,++w;x*=S=.5*T[v=(1+2*v)/(2*g)],a[f]=x,u.nb_s2[i][f]=u.nb_s1[i][f],u.nb_s1[i][f]=x,y=c[f],y*=u.minval_s[f],y*=S,a[f]>y&&(a[f]=y),1<u.masking_lower&&(a[f]*=u.masking_lower),a[f]>n[f]&&(a[f]=n[f]),u.masking_lower<1&&(a[f]*=u.masking_lower)}for(;f<k.CBANDS;++f)n[f]=0,a[f]=0}function Z(e,t,i,o,l){var f,u=r(k.CBANDS),c=r(k.CBANDS),_=n(k.CBANDS+2);j(e,t,i,u,c),X(e,u,c,_);var h=0;for(f=0;f<e.npart_l;f++){var p,d,m,v=e.s3ind[f][0],g=e.s3ind[f][1],y=0,x=0;for(y=_[v],x+=1,d=e.s3_ll[h]*i[v]*T[_[v]],++h,++v;v<=g;)y+=_[v],x+=1,d=N(d,p=e.s3_ll[h]*i[v]*T[_[v]],v-f),++h,++v;if(d*=m=.5*T[y=(1+2*y)/(2*x)],e.blocktype_old[1&l]==k.SHORT_TYPE){var S=a*e.nb_1[l][f];o[f]=0<S?Math.min(d,S):Math.min(d,i[f]*b)}else{var w=s*e.nb_2[l][f],A=a*e.nb_1[l][f];w<=0&&(w=d),A<=0&&(A=d),S=e.blocktype_old[1&l]==k.NORM_TYPE?Math.min(A,w):A,o[f]=Math.min(d,S)}e.nb_2[l][f]=e.nb_1[l][f],e.nb_1[l][f]=d,p=u[f],p*=e.minval_l[f],p*=m,o[f]>p&&(o[f]=p),1<e.masking_lower&&(o[f]*=e.masking_lower),o[f]>i[f]&&(o[f]=i[f]),e.masking_lower<1&&(o[f]*=e.masking_lower)}for(;f<k.CBANDS;++f)i[f]=0,o[f]=0}function Q(e,t,n,r,a,i,s){for(var o,l,f=2*i,u=0<i?Math.pow(10,a):1,c=0;c<s;++c){var _=e[2][c],h=e[3][c],p=t[0][c],d=t[1][c],m=t[2][c],b=t[3][c];if(p<=1.58*d&&d<=1.58*p){var v=n[c]*h,g=n[c]*_;l=Math.max(m,Math.min(b,v)),o=Math.max(b,Math.min(m,g))}else l=m,o=b;if(0<i){var y,x,S=r[c]*u;if(y=Math.min(Math.max(p,S),Math.max(d,S)),0<(x=(m=Math.max(l,S))+(b=Math.max(o,S)))&&y*f<x){var w=y*f/x;m*=w,b*=w}l=Math.min(m,l),o=Math.min(b,o)}_<l&&(l=_),h<o&&(o=h),t[2][c]=l,t[3][c]=o}}function $(e,t){var n;return(n=0<=e?27*-e:e*t)<=-72?0:Math.exp(n*v)}function J(e){var t,n,r,a,i=0;for(i=0;1e-20<$(i,e);i-=1);for(r=i,a=0;1e-12<Math.abs(a-r);)0<$(i=(a+r)/2,e)?a=i:r=i;for(t=r,i=0,i=0;1e-20<$(i,e);i+=1);for(r=0,a=i;1e-12<Math.abs(a-r);)0<$(i=(a+r)/2,e)?r=i:a=i;n=a;var s,o=0;for(s=0;s<=1e3;++s)o+=$(i=t+s*(n-t)/1e3,e);return 1001/(o*(n-t))}function ee(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function te(e,t,a,i,s,o,l,f,c,_,h,p){var d,m=r(k.CBANDS+1),b=f/(15<p?1152:384),v=n(k.HBLKSIZE);f/=c;var g=0,y=0;for(d=0;d<k.CBANDS;d++){var x;for(P=ee(f*g),m[d]=f*g,x=g;ee(f*x)-P<u&&x<=c/2;x++);for(e[d]=x-g,y=d+1;g<x;)v[g++]=d;if(c/2<g){g=c/2,++d;break}}m[d]=f*g;for(var S=0;S<p;S++){var w,A,T,R,M;T=_[S],R=_[S+1],(w=0|Math.floor(.5+h*(T-.5)))<0&&(w=0),c/2<(A=0|Math.floor(.5+h*(R-.5)))&&(A=c/2),a[S]=(v[w]+v[A])/2,t[S]=v[A];var E=b*R;l[S]=(E-m[t[S]])/(m[t[S]+1]-m[t[S]]),l[S]<0?l[S]=0:1<l[S]&&(l[S]=1),M=ee(f*_[S]*h),M=Math.min(M,15.5)/15.5,o[S]=Math.pow(10,1.25*(1-Math.cos(Math.PI*M))-2.5)}for(var B=g=0;B<y;B++){var P,N,H=e[B];P=ee(f*g),N=ee(f*(g+H-1)),i[B]=.5*(P+N),P=ee(f*(g-.5)),N=ee(f*(g+H-.5)),s[B]=N-P,g+=H}return y}function ne(e,t,n,a,s,o){var l,f,u,c,_,h=i([k.CBANDS,k.CBANDS]),p=0;if(o)for(var d=0;d<t;d++)for(l=0;l<t;l++){var m=(_=c=u=f=void 0,f=n[d]-n[l],u=.5<=(f*=0<=f?3:1.5)&&f<=2.5?8*((_=f-.5)*_-2*_):0,((c=15.811389+7.5*(f+=.474)-17.5*Math.sqrt(1+f*f))<=-60?0:(f=Math.exp((u+c)*v),f/=.6609193))*a[l]);h[d][l]=m*s[d]}else for(l=0;l<t;l++){var b=15+Math.min(21/n[l],12),g=J(b);for(d=0;d<t;d++)m=g*$(n[d]-n[l],b)*a[l],h[d][l]=m*s[d]}for(d=0;d<t;d++){for(l=0;l<t&&!(0<h[d][l]);l++);for(e[d][0]=l,l=t-1;0<l&&!(0<h[d][l]);l--);e[d][1]=l,p+=e[d][1]-e[d][0]+1}var y=r(p),x=0;for(d=0;d<t;d++)for(l=e[d][0];l<=e[d][1];l++)y[x++]=h[d][l];return y}function re(e){var t=ee(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function ae(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(e,t,a,s,o,l,f,u,c,h){var p,m,v,g,x,S=e.internal_flags,w=r(k.HBLKSIZE),A=i([3,k.HBLKSIZE_s]),T=i([2,k.BLKSIZE]),R=i([2,3,k.BLKSIZE_s]),M=i([4,k.CBANDS]),E=i([4,k.CBANDS]),B=i([4,3]),P=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],N=n(2),D=e.mode==d.JOINT_STEREO?4:S.channels_out;!function(e,t,n,a,s,o,l,f,u,c){for(var _=i([2,576]),h=e.internal_flags,p=h.channels_out,m=e.mode==d.JOINT_STEREO?4:p,b=0;b<p;b++){firbuf=t[b];for(var v=n+576-350-21+192,g=0;g<576;g++){var y,x;y=firbuf[v+g+10];for(var S=x=0;S<9;S+=2)y+=W[S]*(firbuf[v+g+S]+firbuf[v+g+21-S]),x+=W[S+1]*(firbuf[v+g+S+1]+firbuf[v+g+21-S-1]);_[b][g]=y+x}s[a][b].en.assign(h.en[b]),s[a][b].thm.assign(h.thm[b]),2<m&&(o[a][b].en.assign(h.en[b+2]),o[a][b].thm.assign(h.thm[b+2]))}for(b=0;b<m;b++){var w=r(12),A=r(12),T=[0,0,0,0],R=_[1&b],M=0,E=3==b?h.nsPsy.attackthre_s:h.nsPsy.attackthre,k=1;if(2==b)for(g=0,S=576;0<S;++g,--S){var B=_[0][g],P=_[1][g];_[0][g]=B+P,_[1][g]=B-P}for(g=0;g<3;g++)A[g]=h.nsPsy.last_en_subshort[b][g+6],w[g]=A[g]/h.nsPsy.last_en_subshort[b][g+4],T[0]+=A[g];for(g=0;g<9;g++){for(var N=M+64,H=1;M<N;M++)H<Math.abs(R[M])&&(H=Math.abs(R[M]));h.nsPsy.last_en_subshort[b][g]=A[g+3]=H,T[1+g/3]+=H,H>A[g+3-2]?H/=A[g+3-2]:H=A[g+3-2]>10*H?A[g+3-2]/(10*H):0,w[g+3]=H}for(g=0;g<3;++g){var L=A[3*g+3]+A[3*g+4]+A[3*g+5],D=1;6*A[3*g+5]<L&&(D*=.5,6*A[3*g+4]<L&&(D*=.5)),f[b][g]=D}if(e.analysis){var C=w[0];for(g=1;g<12;g++)C<w[g]&&(C=w[g]);h.pinfo.ers[a][b]=h.pinfo.ers_save[b],h.pinfo.ers_save[b]=C}for(g=0;g<12;g++)0==u[b][g/3]&&w[g]>E&&(u[b][g/3]=g%3+1);for(g=1;g<4;g++){var O=T[g-1],I=T[g];Math.max(O,I)<4e4&&O<1.7*I&&I<1.7*O&&(1==g&&u[b][0]<=u[b][g]&&(u[b][0]=0),u[b][g]=0)}u[b][0]<=h.nsPsy.lastAttacks[b]&&(u[b][0]=0),3!=h.nsPsy.lastAttacks[b]&&u[b][0]+u[b][1]+u[b][2]+u[b][3]==0||((k=0)!=u[b][1]&&0!=u[b][0]&&(u[b][1]=0),0!=u[b][2]&&0!=u[b][1]&&(u[b][2]=0),0!=u[b][3]&&0!=u[b][2]&&(u[b][3]=0)),b<2?c[b]=k:0==k&&(c[0]=c[1]=0),l[b]=h.tot_ener[b]}}(e,t,a,s,o,l,c,B,P,N),function(e,t){var n=e.internal_flags;e.short_blocks!=_.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var r=0;r<n.channels_out;r++)e.short_blocks==_.short_block_dispensed&&(t[r]=1),e.short_blocks==_.short_block_forced&&(t[r]=0)}(e,N);for(var O=0;O<D;O++)Y(e,t,a,O,s,w,T,j=1&O),m=s,v=O,g=w,x=void 0,x=(p=e).internal_flags,2==p.athaa_loudapprox&&v<2&&(x.loudness_sq[m][v]=x.loudness_sq_save[v],x.loudness_sq_save[v]=y(g,x)),0!=N[j]?Z(S,w,M[O],E[O],O):U(S,O);for(N[0]+N[1]==2&&e.mode==d.JOINT_STEREO&&Q(M,E,S.mld_cb_l,S.ATH.cb_l,e.ATHlower*S.ATH.adjust,e.msfix,S.npart_l),O=0;O<D;O++)0!=N[j=1&O]&&L(S,M[O],E[O],O);for(var q=0;q<3;q++){for(O=0;O<D;++O)0!=N[j=1&O]?G(S,O,q):(z(e,t,a,O,q,A,R,j),K(e,A,M[O],E[O],O,q));for(N[0]+N[1]==0&&e.mode==d.JOINT_STEREO&&Q(M,E,S.mld_cb_s,S.ATH.cb_s,e.ATHlower*S.ATH.adjust,e.msfix,S.npart_s),O=0;O<D;++O)0==N[j=1&O]&&H(S,M[O],E[O],O,q)}for(O=0;O<D;O++){var j;if(0==N[j=1&O])for(var X=0;X<k.SBMAX_s;X++){var F=r(3);for(q=0;q<3;q++){var $=S.thm[O].s[X][q];if($*=.8,2<=P[O][q]||1==P[O][q+1]){var J=0!=q?q-1:2,ee=C(S.thm[O].s[X][J],$,.36);$=Math.min($,ee)}else 1==P[O][q]?(J=0!=q?q-1:2,ee=C(S.thm[O].s[X][J],$,.6*b),$=Math.min($,ee)):(0!=q&&3==P[O][q-1]||0==q&&3==S.nsPsy.lastAttacks[O])&&(J=2!=q?q+1:0,ee=C(S.thm[O].s[X][J],$,.6*b),$=Math.min($,ee));$*=B[O][q],F[q]=$}for(q=0;q<3;q++)S.thm[O].s[X][q]=F[q]}}for(O=0;O<D;O++)S.nsPsy.lastAttacks[O]=P[O][2];for(function(e,t,n){for(var r=e.internal_flags,a=0;a<r.channels_out;a++){var i=k.NORM_TYPE;0!=t[a]?r.blocktype_old[a]==k.SHORT_TYPE&&(i=k.STOP_TYPE):(i=k.SHORT_TYPE,r.blocktype_old[a]==k.NORM_TYPE&&(r.blocktype_old[a]=k.START_TYPE),r.blocktype_old[a]==k.STOP_TYPE&&(r.blocktype_old[a]=k.SHORT_TYPE)),n[a]=r.blocktype_old[a],r.blocktype_old[a]=i}}(e,N,h),O=0;O<D;O++){var te,ne,re,ae;1<O?(te=u,ne=-2,re=k.NORM_TYPE,h[0]!=k.SHORT_TYPE&&h[1]!=k.SHORT_TYPE||(re=k.SHORT_TYPE),ae=l[s][O-2]):(te=f,ne=0,re=h[O],ae=o[s][O]),te[ne+O]=re==k.SHORT_TYPE?I(ae,S.masking_lower):V(ae,S.masking_lower),e.analysis&&(S.pinfo.pe[s][O]=te[ne+O])}return 0},this.psymodel_init=function(n){var a,i,s=n.internal_flags,o=!0,l=13,f=0,u=0,c=-8.25,_=-4.5,d=r(k.CBANDS),m=r(k.CBANDS),b=r(k.CBANDS),v=n.out_samplerate;switch(n.experimentalZ){default:case 0:o=!0;break;case 1:o=n.VBR!=p.vbr_mtrh&&n.VBR!=p.vbr_mt;break;case 2:o=!1;break;case 3:l=8,f=-1.75,u=-.0125,c=-8.25,_=-2.25}for(s.ms_ener_ratio_old=.25,s.blocktype_old[0]=s.blocktype_old[1]=k.NORM_TYPE,a=0;a<4;++a){for(var g=0;g<k.CBANDS;++g)s.nb_1[a][g]=1e20,s.nb_2[a][g]=1e20,s.nb_s1[a][g]=s.nb_s2[a][g]=1;for(var y=0;y<k.SBMAX_l;y++)s.en[a].l[y]=1e20,s.thm[a].l[y]=1e20;for(g=0;g<3;++g){for(y=0;y<k.SBMAX_s;y++)s.en[a].s[y][g]=1e20,s.thm[a].s[y][g]=1e20;s.nsPsy.lastAttacks[a]=0}for(g=0;g<9;g++)s.nsPsy.last_en_subshort[a][g]=10}for(s.loudness_sq_save[0]=s.loudness_sq_save[1]=0,s.npart_l=te(s.numlines_l,s.bo_l,s.bm_l,d,m,s.mld_l,s.PSY.bo_l_weight,v,k.BLKSIZE,s.scalefac_band.l,k.BLKSIZE/1152,k.SBMAX_l),a=0;a<s.npart_l;a++){var x=f;d[a]>=l&&(x=u*(d[a]-l)/(24-l)+f*(24-d[a])/(24-l)),b[a]=Math.pow(10,x/10),0<s.numlines_l[a]?s.rnumlines_l[a]=1/s.numlines_l[a]:s.rnumlines_l[a]=0}for(s.s3_ll=ne(s.s3ind,s.npart_l,d,m,b,o),g=0,a=0;a<s.npart_l;a++){M=h.MAX_VALUE;for(var T=0;T<s.numlines_l[a];T++,g++){var R=v*g/(1e3*k.BLKSIZE);E=this.ATHformula(1e3*R,n)-20,E=Math.pow(10,.1*E),(E*=s.numlines_l[a])<M&&(M=E)}s.ATH.cb_l[a]=M,6<(M=20*d[a]/10-20)&&(M=100),M<-15&&(M=-15),M-=8,s.minval_l[a]=Math.pow(10,M/10)*s.numlines_l[a]}for(s.npart_s=te(s.numlines_s,s.bo_s,s.bm_s,d,m,s.mld_s,s.PSY.bo_s_weight,v,k.BLKSIZE_s,s.scalefac_band.s,k.BLKSIZE_s/384,k.SBMAX_s),a=g=0;a<s.npart_s;a++){var M;for(x=c,d[a]>=l&&(x=_*(d[a]-l)/(24-l)+c*(24-d[a])/(24-l)),b[a]=Math.pow(10,x/10),M=h.MAX_VALUE,T=0;T<s.numlines_s[a];T++,g++){var E;R=v*g/(1e3*k.BLKSIZE_s),E=this.ATHformula(1e3*R,n)-20,E=Math.pow(10,.1*E),(E*=s.numlines_s[a])<M&&(M=E)}s.ATH.cb_s[a]=M,M=7*d[a]/12-7,12<d[a]&&(M*=1+3.1*Math.log(1+M)),d[a]<12&&(M*=1+2.3*Math.log(1-M)),M<-15&&(M=-15),M-=8,s.minval_s[a]=Math.pow(10,M/10)*s.numlines_s[a]}s.s3_ss=ne(s.s3ind_s,s.npart_s,d,m,b,o),S=Math.pow(10,9/16),w=Math.pow(10,1.5),A=Math.pow(10,1.5),e.init_fft(s),s.decay=Math.exp(-1*t/(.01*v/192)),i=3.5,0!=(2&n.exp_nspsytune)&&(i=1),0<Math.abs(n.msfix)&&(i=n.msfix),n.msfix=i;for(var B=0;B<s.npart_l;B++)s.s3ind[B][1]>s.npart_l-1&&(s.s3ind[B][1]=s.npart_l-1);var P=576*s.mode_gr/v;if(s.ATH.decay=Math.pow(10,-1.2*P),s.ATH.adjust=.01,-(s.ATH.adjustLimit=1)!=n.ATHtype){var N=n.out_samplerate/k.BLKSIZE,H=0;for(a=R=0;a<k.BLKSIZE/2;++a)R+=N,s.ATH.eql_w[a]=1/Math.pow(10,this.ATHformula(R,n)/10),H+=s.ATH.eql_w[a];for(H=1/H,a=k.BLKSIZE/2;0<=--a;)s.ATH.eql_w[a]*=H}for(B=g=0;B<s.npart_s;++B)for(a=0;a<s.numlines_s[B];++a)++g;for(B=g=0;B<s.npart_l;++B)for(a=0;a<s.numlines_l[B];++a)++g;for(a=g=0;a<s.npart_l;a++)R=v*(g+s.numlines_l[a]/2)/(1*k.BLKSIZE),s.mld_cb_l[a]=re(R),g+=s.numlines_l[a];for(;a<k.CBANDS;++a)s.mld_cb_l[a]=1;for(a=g=0;a<s.npart_s;a++)R=v*(g+s.numlines_s[a]/2)/(1*k.BLKSIZE_s),s.mld_cb_s[a]=re(R),g+=s.numlines_s[a];for(;a<k.CBANDS;++a)s.mld_cb_s[a]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=ae(e,9);break;case 1:n=ae(e,-1);break;case 2:n=ae(e,0);break;case 3:n=ae(e,1)+6;break;case 4:n=ae(e,t.ATHcurve);break;default:n=ae(e,0)}return n}}function H(){var e,t,a,i,l,f=this;H.V9=410,H.V8=420,H.V7=430,H.V6=440,H.V5=450,H.V4=460,H.V3=470,H.V2=480,H.V1=490,H.V0=500,H.R3MIX=1e3,H.STANDARD=1001,H.EXTREME=1002,H.INSANE=1003,H.STANDARD_FAST=1004,H.EXTREME_FAST=1005,H.MEDIUM=1006,H.MEDIUM_FAST=1007,H.LAME_MAXMP3BUFFER=147456;var c,h,m,v=new N;function y(){this.lowerlimit=0}function w(e,t){this.lowpass=t}this.enc=new k,this.setModules=function(n,r,s,o,f,u,_,p,d){e=n,t=r,a=s,i=o,l=f,c=u,h=p,m=d,this.enc.setModules(t,v,i,c)};var A=4294479419;function T(e){return 1<e?0:e<=0?1:Math.cos(Math.PI/2*e)}function R(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1;case 32e3:return t.version=1,2;case 22050:return t.version=0;case 24e3:return t.version=0,1;case 16e3:return t.version=0,2;case 11025:return t.version=0;case 12e3:return t.version=0,1;case 8e3:return t.version=0,2;default:return t.version=0,-1}}function E(e,t,n){n<16e3&&(t=2);for(var r=x.bitrate_table[t][1],a=2;a<=14;a++)0<x.bitrate_table[t][a]&&Math.abs(x.bitrate_table[t][a]-e)<Math.abs(r-e)&&(r=x.bitrate_table[t][a]);return r}function B(e,t,n){n<16e3&&(t=2);for(var r=0;r<=14;r++)if(0<x.bitrate_table[t][r]&&x.bitrate_table[t][r]==e)return r;return-1}function L(e,t){var n=[new w(8,2e3),new w(16,3700),new w(24,3900),new w(32,5500),new w(40,7e3),new w(48,7500),new w(56,1e4),new w(64,11e3),new w(80,13500),new w(96,15100),new w(112,15600),new w(128,17e3),new w(160,17500),new w(192,18600),new w(224,19400),new w(256,19700),new w(320,20500)],r=f.nearestBitrateFullIndex(t);e.lowerlimit=n[r].lowpass}function D(e){var t=k.BLKSIZE+e.framesize-k.FFTOFFSET;return Math.max(t,512+e.framesize-32)}function C(e,t,n,r,a,i){var s=f.enc.lame_encode_mp3_frame(e,t,n,r,a,i);return e.frameNum++,s}function O(){this.n_in=0,this.n_out=0}function I(){this.num_used=0}function q(e,t,n){var r=Math.PI*t;(e/=n)<0&&(e=0),1<e&&(e=1);var a=e-.5,i=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(a)<1e-9?r/Math.PI:i*Math.sin(n*r*a)/(Math.PI*n*a)}function V(e,t,n,a,i,s,o,l,f){var u,c,_=e.internal_flags,h=0,p=e.out_samplerate/function e(t,n){return 0!=n?e(n,t%n):t}(e.out_samplerate,e.in_samplerate);P.BPC<p&&(p=P.BPC);var d=Math.abs(_.resample_ratio-Math.floor(.5+_.resample_ratio))<1e-4?1:0,m=1/_.resample_ratio;1<m&&(m=1);var b=31;0==b%2&&--b;var v=(b+=d)+1;if(0==_.fill_buffer_resample_init){for(_.inbuf_old[0]=r(v),_.inbuf_old[1]=r(v),u=0;u<=2*p;++u)_.blackfilt[u]=r(v);for(_.itime[0]=0,h=_.itime[1]=0;h<=2*p;h++){var g=0,y=(h-p)/(2*p);for(u=0;u<=b;u++)g+=_.blackfilt[h][u]=q(u-y,m,b);for(u=0;u<=b;u++)_.blackfilt[h][u]/=g}_.fill_buffer_resample_init=1}var x=_.inbuf_old[f];for(c=0;c<a;c++){var S,w;if(S=c*_.resample_ratio,o<=b+(h=0|Math.floor(S-_.itime[f]))-b/2)break;y=S-_.itime[f]-(h+b%2*.5),w=0|Math.floor(2*y*p+p+.5);var A=0;for(u=0;u<=b;++u){var T=u+h-b/2;A+=(T<0?x[v+T]:i[s+T])*_.blackfilt[w][u]}t[n+c]=A}if(l.num_used=Math.min(o,b+h-b/2),_.itime[f]+=l.num_used-c*_.resample_ratio,l.num_used>=v)for(u=0;u<v;u++)x[u]=i[s+l.num_used+u-v];else{var R=v-l.num_used;for(u=0;u<R;++u)x[u]=x[u+l.num_used];for(h=0;u<v;++u,++h)x[u]=i[s+h]}return c}function j(e,t,n,r,a,i){var s=e.internal_flags;if(s.resample_ratio<.9999||1.0001<s.resample_ratio)for(var o=0;o<s.channels_out;o++){var l=new I;i.n_out=V(e,t[o],s.mf_size,e.framesize,n[o],r,a,l,o),i.n_in=l.num_used}else{i.n_out=Math.min(e.framesize,a),i.n_in=i.n_out;for(var f=0;f<i.n_out;++f)t[0][s.mf_size+f]=n[0][r+f],2==s.channels_out&&(t[1][s.mf_size+f]=n[1][r+f])}}this.lame_init=function(){var e,t,n=new function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=d.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null};return 0!=((e=n).class_id=A,t=e.internal_flags=new P,e.mode=d.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=p.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY,e.encoder_padding=0,t.mf_size=k.ENCDELAY-k.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0)?null:(n.lame_allocated_gfp=1,n)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,a=0,i=0;i=t[16],r=t[a=16],n=16;for(var s=0;s<16;s++)if(Math.max(e,t[s+1])!=e){i=t[s+1],a=s+1,r=t[s],n=s;break}return e-r<i-e?n:a},this.lame_init_params=function(o){var f,w,P,H=o.internal_flags;if(H.Class_ID=0,null==H.ATH&&(H.ATH=new function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=r(k.SBMAX_l),this.s=r(k.SBMAX_s),this.psfb21=r(k.PSFB21),this.psfb12=r(k.PSFB12),this.cb_l=r(k.CBANDS),this.cb_s=r(k.CBANDS),this.eql_w=r(k.BLKSIZE/2)}),null==H.PSY&&(H.PSY=new function(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=r(k.SBMAX_l),this.bo_s_weight=r(k.SBMAX_s)}),null==H.rgdata&&(H.rgdata=new function(){this.linprebuf=r(2*b.MAX_ORDER),this.linpre=0,this.lstepbuf=r(b.MAX_SAMPLES_PER_WINDOW+b.MAX_ORDER),this.lstep=0,this.loutbuf=r(b.MAX_SAMPLES_PER_WINDOW+b.MAX_ORDER),this.lout=0,this.rinprebuf=r(2*b.MAX_ORDER),this.rinpre=0,this.rstepbuf=r(b.MAX_SAMPLES_PER_WINDOW+b.MAX_ORDER),this.rstep=0,this.routbuf=r(b.MAX_SAMPLES_PER_WINDOW+b.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=n(0|b.STEPS_per_dB*b.MAX_dB),this.B=n(0|b.STEPS_per_dB*b.MAX_dB)}),H.channels_in=o.num_channels,1==H.channels_in&&(o.mode=d.MONO),H.channels_out=o.mode==d.MONO?1:2,H.mode_ext=k.MPG_MD_MS_LR,o.mode==d.MONO&&(o.force_ms=!1),o.VBR==p.vbr_off&&128!=o.VBR_mean_bitrate_kbps&&0==o.brate&&(o.brate=o.VBR_mean_bitrate_kbps),o.VBR==p.vbr_off||o.VBR==p.vbr_mtrh||o.VBR==p.vbr_mt||(o.free_format=!1),o.VBR==p.vbr_off&&0==o.brate&&g.EQ(o.compression_ratio,0)&&(o.compression_ratio=11.025),o.VBR==p.vbr_off&&0<o.compression_ratio&&(0==o.out_samplerate&&(o.out_samplerate=map2MP3Frequency(int(.97*o.in_samplerate))),o.brate=0|16*o.out_samplerate*H.channels_out/(1e3*o.compression_ratio),H.samplerate_index=R(o.out_samplerate,o),o.free_format||(o.brate=E(o.brate,o.version,o.out_samplerate))),0!=o.out_samplerate&&(o.out_samplerate<16e3?(o.VBR_mean_bitrate_kbps=Math.max(o.VBR_mean_bitrate_kbps,8),o.VBR_mean_bitrate_kbps=Math.min(o.VBR_mean_bitrate_kbps,64)):o.out_samplerate<32e3?(o.VBR_mean_bitrate_kbps=Math.max(o.VBR_mean_bitrate_kbps,8),o.VBR_mean_bitrate_kbps=Math.min(o.VBR_mean_bitrate_kbps,160)):(o.VBR_mean_bitrate_kbps=Math.max(o.VBR_mean_bitrate_kbps,32),o.VBR_mean_bitrate_kbps=Math.min(o.VBR_mean_bitrate_kbps,320))),0==o.lowpassfreq){var D=16e3;switch(o.VBR){case p.vbr_off:L(C=new y,o.brate),D=C.lowerlimit;break;case p.vbr_abr:var C;L(C=new y,o.VBR_mean_bitrate_kbps),D=C.lowerlimit;break;case p.vbr_rh:var O=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=o.VBR_q&&o.VBR_q<=9){var I=O[o.VBR_q],q=O[o.VBR_q+1],V=o.VBR_q_frac;D=linear_int(I,q,V)}else D=19500;break;default:O=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950],0<=o.VBR_q&&o.VBR_q<=9?(I=O[o.VBR_q],q=O[o.VBR_q+1],V=o.VBR_q_frac,D=linear_int(I,q,V)):D=19500}o.mode!=d.MONO||o.VBR!=p.vbr_off&&o.VBR!=p.vbr_abr||(D*=1.5),o.lowpassfreq=0|D}if(0==o.out_samplerate&&(2*o.lowpassfreq>o.in_samplerate&&(o.lowpassfreq=o.in_samplerate/2),o.out_samplerate=(f=0|o.lowpassfreq,P=44100,48e3<=(w=o.in_samplerate)?P=48e3:44100<=w?P=44100:32e3<=w?P=32e3:24e3<=w?P=24e3:22050<=w?P=22050:16e3<=w?P=16e3:12e3<=w?P=12e3:11025<=w?P=11025:8e3<=w&&(P=8e3),-1==f?P:(f<=15960&&(P=44100),f<=15250&&(P=32e3),f<=11220&&(P=24e3),f<=9970&&(P=22050),f<=7230&&(P=16e3),f<=5420&&(P=12e3),f<=4510&&(P=11025),f<=3970&&(P=8e3),w<P?44100<w?48e3:32e3<w?44100:24e3<w?32e3:22050<w?24e3:16e3<w?22050:12e3<w?16e3:11025<w?12e3:8e3<w?11025:8e3:P))),o.lowpassfreq=Math.min(20500,o.lowpassfreq),o.lowpassfreq=Math.min(o.out_samplerate/2,o.lowpassfreq),o.VBR==p.vbr_off&&(o.compression_ratio=16*o.out_samplerate*H.channels_out/(1e3*o.brate)),o.VBR==p.vbr_abr&&(o.compression_ratio=16*o.out_samplerate*H.channels_out/(1e3*o.VBR_mean_bitrate_kbps)),o.bWriteVbrTag||(o.findReplayGain=!1,o.decode_on_the_fly=!1,H.findPeakSample=!1),H.findReplayGain=o.findReplayGain,H.decode_on_the_fly=o.decode_on_the_fly,H.decode_on_the_fly&&(H.findPeakSample=!0),H.findReplayGain&&e.InitGainAnalysis(H.rgdata,o.out_samplerate)==b.INIT_GAIN_ANALYSIS_ERROR)return o.internal_flags=null,-6;switch(H.decode_on_the_fly&&!o.decode_only&&(null!=H.hip&&m.hip_decode_exit(H.hip),H.hip=m.hip_decode_init()),H.mode_gr=o.out_samplerate<=24e3?1:2,o.framesize=576*H.mode_gr,o.encoder_delay=k.ENCDELAY,H.resample_ratio=o.in_samplerate/o.out_samplerate,o.VBR){case p.vbr_mt:case p.vbr_rh:case p.vbr_mtrh:o.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][o.VBR_q];break;case p.vbr_abr:o.compression_ratio=16*o.out_samplerate*H.channels_out/(1e3*o.VBR_mean_bitrate_kbps);break;default:o.compression_ratio=16*o.out_samplerate*H.channels_out/(1e3*o.brate)}if(o.mode==d.NOT_SET&&(o.mode=d.JOINT_STEREO),0<o.highpassfreq?(H.highpass1=2*o.highpassfreq,0<=o.highpasswidth?H.highpass2=2*(o.highpassfreq+o.highpasswidth):H.highpass2=2*o.highpassfreq,H.highpass1/=o.out_samplerate,H.highpass2/=o.out_samplerate):(H.highpass1=0,H.highpass2=0),0<o.lowpassfreq?(H.lowpass2=2*o.lowpassfreq,0<=o.lowpasswidth?(H.lowpass1=2*(o.lowpassfreq-o.lowpasswidth),H.lowpass1<0&&(H.lowpass1=0)):H.lowpass1=2*o.lowpassfreq,H.lowpass1/=o.out_samplerate,H.lowpass2/=o.out_samplerate):(H.lowpass1=0,H.lowpass2=0),function(e){var t=e.internal_flags,n=32,r=-1;if(0<t.lowpass1){for(var a=999,i=0;i<=31;i++)(f=i/31)>=t.lowpass2&&(n=Math.min(n,i)),t.lowpass1<f&&f<t.lowpass2&&(a=Math.min(a,i));t.lowpass1=999==a?(n-.75)/31:(a-.75)/31,t.lowpass2=n/31}if(0<t.highpass2&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,u.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),0<t.highpass2){var s=-1;for(i=0;i<=31;i++)(f=i/31)<=t.highpass1&&(r=Math.max(r,i)),t.highpass1<f&&f<t.highpass2&&(s=Math.max(s,i));t.highpass1=r/31,t.highpass2=-1==s?(r+.75)/31:(s+.75)/31}for(i=0;i<32;i++){var o,l,f=i/31;o=t.highpass2>t.highpass1?T((t.highpass2-f)/(t.highpass2-t.highpass1+1e-20)):1,l=t.lowpass2>t.lowpass1?T((f-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[i]=o*l}}(o),H.samplerate_index=R(o.out_samplerate,o),H.samplerate_index<0)return o.internal_flags=null,-1;if(o.VBR==p.vbr_off){if(o.free_format)H.bitrate_index=0;else if(o.brate=E(o.brate,o.version,o.out_samplerate),H.bitrate_index=B(o.brate,o.version,o.out_samplerate),H.bitrate_index<=0)return o.internal_flags=null,-1}else H.bitrate_index=1;o.analysis&&(o.bWriteVbrTag=!1),null!=H.pinfo&&(o.bWriteVbrTag=!1),t.init_bit_stream_w(H);for(var j,X,F,Y=H.samplerate_index+3*o.version+6*(o.out_samplerate<16e3?1:0),z=0;z<k.SBMAX_l+1;z++)H.scalefac_band.l[z]=i.sfBandIndex[Y].l[z];for(z=0;z<k.PSFB21+1;z++){var W=(H.scalefac_band.l[22]-H.scalefac_band.l[21])/k.PSFB21,G=H.scalefac_band.l[21]+z*W;H.scalefac_band.psfb21[z]=G}for(H.scalefac_band.psfb21[k.PSFB21]=576,z=0;z<k.SBMAX_s+1;z++)H.scalefac_band.s[z]=i.sfBandIndex[Y].s[z];for(z=0;z<k.PSFB12+1;z++)W=(H.scalefac_band.s[13]-H.scalefac_band.s[12])/k.PSFB12,G=H.scalefac_band.s[12]+z*W,H.scalefac_band.psfb12[z]=G;for(H.scalefac_band.psfb12[k.PSFB12]=192,1==o.version?H.sideinfo_len=1==H.channels_out?21:36:H.sideinfo_len=1==H.channels_out?13:21,o.error_protection&&(H.sideinfo_len+=2),X=(j=o).internal_flags,j.frameNum=0,j.write_id3tag_automatic&&h.id3tag_write_v2(j),X.bitrate_stereoMode_Hist=s([16,5]),X.bitrate_blockType_Hist=s([16,6]),X.PeakSample=0,j.bWriteVbrTag&&c.InitVbrTag(j),H.Class_ID=A,F=0;F<19;F++)H.nsPsy.pefirbuf[F]=700*H.mode_gr*H.channels_out;switch(-1==o.ATHtype&&(o.ATHtype=4),o.VBR){case p.vbr_mt:o.VBR=p.vbr_mtrh;case p.vbr_mtrh:null==o.useTemporal&&(o.useTemporal=!1),a.apply_preset(o,500-10*o.VBR_q,0),o.quality<0&&(o.quality=LAME_DEFAULT_QUALITY),o.quality<5&&(o.quality=0),5<o.quality&&(o.quality=5),H.PSY.mask_adjust=o.maskingadjust,H.PSY.mask_adjust_short=o.maskingadjust_short,o.experimentalY?H.sfb21_extra=!1:H.sfb21_extra=44e3<o.out_samplerate,H.iteration_loop=new VBRNewIterationLoop(l);break;case p.vbr_rh:a.apply_preset(o,500-10*o.VBR_q,0),H.PSY.mask_adjust=o.maskingadjust,H.PSY.mask_adjust_short=o.maskingadjust_short,o.experimentalY?H.sfb21_extra=!1:H.sfb21_extra=44e3<o.out_samplerate,6<o.quality&&(o.quality=6),o.quality<0&&(o.quality=LAME_DEFAULT_QUALITY),H.iteration_loop=new VBROldIterationLoop(l);break;default:var U;H.sfb21_extra=!1,o.quality<0&&(o.quality=LAME_DEFAULT_QUALITY),(U=o.VBR)==p.vbr_off&&(o.VBR_mean_bitrate_kbps=o.brate),a.apply_preset(o,o.VBR_mean_bitrate_kbps,0),o.VBR=U,H.PSY.mask_adjust=o.maskingadjust,H.PSY.mask_adjust_short=o.maskingadjust_short,H.iteration_loop=U==p.vbr_off?new function(e){var t=l;this.quantize=t,this.iteration_loop=function(e,t,a,i){var s,o=e.internal_flags,l=r(M.SFBMAX),f=r(576),u=n(2),c=0,_=o.l3_side,h=new S(c);this.quantize.rv.ResvFrameBegin(e,h),c=h.bits;for(var p=0;p<o.mode_gr;p++){s=this.quantize.qupvt.on_pe(e,t,u,c,p,p),o.mode_ext==k.MPG_MD_MS_LR&&(this.quantize.ms_convert(o.l3_side,p),this.quantize.qupvt.reduce_side(u,a[p],c,s));for(var d=0;d<o.channels_out;d++){var m,b,v=_.tt[p][d];v.block_type!=k.SHORT_TYPE?(m=0,b=o.PSY.mask_adjust-m):(m=0,b=o.PSY.mask_adjust_short-m),o.masking_lower=Math.pow(10,.1*b),this.quantize.init_outer_loop(o,v),this.quantize.init_xrpow(o,v,f)&&(this.quantize.qupvt.calc_xmin(e,i[p][d],v,l),this.quantize.outer_loop(e,v,l,f,d,u[d])),this.quantize.iteration_finish_one(o,p,d)}}this.quantize.rv.ResvFrameEnd(o,c)}}(0):new ABRIterationLoop(l)}if(o.VBR!=p.vbr_off){if(H.VBR_min_bitrate=1,H.VBR_max_bitrate=14,o.out_samplerate<16e3&&(H.VBR_max_bitrate=8),0!=o.VBR_min_bitrate_kbps&&(o.VBR_min_bitrate_kbps=E(o.VBR_min_bitrate_kbps,o.version,o.out_samplerate),H.VBR_min_bitrate=B(o.VBR_min_bitrate_kbps,o.version,o.out_samplerate),H.VBR_min_bitrate<0))return-1;if(0!=o.VBR_max_bitrate_kbps&&(o.VBR_max_bitrate_kbps=E(o.VBR_max_bitrate_kbps,o.version,o.out_samplerate),H.VBR_max_bitrate=B(o.VBR_max_bitrate_kbps,o.version,o.out_samplerate),H.VBR_max_bitrate<0))return-1;o.VBR_min_bitrate_kbps=x.bitrate_table[o.version][H.VBR_min_bitrate],o.VBR_max_bitrate_kbps=x.bitrate_table[o.version][H.VBR_max_bitrate],o.VBR_mean_bitrate_kbps=Math.min(x.bitrate_table[o.version][H.VBR_max_bitrate],o.VBR_mean_bitrate_kbps),o.VBR_mean_bitrate_kbps=Math.max(x.bitrate_table[o.version][H.VBR_min_bitrate],o.VBR_mean_bitrate_kbps)}return o.tune&&(H.PSY.mask_adjust+=o.tune_value_a,H.PSY.mask_adjust_short+=o.tune_value_a),function(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,-(t.noise_shaping_stop=1)==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,-(t.noise_shaping_stop=1)==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,-(t.noise_shaping_stop=1)==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(o),o.athaa_type<0?H.ATH.useAdjust=3:H.ATH.useAdjust=o.athaa_type,H.ATH.aaSensitivityP=Math.pow(10,o.athaa_sensitivity/-10),null==o.short_blocks&&(o.short_blocks=_.short_block_allowed),o.short_blocks!=_.short_block_allowed||o.mode!=d.JOINT_STEREO&&o.mode!=d.STEREO||(o.short_blocks=_.short_block_coupled),o.quant_comp<0&&(o.quant_comp=1),o.quant_comp_short<0&&(o.quant_comp_short=0),o.msfix<0&&(o.msfix=0),o.exp_nspsytune=1|o.exp_nspsytune,o.internal_flags.nsPsy.attackthre<0&&(o.internal_flags.nsPsy.attackthre=N.NSATTACKTHRE),o.internal_flags.nsPsy.attackthre_s<0&&(o.internal_flags.nsPsy.attackthre_s=N.NSATTACKTHRE_S),o.scale<0&&(o.scale=1),o.ATHtype<0&&(o.ATHtype=4),o.ATHcurve<0&&(o.ATHcurve=4),o.athaa_loudapprox<0&&(o.athaa_loudapprox=2),o.interChRatio<0&&(o.interChRatio=0),null==o.useTemporal&&(o.useTemporal=!0),H.slot_lag=H.frac_SpF=0,o.VBR==p.vbr_off&&(H.slot_lag=H.frac_SpF=72e3*(o.version+1)*o.brate%o.out_samplerate|0),i.iteration_init(o),v.psymodel_init(o),0},this.lame_encode_flush=function(e,n,r,a){var i,s,l,f,u=e.internal_flags,c=o([2,1152]),_=0,p=u.mf_samples_to_encode-k.POSTDELAY,d=D(e);if(u.mf_samples_to_encode<1)return 0;for(i=0,e.in_samplerate!=e.out_samplerate&&(p+=16*e.out_samplerate/e.in_samplerate),(l=e.framesize-p%e.framesize)<576&&(l+=e.framesize),f=(p+(e.encoder_padding=l))/e.framesize;0<f&&0<=_;){var m=d-u.mf_size,b=e.frameNum;m*=e.in_samplerate,1152<(m/=e.out_samplerate)&&(m=1152),m<1&&(m=1),s=a-i,0==a&&(s=0),r+=_=this.lame_encode_buffer(e,c[0],c[1],m,n,r,s),i+=_,f-=b!=e.frameNum?1:0}if(_<(u.mf_samples_to_encode=0))return _;if(s=a-i,0==a&&(s=0),t.flush_bitstream(e),(_=t.copy_buffer(u,n,r,s,1))<0)return _;if(r+=_,s=a-(i+=_),0==a&&(s=0),e.write_id3tag_automatic){if(h.id3tag_write_v1(e),(_=t.copy_buffer(u,n,r,s,0))<0)return _;i+=_}return i},this.lame_encode_buffer=function(n,a,i,s,o,l,f){var u,c,_=n.internal_flags,h=[null,null];if(_.Class_ID!=A)return-3;if(0==s)return 0;c=s,(null==(u=_).in_buffer_0||u.in_buffer_nsamples<c)&&(u.in_buffer_0=r(c),u.in_buffer_1=r(c),u.in_buffer_nsamples=c),h[0]=_.in_buffer_0,h[1]=_.in_buffer_1;for(var p=0;p<s;p++)h[0][p]=a[p],1<_.channels_in&&(h[1][p]=i[p]);return function(n,r,a,i,s,o,l){var f,u,c,_,h,p=n.internal_flags,d=0,m=[null,null],v=[null,null];if(p.Class_ID!=A)return-3;if(0==i)return 0;if((h=t.copy_buffer(p,s,o,l,0))<0)return h;if(o+=h,d+=h,v[0]=r,v[1]=a,g.NEQ(n.scale,0)&&g.NEQ(n.scale,1))for(u=0;u<i;++u)v[0][u]*=n.scale,2==p.channels_out&&(v[1][u]*=n.scale);if(g.NEQ(n.scale_left,0)&&g.NEQ(n.scale_left,1))for(u=0;u<i;++u)v[0][u]*=n.scale_left;if(g.NEQ(n.scale_right,0)&&g.NEQ(n.scale_right,1))for(u=0;u<i;++u)v[1][u]*=n.scale_right;if(2==n.num_channels&&1==p.channels_out)for(u=0;u<i;++u)v[0][u]=.5*(v[0][u]+v[1][u]),v[1][u]=0;_=D(n),m[0]=p.mfbuf[0],m[1]=p.mfbuf[1];for(var y=0;0<i;){var x,S,w=[null,null];w[0]=v[0],w[1]=v[1];var T=new O;if(j(n,m,w,y,i,T),x=T.n_in,S=T.n_out,p.findReplayGain&&!p.decode_on_the_fly&&e.AnalyzeSamples(p.rgdata,m[0],p.mf_size,m[1],p.mf_size,S,p.channels_out)==b.GAIN_ANALYSIS_ERROR)return-6;if(i-=x,y+=x,p.channels_out,p.mf_size+=S,p.mf_samples_to_encode<1&&(p.mf_samples_to_encode=k.ENCDELAY+k.POSTDELAY),p.mf_samples_to_encode+=S,p.mf_size>=_){var R=l-d;if(0==l&&(R=0),(f=C(n,m[0],m[1],s,o,R))<0)return f;for(o+=f,d+=f,p.mf_size-=n.framesize,p.mf_samples_to_encode-=n.framesize,c=0;c<p.channels_out;c++)for(u=0;u<p.mf_size;u++)m[c][u]=m[c][u+n.framesize]}}return d}(n,h[0],h[1],s,o,l,f)}}function L(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function D(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}M.SFBMAX=3*k.SBMAX_s,k.ENCDELAY=576,k.POSTDELAY=1152,k.FFTOFFSET=224+(k.MDCTDELAY=48),k.DECDELAY=528,k.SBLIMIT=32,k.CBANDS=64,k.SBPSY_l=21,k.SBPSY_s=12,k.SBMAX_l=22,k.SBMAX_s=13,k.PSFB21=6,k.PSFB12=6,k.HBLKSIZE=(k.BLKSIZE=1024)/2+1,k.HBLKSIZE_s=(k.BLKSIZE_s=256)/2+1,k.NORM_TYPE=0,k.START_TYPE=1,k.SHORT_TYPE=2,k.STOP_TYPE=3,k.MPG_MD_LR_LR=0,k.MPG_MD_LR_I=1,k.MPG_MD_MS_LR=2,k.MPG_MD_MS_I=3,k.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3.898045e-17,.0467745*5,.50455,.756825,.187098*5],P.MFSIZE=3456+k.ENCDELAY-k.MDCTDELAY,P.MAX_HEADER_BUF=256,P.MAX_BITS_PER_CHANNEL=4095,P.MAX_BITS_PER_GRANULE=7680,P.BPC=320,L.RIFF=D("RIFF"),L.WAVE=D("WAVE"),L.fmt_=D("fmt "),L.data=D("data"),L.readHeader=function(e){var t=new L,n=e.getUint32(0,!1);if(L.RIFF==n&&(e.getUint32(4,!0),L.WAVE==e.getUint32(8,!1)&&L.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=e.getUint16(a+2,!0),t.sampleRate=e.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var i=L.data,s=0;i!=n&&(n=e.getUint32(a,!1),s=e.getUint32(a+4,!0),i!=n);)a+=s+8;return t.dataLen=s,t.dataOffset=a+8,t}},M.SFBMAX=3*k.SBMAX_s,e.Mp3Encoder=function(e,a,i){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,a=44100,i=128);var s=new H,o=new function(){this.setModules=function(e,t){}},l=new b,_=new g,h=new function(){function e(e,t,n,r,a,i,s,o,l,f,u,c,_,h,p){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=r,this.st_lrm=a,this.st_s=i,this.masking_adj=s,this.masking_adj_short=o,this.ath_lower=l,this.ath_curve=f,this.ath_sensitivity=u,this.interch=c,this.safejoint=_,this.sfb21mod=h,this.msfix=p}function t(e,t,n,r,a,i,s,o,l,f,u,c,_,h){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=a,this.st_lrm=i,this.st_s=s,this.nsbass=o,this.scale=l,this.masking_adj=f,this.ath_lower=u,this.ath_curve=c,this.interch=_,this.sfscale=h}var n;this.setModules=function(e){n=e};var r=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],a=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function i(e,t,n){var i,s,o=e.VBR==p.vbr_rh?r:a,l=e.VBR_q_frac,f=o[t],u=o[t+1],c=f;f.st_lrm=f.st_lrm+l*(u.st_lrm-f.st_lrm),f.st_s=f.st_s+l*(u.st_s-f.st_s),f.masking_adj=f.masking_adj+l*(u.masking_adj-f.masking_adj),f.masking_adj_short=f.masking_adj_short+l*(u.masking_adj_short-f.masking_adj_short),f.ath_lower=f.ath_lower+l*(u.ath_lower-f.ath_lower),f.ath_curve=f.ath_curve+l*(u.ath_curve-f.ath_curve),f.ath_sensitivity=f.ath_sensitivity+l*(u.ath_sensitivity-f.ath_sensitivity),f.interch=f.interch+l*(u.interch-f.interch),f.msfix=f.msfix+l*(u.msfix-f.msfix),i=e,(s=c.vbr_q)<0&&(s=0),9<s&&(s=9),i.VBR_q=s,(i.VBR_q_frac=0)!=n?e.quant_comp=c.quant_comp:0<Math.abs(e.quant_comp- -1)||(e.quant_comp=c.quant_comp),0!=n?e.quant_comp_short=c.quant_comp_s:0<Math.abs(e.quant_comp_short- -1)||(e.quant_comp_short=c.quant_comp_s),0!=c.expY&&(e.experimentalY=0!=c.expY),0!=n?e.internal_flags.nsPsy.attackthre=c.st_lrm:0<Math.abs(e.internal_flags.nsPsy.attackthre- -1)||(e.internal_flags.nsPsy.attackthre=c.st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=c.st_s:0<Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)||(e.internal_flags.nsPsy.attackthre_s=c.st_s),0!=n?e.maskingadjust=c.masking_adj:0<Math.abs(e.maskingadjust-0)||(e.maskingadjust=c.masking_adj),0!=n?e.maskingadjust_short=c.masking_adj_short:0<Math.abs(e.maskingadjust_short-0)||(e.maskingadjust_short=c.masking_adj_short),0!=n?e.ATHlower=-c.ath_lower/10:0<Math.abs(10*-e.ATHlower-0)||(e.ATHlower=-c.ath_lower/10),0!=n?e.ATHcurve=c.ath_curve:0<Math.abs(e.ATHcurve- -1)||(e.ATHcurve=c.ath_curve),0!=n?e.athaa_sensitivity=c.ath_sensitivity:0<Math.abs(e.athaa_sensitivity- -1)||(e.athaa_sensitivity=c.ath_sensitivity),0<c.interch&&(0!=n?e.interChRatio=c.interch:0<Math.abs(e.interChRatio- -1)||(e.interChRatio=c.interch)),0<c.safejoint&&(e.exp_nspsytune=e.exp_nspsytune|c.safejoint),0<c.sfb21mod&&(e.exp_nspsytune=e.exp_nspsytune|c.sfb21mod<<20),0!=n?e.msfix=c.msfix:0<Math.abs(e.msfix- -1)||(e.msfix=c.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=l)}var s=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function o(e,t,r){var a=t,i=n.nearestBitrateFullIndex(t);if(e.VBR=p.vbr_abr,e.VBR_mean_bitrate_kbps=a,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,320<e.VBR_mean_bitrate_kbps&&(e.disable_reservoir=!0),0<s[i].safejoint&&(e.exp_nspsytune=2|e.exp_nspsytune),0<s[i].sfscale&&(e.internal_flags.noise_shaping=2),0<Math.abs(s[i].nsbass)){var o=int(4*s[i].nsbass);o<0&&(o+=64),e.exp_nspsytune=e.exp_nspsytune|o<<2}return 0!=r?e.quant_comp=s[i].quant_comp:0<Math.abs(e.quant_comp- -1)||(e.quant_comp=s[i].quant_comp),0!=r?e.quant_comp_short=s[i].quant_comp_s:0<Math.abs(e.quant_comp_short- -1)||(e.quant_comp_short=s[i].quant_comp_s),0!=r?e.msfix=s[i].nsmsfix:0<Math.abs(e.msfix- -1)||(e.msfix=s[i].nsmsfix),0!=r?e.internal_flags.nsPsy.attackthre=s[i].st_lrm:0<Math.abs(e.internal_flags.nsPsy.attackthre- -1)||(e.internal_flags.nsPsy.attackthre=s[i].st_lrm),0!=r?e.internal_flags.nsPsy.attackthre_s=s[i].st_s:0<Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)||(e.internal_flags.nsPsy.attackthre_s=s[i].st_s),0!=r?e.scale=s[i].scale:0<Math.abs(e.scale- -1)||(e.scale=s[i].scale),0!=r?e.maskingadjust=s[i].masking_adj:0<Math.abs(e.maskingadjust-0)||(e.maskingadjust=s[i].masking_adj),0<s[i].masking_adj?0!=r?e.maskingadjust_short=.9*s[i].masking_adj:0<Math.abs(e.maskingadjust_short-0)||(e.maskingadjust_short=.9*s[i].masking_adj):0!=r?e.maskingadjust_short=1.1*s[i].masking_adj:0<Math.abs(e.maskingadjust_short-0)||(e.maskingadjust_short=1.1*s[i].masking_adj),0!=r?e.ATHlower=-s[i].ath_lower/10:0<Math.abs(10*-e.ATHlower-0)||(e.ATHlower=-s[i].ath_lower/10),0!=r?e.ATHcurve=s[i].ath_curve:0<Math.abs(e.ATHcurve- -1)||(e.ATHcurve=s[i].ath_curve),0!=r?e.interChRatio=s[i].interch:0<Math.abs(e.interChRatio- -1)||(e.interChRatio=s[i].interch),t}this.apply_preset=function(e,t,n){switch(t){case H.R3MIX:t=H.V3,e.VBR=p.vbr_mtrh;break;case H.MEDIUM:t=H.V4,e.VBR=p.vbr_rh;break;case H.MEDIUM_FAST:t=H.V4,e.VBR=p.vbr_mtrh;break;case H.STANDARD:t=H.V2,e.VBR=p.vbr_rh;break;case H.STANDARD_FAST:t=H.V2,e.VBR=p.vbr_mtrh;break;case H.EXTREME:t=H.V0,e.VBR=p.vbr_rh;break;case H.EXTREME_FAST:t=H.V0,e.VBR=p.vbr_mtrh;break;case H.INSANE:return t=320,e.preset=t,o(e,t,n),e.VBR=p.vbr_off,t}switch(e.preset=t){case H.V9:return i(e,9,n),t;case H.V8:return i(e,8,n),t;case H.V7:return i(e,7,n),t;case H.V6:return i(e,6,n),t;case H.V5:return i(e,5,n),t;case H.V4:return i(e,4,n),t;case H.V3:return i(e,3,n),t;case H.V2:return i(e,2,n),t;case H.V1:return i(e,1,n),t;case H.V0:return i(e,0,n),t}return 8<=t&&t<=320?o(e,t,n):(e.preset=0,t)}},y=new T,x=new function(){var e,t,a;this.rv=null,this.qupvt=null;var i,s=new function(){this.setModules=function(e,t){}};function o(e){this.ordinal=e}function l(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function _(e,t,n,r,a){var i;switch(e){default:case 9:0<t.over_count?(i=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(i=n.bits<t.bits)):i=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:i=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&g.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=function(e,t){for(var n,r=1e-37,a=0;a<t.psymax;a++)r+=(n=e[a],c.FAST_LOG10(.368+.632*n*n*n));return Math.max(1e-20,r)}(a,r);case 1:i=n.max_noise<t.max_noise;break;case 2:i=n.tot_noise<t.tot_noise;break;case 3:i=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:i=n.max_noise<=0&&.2<t.max_noise||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&0<t.max_noise&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||0<n.max_noise&&-.05<t.max_noise&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||0<n.max_noise&&-.1<t.max_noise&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:i=n.over_noise<t.over_noise||g.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:i=n.over_noise<t.over_noise||g.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||g.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:i=n.over_count<t.over_count||n.over_noise<t.over_noise}return 0==t.over_count&&(i=i&&n.bits<t.bits),i}function h(e,t,n,r,s){var o=e.internal_flags;!function(e,t,n,r,a){var i,s=e.internal_flags;i=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var o=0,l=0;l<t.sfbmax;l++)o<n[l]&&(o=n[l]);var f=s.noise_shaping_amp;switch(3==f&&(f=a?2:1),f){case 2:break;case 1:1<o?o=Math.pow(o,.5):o*=.95;break;case 0:default:1<o?o=1:o*=.95}var u=0;for(l=0;l<t.sfbmax;l++){var c,_=t.width[l];if(u+=_,!(n[l]<o)){if(0!=(2&s.substep_shaping)&&(s.pseudohalf[l]=0==s.pseudohalf[l]?1:0,0==s.pseudohalf[l]&&2==s.noise_shaping_amp))return;for(t.scalefac[l]++,c=-_;c<0;c++)r[u+c]*=i,r[u+c]>t.xrpow_max&&(t.xrpow_max=r[u+c]);if(2==s.noise_shaping_amp)return}}}(e,t,n,r,s);var u=l(t);return!(u||(u=2==o.mode_gr?i.scale_bitcount(t):i.scale_bitcount_lsf(o,t))&&(1<o.noise_shaping&&(f.fill(o.pseudohalf,0),0==t.scalefac_scale?(function(e,t){for(var n=0,r=0;r<e.sfbmax;r++){var i=e.width[r],s=e.scalefac[r];if(0!=e.preflag&&(s+=a.pretab[r]),n+=i,0!=(1&s)){s++;for(var o=-i;o<0;o++)t[n+o]*=1.2968395546510096,t[n+o]>e.xrpow_max&&(e.xrpow_max=t[n+o])}e.scalefac[r]=s>>1}e.preflag=0,e.scalefac_scale=1}(t,r),u=!1):t.block_type==k.SHORT_TYPE&&0<o.subblock_gain&&(u=function(e,t,n){var r,i=t.scalefac;for(r=0;r<t.sfb_lmax;r++)if(16<=i[r])return!0;for(var s=0;s<3;s++){var o=0,l=0;for(r=t.sfb_lmax+s;r<t.sfbdivide;r+=3)o<i[r]&&(o=i[r]);for(;r<t.sfbmax;r+=3)l<i[r]&&(l=i[r]);if(!(o<16&&l<8)){if(7<=t.subblock_gain[s])return!0;t.subblock_gain[s]++;var f=e.scalefac_band.l[t.sfb_lmax];for(r=t.sfb_lmax+s;r<t.sfbmax;r+=3){var u=t.width[r],c=i[r];if(0<=(c-=4>>t.scalefac_scale))i[r]=c,f+=3*u;else{i[r]=0;var _=210+(c<<t.scalefac_scale+1);p=a.IPOW20(_),f+=u*(s+1);for(var h=-u;h<0;h++)n[f+h]*=p,n[f+h]>t.xrpow_max&&(t.xrpow_max=n[f+h]);f+=u*(3-s-1)}}var p=a.IPOW20(202);for(f+=t.width[r]*(s+1),h=-t.width[r];h<0;h++)n[f+h]*=p,n[f+h]>t.xrpow_max&&(t.xrpow_max=n[f+h])}}return!1}(o,t,r)||l(t))),u||(u=2==o.mode_gr?i.scale_bitcount(t):i.scale_bitcount_lsf(o,t)),u))}this.setModules=function(n,r,o,l){e=n,t=r,this.rv=r,a=o,this.qupvt=o,i=l,s.setModules(a,i)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var r=e.tt[t][0].xr[n],a=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(r+a)*(.5*c.SQRT2),e.tt[t][1].xr[n]=(r-a)*(.5*c.SQRT2)}},this.init_xrpow=function(e,t,n){var r=0,a=0|t.max_nonzero_coeff;if(t.xrpow_max=0,f.fill(n,a,576,0),1e-20<(r=function(e,t,n,r){for(var a=r=0;a<=n;++a){var i=Math.abs(e.xr[a]);r+=i,t[a]=Math.sqrt(i*Math.sqrt(i)),t[a]>e.xrpow_max&&(e.xrpow_max=t[a])}return r}(t,n,a,r))){var i=0;0!=(2&e.substep_shaping)&&(i=1);for(var s=0;s<t.psymax;s++)e.pseudohalf[s]=i;return!0}return f.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=k.SBPSY_l,t.sfb_smin=k.SBPSY_s,t.psy_lmax=e.sfb21_extra?k.SBMAX_l:k.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var n=0;n<k.SBMAX_l;n++)t.width[n]=e.scalefac_band.l[n+1]-e.scalefac_band.l[n],t.window[n]=3;if(t.block_type==k.SHORT_TYPE){var i=r(576);t.sfb_smin=0,(t.sfb_lmax=0)!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?k.SBMAX_s:k.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(k.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var s=e.scalefac_band.l[t.sfb_lmax];for(u.arraycopy(t.xr,0,i,0,576),n=t.sfb_smin;n<k.SBMAX_s;n++)for(var o=e.scalefac_band.s[n],l=e.scalefac_band.s[n+1],c=0;c<3;c++)for(var _=o;_<l;_++)t.xr[s++]=i[3*_+c];var h=t.sfb_lmax;for(n=t.sfb_smin;n<k.SBMAX_s;n++)t.width[h]=t.width[h+1]=t.width[h+2]=e.scalefac_band.s[n+1]-e.scalefac_band.s[n],t.window[h]=0,t.window[h+1]=1,t.window[h+2]=2,h+=3}t.count1bits=0,t.sfb_partition_table=a.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,f.fill(t.scalefac,0),function(e,t){var n=e.ATH,r=t.xr;if(t.block_type!=k.SHORT_TYPE)for(var i=!1,s=k.PSFB21-1;0<=s&&!i;s--){var o=e.scalefac_band.psfb21[s],l=e.scalefac_band.psfb21[s+1],f=a.athAdjust(n.adjust,n.psfb21[s],n.floor);1e-12<e.nsPsy.longfact[21]&&(f*=e.nsPsy.longfact[21]);for(var u=l-1;o<=u;u--){if(!(Math.abs(r[u])<f)){i=!0;break}r[u]=0}}else for(var c=0;c<3;c++)for(i=!1,s=k.PSFB12-1;0<=s&&!i;s--){l=(o=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*c+(e.scalefac_band.psfb12[s]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[s+1]-e.scalefac_band.psfb12[s]);var _=a.athAdjust(n.adjust,n.psfb12[s],n.floor);for(1e-12<e.nsPsy.shortfact[12]&&(_*=e.nsPsy.shortfact[12]),u=l-1;o<=u;u--){if(!(Math.abs(r[u])<_)){i=!0;break}r[u]=0}}}(e,t)},o.BINSEARCH_NONE=new o(0),o.BINSEARCH_UP=new o(1),o.BINSEARCH_DOWN=new o(2),this.trancate_smallspectrums=function(e,t,n,s){var o=r(M.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=k.SHORT_TYPE)&&0==(128&e.substep_shaping)){a.calc_noise(t,n,o,new w,null);for(var l=0;l<576;l++){var u=0;0!=t.l3_enc[l]&&(u=Math.abs(t.xr[l])),s[l]=u}l=0;var c=8;t.block_type==k.SHORT_TYPE&&(c=6);do{var _,h,p,d,m=t.width[c];if(l+=m,!(1<=o[c]||(f.sort(s,l-m,m),g.EQ(s[l-1],0)))){_=(1-o[c])*n[c],d=h=0;do{var b;for(p=1;d+p<m&&!g.NEQ(s[d+l-m],s[d+l+p-m]);p++);if(_<(b=s[d+l-m]*s[d+l-m]*p)){0!=d&&(h=s[d+l-m-1]);break}_-=b,d+=p}while(d<m);if(!g.EQ(h,0))for(;Math.abs(t.xr[l-m])<=h&&(t.l3_enc[l-m]=0),0<--m;);}}while(++c<t.psymax);t.part2_3_length=i.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,s,l,f,c){var d=e.internal_flags,m=new R,b=r(576),v=r(M.SFBMAX),g=new w,y=new function(){this.global_gain=0,this.sfb_count1=0,this.step=n(39),this.noise=r(39),this.noise_log=r(39)},x=9999999,S=!1,A=!1,T=0;if(function(e,t,n,r,a){var s,l=e.CurrentStep[r],f=!1,u=e.OldValue[r],c=o.BINSEARCH_NONE;for(t.global_gain=u,n-=t.part2_length;;){var _;if(s=i.count_bits(e,a,t,null),1==l||s==n)break;n<s?(c==o.BINSEARCH_DOWN&&(f=!0),f&&(l/=2),c=o.BINSEARCH_UP,_=l):(c==o.BINSEARCH_UP&&(f=!0),f&&(l/=2),c=o.BINSEARCH_DOWN,_=-l),t.global_gain+=_,t.global_gain<0&&(f=!(t.global_gain=0)),255<t.global_gain&&(t.global_gain=255,f=!0)}for(;n<s&&t.global_gain<255;)t.global_gain++,s=i.count_bits(e,a,t,null);e.CurrentStep[r]=4<=u-t.global_gain?4:2,e.OldValue[r]=t.global_gain,t.part2_3_length=s}(d,t,c,f,l),0==d.noise_shaping)return 100;a.calc_noise(t,s,v,g,y),g.bits=t.part2_3_length,m.assign(t);var E=0;for(u.arraycopy(l,0,b,0,576);!S;){do{var B,P=new w,N=255;if(B=0!=(2&d.substep_shaping)?20:3,d.sfb21_extra){if(1<v[m.sfbmax])break;if(m.block_type==k.SHORT_TYPE&&(1<v[m.sfbmax+1]||1<v[m.sfbmax+2]))break}if(!h(e,m,v,l,A))break;0!=m.scalefac_scale&&(N=254);var H=c-m.part2_length;if(H<=0)break;for(;(m.part2_3_length=i.count_bits(d,l,m,y))>H&&m.global_gain<=N;)m.global_gain++;if(m.global_gain>N)break;if(0==g.over_count){for(;(m.part2_3_length=i.count_bits(d,l,m,y))>x&&m.global_gain<=N;)m.global_gain++;if(m.global_gain>N)break}if(a.calc_noise(m,s,v,P,y),P.bits=m.part2_3_length,0!=(_(t.block_type!=k.SHORT_TYPE?e.quant_comp:e.quant_comp_short,g,P,m,v)?1:0))x=t.part2_3_length,g=P,t.assign(m),E=0,u.arraycopy(l,0,b,0,576);else if(0==d.full_outer_loop){if(++E>B&&0==g.over_count)break;if(3==d.noise_shaping_amp&&A&&30<E)break;if(3==d.noise_shaping_amp&&A&&15<m.global_gain-T)break}}while(m.global_gain+m.scalefac_scale<255);3==d.noise_shaping_amp?A?S=!0:(m.assign(t),u.arraycopy(b,0,l,0,576),E=0,T=m.global_gain,A=!0):S=!0}return e.VBR==p.vbr_rh||e.VBR==p.vbr_mtrh?u.arraycopy(b,0,l,0,576):0!=(1&d.substep_shaping)&&trancate_smallspectrums(d,t,s,l),g.over_count},this.iteration_finish_one=function(e,n,r){var a=e.l3_side,s=a.tt[n][r];i.best_scalefac_store(e,n,r,a),1==e.use_best_huffman&&i.best_huffman_divide(e,s),t.ResvAdjust(e,s)},this.VBR_encode_granule=function(e,t,n,a,i,s,o){var l,c=e.internal_flags,_=new R,h=r(576),p=o,d=o+1,m=(o+s)/2,b=0,v=c.sfb21_extra;for(f.fill(_.l3_enc,0);c.sfb21_extra=!(p-42<m)&&v,outer_loop(e,t,n,a,i,m)<=0?(b=1,d=t.part2_3_length,_.assign(t),u.arraycopy(a,0,h,0,576),l=(o=d-32)-s,m=(o+s)/2):(l=o-(s=m+32),m=(o+s)/2,0!=b&&(b=2,t.assign(_),u.arraycopy(h,0,a,0,576))),12<l;);c.sfb21_extra=v,2==b&&u.arraycopy(_.l3_enc,0,t.l3_enc,0,576)},this.get_framebits=function(n,r){var a=n.internal_flags;a.bitrate_index=a.VBR_min_bitrate;var i=e.getframebits(n);a.bitrate_index=1,i=e.getframebits(n);for(var s=1;s<=a.VBR_max_bitrate;s++){a.bitrate_index=s;var o=new S(i);r[s]=t.ResvFrameBegin(n,o),i=o.bits}},this.VBR_old_prepare=function(e,n,r,i,s,o,l,f,u){var c,_=e.internal_flags,h=0,p=1,d=0;_.bitrate_index=_.VBR_max_bitrate;var m=t.ResvFrameBegin(e,new S(0))/_.mode_gr;get_framebits(e,o);for(var b=0;b<_.mode_gr;b++){var v=a.on_pe(e,n,f[b],m,b,0);_.mode_ext==k.MPG_MD_MS_LR&&(ms_convert(_.l3_side,b),a.reduce_side(f[b],r[b],m,v));for(var g=0;g<_.channels_out;++g){var y=_.l3_side.tt[b][g];y.block_type!=k.SHORT_TYPE?(h=1.28/(1+Math.exp(3.5-n[b][g]/300))-.05,c=_.PSY.mask_adjust-h):(h=2.56/(1+Math.exp(3.5-n[b][g]/300))-.14,c=_.PSY.mask_adjust_short-h),_.masking_lower=Math.pow(10,.1*c),init_outer_loop(_,y),u[b][g]=a.calc_xmin(e,i[b][g],y,s[b][g]),0!=u[b][g]&&(p=0),l[b][g]=126,d+=f[b][g]}}for(b=0;b<_.mode_gr;b++)for(g=0;g<_.channels_out;g++)d>o[_.VBR_max_bitrate]&&(f[b][g]*=o[_.VBR_max_bitrate],f[b][g]/=d),l[b][g]>f[b][g]&&(l[b][g]=f[b][g]);return p},this.bitpressure_strategy=function(e,t,n,r){for(var a=0;a<e.mode_gr;a++)for(var i=0;i<e.channels_out;i++){for(var s=e.l3_side.tt[a][i],o=t[a][i],l=0,f=0;f<s.psy_lmax;f++)o[l++]*=1+.029*f*f/k.SBMAX_l/k.SBMAX_l;if(s.block_type==k.SHORT_TYPE)for(f=s.sfb_smin;f<k.SBMAX_s;f++)o[l++]*=1+.029*f*f/k.SBMAX_s/k.SBMAX_s,o[l++]*=1+.029*f*f/k.SBMAX_s/k.SBMAX_s,o[l++]*=1+.029*f*f/k.SBMAX_s/k.SBMAX_s;r[a][i]=0|Math.max(n[a][i],.9*r[a][i])}},this.VBR_new_prepare=function(e,n,r,i,s,o){var l,f=e.internal_flags,u=1,c=0,_=0;if(e.free_format)f.bitrate_index=0,h=new S(c),l=t.ResvFrameBegin(e,h),c=h.bits,s[0]=l;else{f.bitrate_index=f.VBR_max_bitrate;var h=new S(c);t.ResvFrameBegin(e,h),c=h.bits,get_framebits(e,s),l=s[f.VBR_max_bitrate]}for(var p=0;p<f.mode_gr;p++){a.on_pe(e,n,o[p],c,p,0),f.mode_ext==k.MPG_MD_MS_LR&&ms_convert(f.l3_side,p);for(var d=0;d<f.channels_out;++d){var m=f.l3_side.tt[p][d];f.masking_lower=Math.pow(10,.1*f.PSY.mask_adjust),init_outer_loop(f,m),0!=a.calc_xmin(e,r[p][d],m,i[p][d])&&(u=0),_+=o[p][d]}}for(p=0;p<f.mode_gr;p++)for(d=0;d<f.channels_out;d++)l<_&&(o[p][d]*=l,o[p][d]/=_);return u},this.calc_target_bits=function(n,r,i,s,o,l){var f,u,c,_,h=n.internal_flags,p=h.l3_side,d=0;h.bitrate_index=h.VBR_max_bitrate;var m=new S(d);for(l[0]=t.ResvFrameBegin(n,m),d=m.bits,h.bitrate_index=1,d=e.getframebits(n)-8*h.sideinfo_len,o[0]=d/(h.mode_gr*h.channels_out),d=n.VBR_mean_bitrate_kbps*n.framesize*1e3,0!=(1&h.substep_shaping)&&(d*=1.09),d/=n.out_samplerate,d-=8*h.sideinfo_len,d/=h.mode_gr*h.channels_out,(f=.93+.07*(11-n.compression_ratio)/5.5)<.9&&(f=.9),1<f&&(f=1),u=0;u<h.mode_gr;u++){var b=0;for(c=0;c<h.channels_out;c++){if(s[u][c]=int(f*d),700<r[u][c]){var v=int((r[u][c]-700)/1.4),g=p.tt[u][c];s[u][c]=int(f*d),g.block_type==k.SHORT_TYPE&&v<d/2&&(v=d/2),3*d/2<v?v=3*d/2:v<0&&(v=0),s[u][c]+=v}s[u][c]>P.MAX_BITS_PER_CHANNEL&&(s[u][c]=P.MAX_BITS_PER_CHANNEL),b+=s[u][c]}if(P.MAX_BITS_PER_GRANULE<b)for(c=0;c<h.channels_out;++c)s[u][c]*=P.MAX_BITS_PER_GRANULE,s[u][c]/=b}if(h.mode_ext==k.MPG_MD_MS_LR)for(u=0;u<h.mode_gr;u++)a.reduce_side(s[u],i[u],d*h.channels_out,P.MAX_BITS_PER_GRANULE);for(u=_=0;u<h.mode_gr;u++)for(c=0;c<h.channels_out;c++)s[u][c]>P.MAX_BITS_PER_CHANNEL&&(s[u][c]=P.MAX_BITS_PER_CHANNEL),_+=s[u][c];if(_>l[0])for(u=0;u<h.mode_gr;u++)for(c=0;c<h.channels_out;c++)s[u][c]*=l[0],s[u][c]/=_}},A=new v,E=new function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}},B=new function(){this.setModules=function(e,t){}},N=new function(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r,a=t.internal_flags,i=a.l3_side,s=e.getframebits(t);n.bits=(s-8*a.sideinfo_len)/a.mode_gr;var o=2048*a.mode_gr-8;320<t.brate?r=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(r=11520,t.strict_ISO&&(r=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=r-s,a.ResvMax>o&&(a.ResvMax=o),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0);var l=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return r<l&&(l=r),i.resvDrain_pre=0,null!=a.pinfo&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),l},this.ResvMaxBits=function(e,t,n,r){var a,i=e.internal_flags,s=i.ResvSize,o=i.ResvMax;0!=r&&(s+=t),0!=(1&i.substep_shaping)&&(o*=.9),n.bits=t,9*o<10*s?(a=s-9*o/10,n.bits+=a,i.substep_shaping|=128):(a=0,i.substep_shaping&=127,e.disable_reservoir||0!=(1&i.substep_shaping)||(n.bits-=.1*t));var l=s<6*i.ResvMax/10?s:6*i.ResvMax/10;return(l-=a)<0&&(l=0),l},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,r=e.l3_side;e.ResvSize+=t*e.mode_gr;var a=0;r.resvDrain_post=0,(r.resvDrain_pre=0)!=(n=e.ResvSize%8)&&(a+=n),0<(n=e.ResvSize-a-e.ResvMax)&&(a+=n);var i=Math.min(8*r.main_data_begin,a)/8;r.resvDrain_pre+=8*i,a-=8*i,e.ResvSize-=8*i,r.main_data_begin-=i,r.resvDrain_post+=a,e.ResvSize-=a}},L=new m,D=new function(){this.setModules=function(e,t,n){}},C=new function(){};s.setModules(l,_,h,y,x,A,E,B,C),_.setModules(l,C,E,A),B.setModules(_,E),h.setModules(s),x.setModules(_,N,y,L),y.setModules(L,N,s.enc.psy),N.setModules(_),L.setModules(y),A.setModules(s,_,E),o.setModules(D,C),D.setModules(E,B,h);var O=s.lame_init();O.num_channels=e,O.in_samplerate=a,O.out_samplerate=a,O.brate=i,O.mode=d.STEREO,O.quality=3,O.bWriteVbrTag=!1,O.disable_reservoir=!0,O.write_id3tag_automatic=!1,s.lame_init_params(O);var I=1152,q=0|1.25*I+7200,V=t(q);this.encodeBuffer=function(n,r){1==e&&(r=n),n.length>I&&(I=n.length,V=t(q=0|1.25*I+7200));var a=s.lame_encode_buffer(O,n,r,n.length,V,0,q);return new Int8Array(V.subarray(0,a))},this.flush=function(){var e=s.lame_encode_flush(O,V,0,q);return new Int8Array(V.subarray(0,e))}},e.WavHeader=L}e(),Recorder.lamejs=e}()},lzAF:function(e,t,n){var r=n("Y7ZC");r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},pzx0:function(e,t,n){e.exports={default:n("WXOj"),__esModule:!0}},v8yg:function(e,t,n){"use strict";var r=n("pzx0"),a=n.n(r);!function(e){e.RecorderLM="2019-01-06 21:38:00";var t=function(){};function n(e){return new r(e)}function r(e){var n={type:"mp3",bitRate:16,sampleRate:16e3,bufferSize:4096,onProcess:t};for(var r in e)n[r]=e[r];this.set=n}n.IsOpen=function(){var e=n.Stream;if(e){var t=e.getTracks();if(t.length>0)return"live"==t[0].readyState}return!1},n.Support=function(){var t=e.AudioContext;if(t||(t=e.webkitAudioContext),!t)return!1;var r=navigator.mediaDevices||{};return r.getUserMedia||(r=navigator).getUserMedia||(r.getUserMedia=r.webkitGetUserMedia||r.mozGetUserMedia||r.msGetUserMedia),!!r.getUserMedia&&(n.Scope=r,n.Ctx&&"closed"!=n.Ctx.state||(n.Ctx=new t),!0)},n.prototype=r.prototype={open:function(e,r){if(e=e||t,r=r||t,n.IsOpen())e();else if(n.Support()){var a=function(t){n.Stream=t,e()},i=function(e){var t=e.name||e.message||"";console.error(e);var n=/Permission|Allow/i.test(t);r(n?"ç¨æ·æç»äºå½é³æé":"æ æ³å½é³ï¼"+t,n)},s=n.Scope.getUserMedia({audio:!0},a,i);s&&s.then&&s.then(a).catch(i)}else r("æ­¤æµè§å¨ä¸æ¯æå½é³",!1)},close:function(e){e=e||t;this._stop();var r=n.Stream;if(r)for(var a=r.getTracks(),i=0;i<a.length;i++)a[i].stop();n.Stream=0,e()},start:function(){var e=this,t=n.Ctx;e.buffer=[];e.recSize=0,e._stop(),e.state=0,n.IsOpen()&&(console.log("["+Date.now()+"]Start"),e.srcSampleRate=t.sampleRate,e.isMock=0,"suspended"==t.state?t.resume().then(function(){console.log("ctx resume"),e._start()}):e._start())},_start:function(){var e,t=this,r=t.set,i=t.buffer,s=n.Ctx,o=t.media=s.createMediaStreamSource(n.Stream),l=t.process=(s.createScriptProcessor||s.createJavaScriptNode).call(s,r.bufferSize,1,1);l.onaudioprocess=function(n){if(1==t.state){var s=n.inputBuffer.getChannelData(0),o=s.length;t.recSize+=o;for(var l,f=new Int16Array(o),u=0,c=0;c<o;c++){var _=Math.max(-1,Math.min(1,s[c]));_=_<0?32768*_:32767*_,f[c]=_,u+=Math.abs(_)}i.push(f),l=(u/=o)<1251?Math.round(u/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+a()(u/1e4)))));var h=t.srcSampleRate,p=Math.round(t.recSize/h*1e3);clearTimeout(e),e=setTimeout(function(){r.onProcess(i,l,p,h)})}},o.connect(l),l.connect(s.destination),t.state=1},_stop:function(){this.state&&(this.state=0,this.media.disconnect(),this.process.disconnect())},pause:function(e){this.state&&(this.state=e||2)},resume:function(){this.pause(1)},mock:function(e,t){return this.isMock=1,this.buffer=[e],this.recSize=e.length,this.srcSampleRate=t,this},stop:function(e,n){console.log("["+Date.now()+"]Stop"),e=e||t,n=n||t;var r=this,a=r.set;if(!r.isMock){if(!r.state)return void n("æªå¼å§å½é³");r._stop()}var i=r.recSize;if(i){var s=a.sampleRate,o=r.srcSampleRate,l=o/s;l>1?i=Math.floor(i/l):(l=1,s=o,a.sampleRate=s);for(var f=new Int16Array(i),u=0,c=0,_=0,h=r.buffer.length;_<h;_++){for(var p=r.buffer[_],d=u,m=p.length;d<m;)f[c]=p[Math.round(d)],c++,d+=l;u=d-m}var b=Math.round(i/s*1e3),v=a.type;setTimeout(function(){var t=Date.now();r[v](f,function(n){console.log("["+Date.now()+"]End",n,b,"ç¼ç èæ¶:"+(Date.now()-t)),e(n,b)},function(e){n(e)})})}else n("æªééå°å½é³")}},e.Recorder=n}(window)}}]);